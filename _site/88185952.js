import{g as e}from"./d45984a3.js";import{g as r}from"./24c57689.js";function t(e,t){if(t?.decimalSeparator)return t.decimalSeparator;const n=r(e);return Intl.NumberFormat(n,{style:"decimal",minimumFractionDigits:1}).format(1)[1]}function n(e){return 160===e.charCodeAt(0)||8239===e.charCodeAt(0)?" ":e}function u(e,t){if(t&&t.groupSeparator)return t.groupSeparator;const u=r(e);return n(Intl.NumberFormat(u,{style:"decimal",minimumFractionDigits:0}).format(1e4)[2])}function o(e){if("currency"===e[0].type){const r=e.splice(0,1),t=e.splice(0,1);e.push(t[0]),e.push(r[0])}else if("minusSign"===e[0].type&&"currency"===e[1].type){const r=e.splice(1,1),t=e.splice(1,1);e.push(t[0]),e.push(r[0])}return e}const c={EUR:"€",USD:"$",JPY:"¥"};function s(e,{currency:r,currencyDisplay:t}={},n){const u=e;return e.length>1&&"symbol"===t&&r&&n.includes(r)&&e.forEach((e,t)=>{"currency"===e.type&&Object.keys(c).includes(r)&&(u[t].value=c[r])}),u}function a(e,r={},t){let a=function(e){const r=[];return e.forEach(e=>{r.push({type:e.type,value:n(e.value)})}),r}(e);return"currency"===r.style&&("code"===r.currencyDisplay&&"nl"===t.slice(0,2)&&(a=o(a)),"bg-BG"===t&&(a=function(e,r){let t,n,u=[];for(let r=0;r<e.length;r+=1)"integer"===e[r].type&&e[r].value.length>3&&(t=e.splice(0,r),n=e.splice(0,1));if(void 0===n)return e;{const o=n[0].value.length,c=o%3,s=Math.floor(o/3),a=[];let l=0,p="",i=!1;for(let e=0;e<o;e+=1)p+=n[0].value[e],p.length===c&&!1===i?(a.push({type:"integer",value:p}),o>3&&a.push({type:"group",value:r}),p="",i=!0):3===p.length&&e<o-1&&(l+=1,a.push({type:"integer",value:p}),l!==s&&a.push({type:"group",value:r}),p="");a.push({type:"integer",value:p}),t&&(u=t.concat(a,e))}return u}(a,u()),a=function(e){return e.map(e=>("group"===e.type&&"0"===e.value&&(e.value=" "),e))}(a)),"en-GB"!==t&&"en-US"!==t&&"en-AU"!==t&&"en-PH"!==t||(a=function(e,{currency:r,currencyDisplay:t}={}){const n=e.length,u={type:"literal",value:" "};return n>1&&r&&"code"===t&&("currency"===e[0].type&&"literal"!==e[1].type?e.splice(1,0,u):"minusSign"===e[0].type&&"currency"===e[1].type&&"literal"!==e[2].type?e.splice(2,0,u):"currency"===e[n-1].type&&"literal"!==e[n-2].type&&e.splice(n-1,0,u)),e}(a,r)),"en-AU"===t&&(a=s(a,r,["EUR","USD","JPY"]),a=function(e,{currency:r,currencyDisplay:t}={}){const n=e;return e.length>1&&"symbol"===t&&r&&e.forEach((e,r)=>{"literal"===e.type&&(n[r].value="")}),n}(a,r)),"en-PH"===t&&(a=s(a,r,["USD","JPY"])),"fr-FR"!==t&&"fr-BE"!==t||(a=s(a,r,["JPY"])),"fr-BE"===t&&(a=function(e,{currency:r,currencyDisplay:t}={},n){const u=e;return e.length>1&&"symbol"===t&&r&&n.includes(r)&&e.forEach((e,t)=>{"currency"===e.type&&Object.keys(c).includes(r)&&(u[t].value="$US")}),u}(a,r,["USD"])),"tr-TR"===t&&(a=function(e,{currency:r,currencyDisplay:t}={}){const n=e;return"TRY"===r&&"code"===t&&n.map(e=>{const r=e;return"currency"===e.type&&(r.value="TL"),r}),n}(a,r),"code"===r.currencyDisplay&&(a=o(a)))),a}function l(o,c={}){let s="string"==typeof o?parseFloat(o):o;const l=r(c&&c.locale);if(Number.isNaN(s))return function(r){const t=e();return r||t.formatNumberOptions.returnIfNaN}(c&&c.returnIfNaN);c&&c.roundMode&&(s=function(e,r){switch(r){case"floor":return Math.floor(e);case"ceiling":return Math.ceil(e);case"round":return Math.round(e);default:throw new Error("roundMode can only be round|floor|ceiling")}}(o,c.roundMode));let p=[];const i=Intl.NumberFormat(l,c).format(s),{decimalSeparator:y,groupSeparator:f}=function(e,r,t){const n=/[0-9](?<sep>[\s,. _ '])[0-9]/g,u=[];let o;for(;null!==(o=n.exec(r));)o.groups&&o.groups.sep&&u.push(o.groups?.sep);let c=null,s=null;u&&(1===u.length?r.split(u[0])[1].replace(/[^0-9]/g,"").length>=3&&(e>=1e3||e<=-1e3||t?.minimumIntegerDigits&&t.minimumIntegerDigits>3)?[c]=u:[s]=u:u.every(e=>e===u[0])?[c]=u:([c]=u,s=u[u.length-1]));return{groupSeparator:c,decimalSeparator:s}}(s,i,c),h=/[.,\s0-9 _ ]/,m=/[-]/,g=/[0-9]/,d=/[\s]/;let v="",b="",S=!1,N=!1;const D=u(l,c),E=t(l,c);if(y&&f&&D===E)throw new Error(`Decimal and group (thousand) separator are the same character: '${D}'.\nThis can happen due to both props being specified as the same, or one of the props being the same as the other one from default locale.\nPlease specify .groupSeparator / .decimalSeparator on the formatOptions object to be different.`);for(let e=0;e<i.length;e+=1){if(m.test(i[e])&&p.push({type:"minusSign",value:"−"}),g.test(i[e])&&(b+=i[e]),h.test(i[e])||m.test(i[e])||(v+=i[e]),h.test(i[e])&&v&&(p.push({type:"currency",value:v}),v=""),i[e]===f&&i[e-1].match(g)&&i[e+1].match(g)&&(b&&(p.push({type:"integer",value:b}),b=""),p.push({type:"group",value:D}),N=!0),i[e]===y&&(b&&(p.push({type:"integer",value:b}),b=""),p.push({type:"decimal",value:E}),S=!0),d.test(i[e])){const r=!!b;b&&!S?(p.push({type:"integer",value:b}),b=""):b&&(p.push({type:"fraction",value:b}),b=""),n(i[e])===D&&r&&!S?p.push({type:"group",value:i[e]}):N||p.push({type:"literal",value:i[e]})}N=!1,!0===S&&e===i.length-1?b&&p.push({type:"fraction",value:b}):e===i.length-1&&b&&p.push({type:"integer",value:b}),e===i.length-1&&v&&(p.push({type:"currency",value:v}),v="")}return p=a(p,c,l),p}function p(t,n={}){const u=e();if(null==t)return"";const o=l(t,n);if(o===n.returnIfNaN||o===u.formatNumberOptions.returnIfNaN)return o;let c="";const s=o?o.length:0;for(let e=0;e<s;e+=1){const r=o[e];c+=r.value}const a=r(n&&n.locale);return u.formatNumberOptions.postProcessors.size>0&&Array.from(u.formatNumberOptions.postProcessors).forEach(([e,r])=>{e===a&&(c=r(c))}),n.postProcessors&&n.postProcessors.size>0&&Array.from(n.postProcessors).forEach(([e,r])=>{e===a&&(c=r(c))}),c}export{p as a,l as f,t as g};
