const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/bg-BG.Bnnvf1Bg.js","_astro/bg.cAbNsgR2.js","_astro/cs-CZ.jxUu1MQ0.js","_astro/cs.CyY5t3iC.js","_astro/de-DE.BnzYNJbg.js","_astro/de.ou-f7rT6.js","_astro/en-AU.DameL28B.js","_astro/en.BDwGjUbD.js","_astro/en-GB.DameL28B.js","_astro/en-US.DameL28B.js","_astro/es-ES.CtV3JndG.js","_astro/es.io24htAk.js","_astro/fr-FR.BboN4Rha.js","_astro/fr.DfYBrNY0.js","_astro/fr-BE.BboN4Rha.js","_astro/hu-HU.CGTUtYCS.js","_astro/hu.BbaKgWJP.js","_astro/it-IT.1RI6S2uH.js","_astro/it.v6QT23uy.js","_astro/nl-BE.B42ELDSD.js","_astro/nl.Dc1cf0_P.js","_astro/nl-NL.B42ELDSD.js","_astro/pl-PL.BaaL7tUx.js","_astro/pl.BCWtIbf3.js","_astro/ro-RO.D0dOcG7n.js","_astro/ro.CO9JRaxM.js","_astro/ru-RU.Dwn5zlRa.js","_astro/ru.Dp9gfP09.js","_astro/sk-SK.aEOlEyfw.js","_astro/sk.BGEXiDbG.js","_astro/uk-UA.Cvel3gYC.js","_astro/uk.B-cbhpbu.js"])))=>i.map(i=>d[i]);
import{P as i}from"./PhoneUtilManager.DkvpFzJF.js";import{f as a,l as u}from"./preprocessors.BqZFnKWs.js";import{P as l}from"./loadDefaultFeedbackMessages.BQgeO4Ka.js";import{_ as e}from"./preload-helper.4zY6-HO4.js";import{L as c}from"./LocalizeMixin.VYu75dkK.js";import{L as d}from"./LionInput.DRpWIRa3.js";import{U as h}from"./InteractionStateMixin.BzvQ4Mf0.js";function p(_,{regionCode:t}){if(!i.isLoaded)return _;const r=i.PhoneUtil,o=/[+0-9]+/gi,n=_.match(o)?.join("");let s;try{s=r.parsePhoneNumber(n,{regionCode:t})}catch{}return s?.number?s.number.e164:_}const m=_=>{switch(_){case"bg-BG":return e(()=>import("./bg-BG.Bnnvf1Bg.js"),__vite__mapDeps([0,1]));case"bg":return e(()=>import("./bg.cAbNsgR2.js"),[]);case"cs-CZ":return e(()=>import("./cs-CZ.jxUu1MQ0.js"),__vite__mapDeps([2,3]));case"cs":return e(()=>import("./cs.CyY5t3iC.js"),[]);case"de-DE":return e(()=>import("./de-DE.BnzYNJbg.js"),__vite__mapDeps([4,5]));case"de":return e(()=>import("./de.ou-f7rT6.js"),[]);case"en-AU":return e(()=>import("./en-AU.DameL28B.js"),__vite__mapDeps([6,7]));case"en-GB":return e(()=>import("./en-GB.DameL28B.js"),__vite__mapDeps([8,7]));case"en-US":return e(()=>import("./en-US.DameL28B.js"),__vite__mapDeps([9,7]));case"en-PH":case"en":return e(()=>import("./en.BDwGjUbD.js"),[]);case"es-ES":return e(()=>import("./es-ES.CtV3JndG.js"),__vite__mapDeps([10,11]));case"es":return e(()=>import("./es.io24htAk.js"),[]);case"fr-FR":return e(()=>import("./fr-FR.BboN4Rha.js"),__vite__mapDeps([12,13]));case"fr-BE":return e(()=>import("./fr-BE.BboN4Rha.js"),__vite__mapDeps([14,13]));case"fr":return e(()=>import("./fr.DfYBrNY0.js"),[]);case"hu-HU":return e(()=>import("./hu-HU.CGTUtYCS.js"),__vite__mapDeps([15,16]));case"hu":return e(()=>import("./hu.BbaKgWJP.js"),[]);case"it-IT":return e(()=>import("./it-IT.1RI6S2uH.js"),__vite__mapDeps([17,18]));case"it":return e(()=>import("./it.v6QT23uy.js"),[]);case"nl-BE":return e(()=>import("./nl-BE.B42ELDSD.js"),__vite__mapDeps([19,20]));case"nl-NL":return e(()=>import("./nl-NL.B42ELDSD.js"),__vite__mapDeps([21,20]));case"nl":return e(()=>import("./nl.Dc1cf0_P.js"),[]);case"pl-PL":return e(()=>import("./pl-PL.BaaL7tUx.js"),__vite__mapDeps([22,23]));case"pl":return e(()=>import("./pl.BCWtIbf3.js"),[]);case"ro-RO":return e(()=>import("./ro-RO.D0dOcG7n.js"),__vite__mapDeps([24,25]));case"ro":return e(()=>import("./ro.CO9JRaxM.js"),[]);case"ru-RU":return e(()=>import("./ru-RU.Dwn5zlRa.js"),__vite__mapDeps([26,27]));case"ru":return e(()=>import("./ru.Dp9gfP09.js"),[]);case"sk-SK":return e(()=>import("./sk-SK.aEOlEyfw.js"),__vite__mapDeps([28,29]));case"sk":return e(()=>import("./sk.BGEXiDbG.js"),[]);case"uk-UA":return e(()=>import("./uk-UA.Cvel3gYC.js"),__vite__mapDeps([30,31]));case"uk":return e(()=>import("./uk.B-cbhpbu.js"),[]);case"zh-CN":case"zh":return e(()=>import("./zh.CmwSrkd3.js"),[]);default:return e(()=>import("./en.BDwGjUbD.js"),[])}};class V extends c(d){static properties={allowedRegions:{type:Array},formatStrategy:{type:String,attribute:"format-strategy"},formatCountryCodeStyle:{type:String,attribute:"format-country-code-style"},activeRegion:{type:String},preferredRegions:{type:Array},_phoneUtil:{type:Object,state:!0}};static localizeNamespaces=[{"lion-input-tel":m},...super.localizeNamespaces];get activeRegion(){return this.__activeRegion}set activeRegion(t){}get activePhoneNumberType(){let t;try{t=this._phoneUtil&&this._phoneUtil.parsePhoneNumber(this.modelValue,{regionCode:this.activeRegion})}catch{}return t?.type||"unknown"}set activePhoneNumberType(t){}_setActiveRegion(t){const r=this.activeRegion;this.__activeRegion=t,this.requestUpdate("activeRegion",r)}get _allowedOrAllRegions(){return(this.allowedRegions?.length?this.allowedRegions:this._phoneUtil?.getSupportedRegionCodes())||[]}get _phoneUtilLoadComplete(){return i.loadComplete}get fieldName(){return this._localizeManager.msg("lion-input-tel:phoneNumber")}constructor(){super(),this.formatStrategy="international",this.formatCountryCodeStyle="default",this.allowedRegions=[],this.preferredRegions=[],this.__isPhoneNumberValidatorInstance=new l,this.defaultValidators.push(this.__isPhoneNumberValidatorInstance),this._phoneUtil=i.isLoaded?i.PhoneUtil:null,i.isLoaded||i.loadComplete.then(()=>{this._onPhoneNumberUtilReady()})}firstUpdated(t){super.firstUpdated(t),this._inputNode.inputMode="tel"}updated(t){super.updated(t),t.has("activeRegion")&&(this.__isUpdatingRegionWhileFocused=this.focused,this._calculateValues({source:null}),this.__isUpdatingRegionWhileFocused=!1,this.__isPhoneNumberValidatorInstance.param=this.activeRegion,this.formatOptions.regionCode=this.activeRegion),t.has("formatStrategy")&&(this._calculateValues({source:null}),this.formatOptions.formatStrategy=this.formatStrategy),t.has("formatCountryCodeStyle")&&(this._calculateValues({source:null}),this.formatOptions.formatCountryCodeStyle=this.formatCountryCodeStyle),(t.has("modelValue")||t.has("allowedRegions"))&&this.__calculateActiveRegion()}onLocaleUpdated(){super.onLocaleUpdated();const t=this._localizeManager.locale.split("-");this._langIso=t[t.length-1].toUpperCase(),this.__calculateActiveRegion()}formatter(t){return a(t,{regionCode:this.activeRegion,formatStrategy:this.formatStrategy,formatCountryCodeStyle:this.formatCountryCodeStyle})}parser(t){return p(t,{regionCode:this.activeRegion})}preprocessor(t,{currentCaretIndex:r,prevViewValue:o}){return u(t,{regionCode:this.activeRegion,formatStrategy:this.formatStrategy,formatCountryCodeStyle:this.formatCountryCodeStyle,currentCaretIndex:r,prevViewValue:o})}_reflectBackOn(){return!this.__isUpdatingRegionWhileFocused&&super._reflectBackOn()}_onPhoneNumberUtilReady(){this._phoneUtil=i.PhoneUtil,this._calculateValues({source:null}),this.__calculateActiveRegion()}__calculateActiveRegion(){if(this.allowedRegions?.length===1){this._setActiveRegion(this.allowedRegions[0]);return}const t=/[+0-9]+/gi,r=this.modelValue instanceof h?this.value.match(t)?.join(""):this.modelValue,o=r&&this._phoneUtil&&this._phoneUtil.parsePhoneNumber(r).regionCode;if(o&&this._allowedOrAllRegions.includes(o)){this._setActiveRegion(o);return}if(this.preferredRegions?.length>0){this._setActiveRegion(this.preferredRegions[0]);return}if(this._langIso&&this._allowedOrAllRegions.includes(this._langIso)){this._setActiveRegion(this._langIso);return}this._setActiveRegion(void 0)}}export{V as L};
