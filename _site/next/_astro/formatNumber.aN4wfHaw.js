import{g as C}from"./getLocalizeManager.W5d_ICRU.js";import{g as b}from"./getLocale.PZ4ia-vo.js";function A(e){const r=C();return e||r.formatNumberOptions.returnIfNaN}function I(e,r,u){const t=/[0-9](?<sep>[\s,. _ '])[0-9]/g,n=[];let c;for(;(c=t.exec(r))!==null;)c.groups&&c.groups.sep&&n.push(c.groups?.sep);let s=null,a=null;return n&&(n.length===1?r.split(n[0])[1].replace(/[^0-9]/g,"").length>=3&&(e>=1e3||e<=-1*1e3||u?.minimumIntegerDigits&&u.minimumIntegerDigits>3)?[s]=n:[a]=n:n.every(l=>l===n[0])?[s]=n:([s]=n,a=n[n.length-1])),{groupSeparator:s,decimalSeparator:a}}function L(e,r){if(r?.decimalSeparator)return r.decimalSeparator;const u=b(e);return Intl.NumberFormat(u,{style:"decimal",minimumFractionDigits:1}).format(1)[1]}function d(e){return e.charCodeAt(0)===160||e.charCodeAt(0)===8239?" ":e}function D(e,r){if(r&&r.groupSeparator)return r.groupSeparator;const u=b(e),t=Intl.NumberFormat(u,{style:"decimal",minimumFractionDigits:0}).format(1e4);return d(t[2])}function U(e,r){let u=[],t,n;for(let c=0;c<e.length;c+=1)e[c].type==="integer"&&e[c].value.length>3&&(t=e.splice(0,c),n=e.splice(0,1));if(n!==void 0){const c=n[0].value.length,s=c%3,a=Math.floor(c/3),l=[];let g=0,f="",y=!1;for(let p=0;p<c;p+=1)f+=n[0].value[p],f.length===s&&y===!1?(l.push({type:"integer",value:f}),c>3&&l.push({type:"group",value:r}),f="",y=!0):f.length===3&&p<c-1&&(g+=1,l.push({type:"integer",value:f}),g!==a&&l.push({type:"group",value:r}),f="");l.push({type:"integer",value:f}),t&&(u=t.concat(l,e))}else return e;return u}function O(e){if(e[0].type==="currency"){const r=e.splice(0,1),u=e.splice(0,1);e.push(u[0]),e.push(r[0])}else if(e[0].type==="minusSign"&&e[1].type==="currency"){const r=e.splice(1,1),u=e.splice(1,1);e.push(u[0]),e.push(r[0])}return e}function F(e,{currency:r,currencyDisplay:u}={}){const t=e;return e.length>1&&u==="symbol"&&r&&e.forEach((n,c)=>{n.type==="literal"&&(t[c].value="")}),t}function w(e){const r=[];return e.forEach(u=>{r.push({type:u.type,value:d(u.value)})}),r}function z(e,{currency:r,currencyDisplay:u}={}){const t=e.length,n={type:"literal",value:" "};return t>1&&r&&u==="code"&&(e[0].type==="currency"&&e[1].type!=="literal"?e.splice(1,0,n):e[0].type==="minusSign"&&e[1].type==="currency"&&e[2].type!=="literal"?e.splice(2,0,n):e[t-1].type==="currency"&&e[t-2].type!=="literal"&&e.splice(t-1,0,n)),e}function B(e){return e.map(r=>(r.type==="group"&&r.value==="0"&&(r.value=" "),r))}function G(e,{currency:r,currencyDisplay:u}={}){const t=e;return r==="TRY"&&u==="code"&&t.map(n=>{const c=n;return n.type==="currency"&&(c.value="TL"),c}),t}const v={EUR:"€",USD:"$",JPY:"¥"};function S(e,{currency:r,currencyDisplay:u}={},t){const n=e;return e.length>1&&u==="symbol"&&r&&t.includes(r)&&e.forEach((c,s)=>{c.type==="currency"&&Object.keys(v).includes(r)&&(n[s].value=v[r])}),n}function R(e,{currency:r,currencyDisplay:u}={},t){const n=e;return e.length>1&&u==="symbol"&&r&&t.includes(r)&&e.forEach((c,s)=>{c.type==="currency"&&Object.keys(v).includes(r)&&(n[s].value="$US")}),n}function T(e,r={},u){let t=w(e);return r.style==="currency"&&(r.currencyDisplay==="code"&&u.slice(0,2)==="nl"&&(t=O(t)),u==="bg-BG"&&(t=U(t,D()),t=B(t)),(u==="en-GB"||u==="en-US"||u==="en-AU"||u==="en-PH")&&(t=z(t,r)),u==="en-AU"&&(t=S(t,r,["EUR","USD","JPY"]),t=F(t,r)),u==="en-PH"&&(t=S(t,r,["USD","JPY"])),(u==="fr-FR"||u==="fr-BE")&&(t=S(t,r,["JPY"])),u==="fr-BE"&&(t=R(t,r,["USD"])),u==="tr-TR"&&(t=G(t,r),r.currencyDisplay==="code"&&(t=O(t)))),t}function x(e,r){switch(r){case"floor":return Math.floor(e);case"ceiling":return Math.ceil(e);case"round":return Math.round(e);default:throw new Error("roundMode can only be round|floor|ceiling")}}function Y(e,r={}){let u=typeof e=="string"?parseFloat(e):e;const t=b(r&&r.locale);if(Number.isNaN(u))return A(r&&r.returnIfNaN);r&&r.roundMode&&(u=x(e,r.roundMode));let n=[];const c=Intl.NumberFormat(t,r).format(u),{decimalSeparator:s,groupSeparator:a}=I(u,c,r),l=/[.,\s0-9 _ ]/,g=/[-]/,f=/[0-9]/,y=/[\s]/;let p="",o="",h=!1,N=!1;const m=D(t,r),E=L(t,r);if(s&&a&&m===E)throw new Error(`Decimal and group (thousand) separator are the same character: '${m}'.
This can happen due to both props being specified as the same, or one of the props being the same as the other one from default locale.
Please specify .groupSeparator / .decimalSeparator on the formatOptions object to be different.`);for(let i=0;i<c.length;i+=1){if(g.test(c[i])&&n.push({type:"minusSign",value:"−"}),f.test(c[i])&&(o+=c[i]),!l.test(c[i])&&!g.test(c[i])&&(p+=c[i]),l.test(c[i])&&p&&(n.push({type:"currency",value:p}),p=""),c[i]===a&&c[i-1].match(f)&&c[i+1].match(f)&&(o&&(n.push({type:"integer",value:o}),o=""),n.push({type:"group",value:m}),N=!0),c[i]===s&&(o&&(n.push({type:"integer",value:o}),o=""),n.push({type:"decimal",value:E}),h=!0),y.test(c[i])){const M=!!o;o&&!h?(n.push({type:"integer",value:o}),o=""):o&&(n.push({type:"fraction",value:o}),o=""),d(c[i])===m&&M&&!h?n.push({type:"group",value:c[i]}):N||n.push({type:"literal",value:c[i]})}N=!1,h===!0&&i===c.length-1?o&&n.push({type:"fraction",value:o}):i===c.length-1&&o&&n.push({type:"integer",value:o}),i===c.length-1&&p&&(n.push({type:"currency",value:p}),p="")}return n=T(n,r,t),n}function $(e,r={}){const u=C();if(e==null)return"";const t=Y(e,r);if(t===r.returnIfNaN||t===u.formatNumberOptions.returnIfNaN)return t;let n="";const c=t?t.length:0;for(let a=0;a<c;a+=1){const l=t[a];n+=l.value}const s=b(r&&r.locale);return u.formatNumberOptions.postProcessors.size>0&&Array.from(u.formatNumberOptions.postProcessors).forEach(([a,l])=>{a===s&&(n=l(n))}),r.postProcessors&&r.postProcessors.size>0&&Array.from(r.postProcessors).forEach(([a,l])=>{a===s&&(n=l(n))}),n}export{Y as a,$ as f,L as g};
