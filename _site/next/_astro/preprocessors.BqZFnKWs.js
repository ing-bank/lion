import{P as s}from"./PhoneUtilManager.DkvpFzJF.js";function h(e,{regionCode:n,formatCountryCodeStyle:o}){const t=s?.PhoneUtil?.getCountryCodeForRegionCode(n);return o==="parentheses"&&t&&e.includes(`+${t}`)&&!e.includes("(")?e.replace(`+${t}`,`(+${t})`):e}function m(e,{regionCode:n,formatStrategy:o="international",formatCountryCodeStyle:t="default"}){if(!s.isLoaded)return e;const c=s.PhoneUtil;let r;try{r=c.parsePhoneNumber(e,{regionCode:n})}catch{}if(e?.length>=4&&e?.length<=16&&r?.valid){let i;switch(o){case"e164":i=r.number.e164;break;case"international":i=r.number.international;break;case"national":i=r.number.national;break;case"rfc3966":i=r.number.rfc3966;break;case"significant":i=r.number.significant;break}return t!=="default"?h(i,{regionCode:n,formatCountryCodeStyle:t}):i}return t!=="default"?h(e,{regionCode:n,formatCountryCodeStyle:t}):e}function w(e,{regionCode:n,formatStrategy:o,prevViewValue:t,currentCaretIndex:c,formatCountryCodeStyle:r}){if(e.length-t.length<=0||!s.isLoaded)return;const u=s.PhoneUtil.getAsYouType(n);for(const b of e)b!==""&&u.addChar(b);let l=!1,a=m(u.number(),{regionCode:n,formatStrategy:o});r==="parentheses"&&n&&!a.includes("(")&&(a=h(a,{regionCode:n,formatCountryCodeStyle:r}),l=!0);const f=s?.PhoneUtil?.getCountryCodeForRegionCode(n),g=a.length-e.length;let d=c+g;return l&&f&&e.length>f.toString().length+1&&c<=f.toString().length+1&&(d-=2),a?{viewValue:a,caretIndex:d}:void 0}export{m as f,w as l};
