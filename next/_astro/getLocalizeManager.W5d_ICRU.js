import{s as X}from"./index.BNCfcFQh.js";import"./lit-element.qDHKJJma.js";import"./lit-html.C7L4dwLU.js";import{l as sa}from"./lazifyInstantiation.CgYLRMC3.js";function na(i,a){return a={exports:{}},i(a,a.exports),a.exports}var W="long",H="short",aa="narrow",b="numeric",K="2-digit",B={number:{decimal:{style:"decimal"},integer:{style:"decimal",maximumFractionDigits:0},currency:{style:"currency",currency:"USD"},percent:{style:"percent"},default:{style:"decimal"}},date:{short:{month:b,day:b,year:K},medium:{month:H,day:b,year:b},long:{month:W,day:b,year:b},full:{month:W,day:b,year:b,weekday:W},default:{month:H,day:b,year:b}},time:{short:{hour:b,minute:b},medium:{hour:b,minute:b,second:b},long:{hour:b,minute:b,second:b,timeZoneName:H},full:{hour:b,minute:b,second:b,timeZoneName:H},default:{hour:b,minute:b,second:b}},duration:{default:{hours:{minimumIntegerDigits:1,maximumFractionDigits:0},minutes:{minimumIntegerDigits:2,maximumFractionDigits:0},seconds:{minimumIntegerDigits:2,maximumFractionDigits:3}}},parseNumberPattern:function(i){if(i){var a={},n=i.match(/\b[A-Z]{3}\b/i),r=i.replace(/[^Â¤]/g,"").length;if(!r&&n&&(r=1),r?(a.style="currency",a.currencyDisplay=r===1?"symbol":r===2?"code":"name",a.currency=n?n[0].toUpperCase():"USD"):i.indexOf("%")>=0&&(a.style="percent"),!/[@#0]/.test(i))return a.style?a:void 0;if(a.useGrouping=i.indexOf(",")>=0,/E\+?[@#0]+/i.test(i)||i.indexOf("@")>=0){var s=i.replace(/E\+?[@#0]+|[^@#0]/gi,"");a.minimumSignificantDigits=Math.min(Math.max(s.replace(/[^@0]/g,"").length,1),21),a.maximumSignificantDigits=Math.min(Math.max(s.length,1),21)}else{for(var u=i.replace(/[^#0.]/g,"").split("."),w=u[0],g=w.length-1;w[g]==="0";)--g;a.minimumIntegerDigits=Math.min(Math.max(w.length-1-g,1),21);var E=u[1]||"";for(g=0;E[g]==="0";)++g;for(a.minimumFractionDigits=Math.min(Math.max(g,0),20);E[g]==="#";)++g;a.maximumFractionDigits=Math.min(Math.max(g,0),20)}return a}},parseDatePattern:function(i){if(i){for(var a={},n=0;n<i.length;){for(var r=i[n],s=1;i[++n]===r;)++s;switch(r){case"G":a.era=s===5?aa:s===4?W:H;break;case"y":case"Y":a.year=s===2?K:b;break;case"M":case"L":s=Math.min(Math.max(s-1,0),4),a.month=[b,K,H,W,aa][s];break;case"E":case"e":case"c":a.weekday=s===5?aa:s===4?W:H;break;case"d":case"D":a.day=s===2?K:b;break;case"h":case"K":a.hour12=!0,a.hour=s===2?K:b;break;case"H":case"k":a.hour12=!1,a.hour=s===2?K:b;break;case"m":a.minute=s===2?K:b;break;case"s":case"S":a.second=s===2?K:b;break;case"z":case"Z":case"v":case"V":a.timeZoneName=s===1?H:W;break}}return Object.keys(a).length?a:void 0}}},oa=function(a,n){if(typeof a=="string"&&n[a])return a;for(var r=[].concat(a||[]),s=0,u=r.length;s<u;++s)for(var w=r[s].split("-");w.length;){var g=w.join("-");if(n[g])return g;w.pop()}},Z="zero",f="one",F="two",M="few",N="many",o="other",e=[function(i){var a=+i;return a===1?f:o},function(i){var a=+i;return 0<=a&&a<=1?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=+i;return a===0||n===1?f:o},function(i){var a=+i;return a===0?Z:a===1?f:a===2?F:3<=a%100&&a%100<=10?M:11<=a%100&&a%100<=99?N:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length;return a===1&&n===0?f:o},function(i){var a=+i;return a%10===1&&a%100!==11?f:2<=a%10&&a%10<=4&&(a%100<12||14<a%100)?M:a%10===0||5<=a%10&&a%10<=9||11<=a%100&&a%100<=14?N:o},function(i){var a=+i;return a%10===1&&a%100!==11&&a%100!==71&&a%100!==91?f:a%10===2&&a%100!==12&&a%100!==72&&a%100!==92?F:(3<=a%10&&a%10<=4||a%10===9)&&(a%100<10||19<a%100)&&(a%100<70||79<a%100)&&(a%100<90||99<a%100)?M:a!==0&&a%1e6===0?N:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length,r=+(i+".").split(".")[1];return n===0&&a%10===1&&a%100!==11||r%10===1&&r%100!==11?f:n===0&&2<=a%10&&a%10<=4&&(a%100<12||14<a%100)||2<=r%10&&r%10<=4&&(r%100<12||14<r%100)?M:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length;return a===1&&n===0?f:2<=a&&a<=4&&n===0?M:n!==0?N:o},function(i){var a=+i;return a===0?Z:a===1?f:a===2?F:a===3?M:a===6?N:o},function(i){var a=Math.floor(Math.abs(+i)),n=+(""+i).replace(/^[^.]*.?|0+$/g,""),r=+i;return r===1||n!==0&&(a===0||a===1)?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length,r=+(i+".").split(".")[1];return n===0&&a%100===1||r%100===1?f:n===0&&a%100===2||r%100===2?F:n===0&&3<=a%100&&a%100<=4||3<=r%100&&r%100<=4?M:o},function(i){var a=Math.floor(Math.abs(+i));return a===0||a===1?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length,r=+(i+".").split(".")[1];return n===0&&(a===1||a===2||a===3)||n===0&&a%10!==4&&a%10!==6&&a%10!==9||n!==0&&r%10!==4&&r%10!==6&&r%10!==9?f:o},function(i){var a=+i;return a===1?f:a===2?F:3<=a&&a<=6?M:7<=a&&a<=10?N:o},function(i){var a=+i;return a===1||a===11?f:a===2||a===12?F:3<=a&&a<=10||13<=a&&a<=19?M:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length;return n===0&&a%10===1?f:n===0&&a%10===2?F:n===0&&(a%100===0||a%100===20||a%100===40||a%100===60||a%100===80)?M:n!==0?N:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length,r=+i;return a===1&&n===0?f:a===2&&n===0?F:n===0&&(r<0||10<r)&&r%10===0?N:o},function(i){var a=Math.floor(Math.abs(+i)),n=+(""+i).replace(/^[^.]*.?|0+$/g,"");return n===0&&a%10===1&&a%100!==11||n!==0?f:o},function(i){var a=+i;return a===1?f:a===2?F:o},function(i){var a=+i;return a===0?Z:a===1?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=+i;return n===0?Z:(a===0||a===1)&&n!==0?f:o},function(i){var a=+(i+".").split(".")[1],n=+i;return n%10===1&&(n%100<11||19<n%100)?f:2<=n%10&&n%10<=9&&(n%100<11||19<n%100)?M:a!==0?N:o},function(i){var a=(i+".").split(".")[1].length,n=+(i+".").split(".")[1],r=+i;return r%10===0||11<=r%100&&r%100<=19||a===2&&11<=n%100&&n%100<=19?Z:r%10===1&&r%100!==11||a===2&&n%10===1&&n%100!==11||a!==2&&n%10===1?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length,r=+(i+".").split(".")[1];return n===0&&a%10===1&&a%100!==11||r%10===1&&r%100!==11?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length,r=+i;return a===1&&n===0?f:n!==0||r===0||r!==1&&1<=r%100&&r%100<=19?M:o},function(i){var a=+i;return a===1?f:a===0||2<=a%100&&a%100<=10?M:11<=a%100&&a%100<=19?N:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length;return a===1&&n===0?f:n===0&&2<=a%10&&a%10<=4&&(a%100<12||14<a%100)?M:n===0&&a!==1&&0<=a%10&&a%10<=1||n===0&&5<=a%10&&a%10<=9||n===0&&12<=a%100&&a%100<=14?N:o},function(i){var a=Math.floor(Math.abs(+i));return 0<=a&&a<=1?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length;return n===0&&a%10===1&&a%100!==11?f:n===0&&2<=a%10&&a%10<=4&&(a%100<12||14<a%100)?M:n===0&&a%10===0||n===0&&5<=a%10&&a%10<=9||n===0&&11<=a%100&&a%100<=14?N:o},function(i){var a=Math.floor(Math.abs(+i)),n=+i;return a===0||n===1?f:2<=n&&n<=10?M:o},function(i){var a=Math.floor(Math.abs(+i)),n=+(i+".").split(".")[1],r=+i;return r===0||r===1||a===0&&n===1?f:o},function(i){var a=Math.floor(Math.abs(+i)),n=(i+".").split(".")[1].length;return n===0&&a%100===1?f:n===0&&a%100===2?F:n===0&&3<=a%100&&a%100<=4||n!==0?M:o},function(i){var a=+i;return 0<=a&&a<=1||11<=a&&a<=99?f:o},function(i){var a=+i;return a===1||a===5||a===7||a===8||a===9||a===10?f:a===2||a===3?F:a===4?M:a===6?N:o},function(i){var a=Math.floor(Math.abs(+i));return a%10===1||a%10===2||a%10===5||a%10===7||a%10===8||a%100===20||a%100===50||a%100===70||a%100===80?f:a%10===3||a%10===4||a%1e3===100||a%1e3===200||a%1e3===300||a%1e3===400||a%1e3===500||a%1e3===600||a%1e3===700||a%1e3===800||a%1e3===900?M:a===0||a%10===6||a%100===40||a%100===60||a%100===90?N:o},function(i){var a=+i;return(a%10===2||a%10===3)&&a%100!==12&&a%100!==13?M:o},function(i){var a=+i;return a===1||a===3?f:a===2?F:a===4?M:o},function(i){var a=+i;return a===0||a===7||a===8||a===9?Z:a===1?f:a===2?F:a===3||a===4?M:a===5||a===6?N:o},function(i){var a=+i;return a%10===1&&a%100!==11?f:a%10===2&&a%100!==12?F:a%10===3&&a%100!==13?M:o},function(i){var a=+i;return a===1||a===11?f:a===2||a===12?F:a===3||a===13?M:o},function(i){var a=+i;return a===1?f:a===2||a===3?F:a===4?M:a===6?N:o},function(i){var a=+i;return a===1||a===5?f:o},function(i){var a=+i;return a===11||a===8||a===80||a===800?N:o},function(i){var a=Math.floor(Math.abs(+i));return a===1?f:a===0||2<=a%100&&a%100<=20||a%100===40||a%100===60||a%100===80?N:o},function(i){var a=+i;return a%10===6||a%10===9||a%10===0&&a!==0?N:o},function(i){var a=Math.floor(Math.abs(+i));return a%10===1&&a%100!==11?f:a%10===2&&a%100!==12?F:(a%10===7||a%10===8)&&a%100!==17&&a%100!==18?N:o},function(i){var a=+i;return a===1?f:a===2||a===3?F:a===4?M:o},function(i){var a=+i;return 1<=a&&a<=4?f:o},function(i){var a=+i;return a===1||a===5||7<=a&&a<=9?f:a===2||a===3?F:a===4?M:a===6?N:o},function(i){var a=+i;return a===1?f:a%10===4&&a%100!==14?N:o},function(i){var a=+i;return(a%10===1||a%10===2)&&a%100!==11&&a%100!==12?f:o},function(i){var a=+i;return a%10===6||a%10===9||a===10?M:o},function(i){var a=+i;return a%10===3&&a%100!==13?M:o}],ta={af:{cardinal:e[0]},ak:{cardinal:e[1]},am:{cardinal:e[2]},ar:{cardinal:e[3]},ars:{cardinal:e[3]},as:{cardinal:e[2],ordinal:e[34]},asa:{cardinal:e[0]},ast:{cardinal:e[4]},az:{cardinal:e[0],ordinal:e[35]},be:{cardinal:e[5],ordinal:e[36]},bem:{cardinal:e[0]},bez:{cardinal:e[0]},bg:{cardinal:e[0]},bh:{cardinal:e[1]},bn:{cardinal:e[2],ordinal:e[34]},br:{cardinal:e[6]},brx:{cardinal:e[0]},bs:{cardinal:e[7]},ca:{cardinal:e[4],ordinal:e[37]},ce:{cardinal:e[0]},cgg:{cardinal:e[0]},chr:{cardinal:e[0]},ckb:{cardinal:e[0]},cs:{cardinal:e[8]},cy:{cardinal:e[9],ordinal:e[38]},da:{cardinal:e[10]},de:{cardinal:e[4]},dsb:{cardinal:e[11]},dv:{cardinal:e[0]},ee:{cardinal:e[0]},el:{cardinal:e[0]},en:{cardinal:e[4],ordinal:e[39]},eo:{cardinal:e[0]},es:{cardinal:e[0]},et:{cardinal:e[4]},eu:{cardinal:e[0]},fa:{cardinal:e[2]},ff:{cardinal:e[12]},fi:{cardinal:e[4]},fil:{cardinal:e[13],ordinal:e[0]},fo:{cardinal:e[0]},fr:{cardinal:e[12],ordinal:e[0]},fur:{cardinal:e[0]},fy:{cardinal:e[4]},ga:{cardinal:e[14],ordinal:e[0]},gd:{cardinal:e[15],ordinal:e[40]},gl:{cardinal:e[4]},gsw:{cardinal:e[0]},gu:{cardinal:e[2],ordinal:e[41]},guw:{cardinal:e[1]},gv:{cardinal:e[16]},ha:{cardinal:e[0]},haw:{cardinal:e[0]},he:{cardinal:e[17]},hi:{cardinal:e[2],ordinal:e[41]},hr:{cardinal:e[7]},hsb:{cardinal:e[11]},hu:{cardinal:e[0],ordinal:e[42]},hy:{cardinal:e[12],ordinal:e[0]},ia:{cardinal:e[4]},io:{cardinal:e[4]},is:{cardinal:e[18]},it:{cardinal:e[4],ordinal:e[43]},iu:{cardinal:e[19]},iw:{cardinal:e[17]},jgo:{cardinal:e[0]},ji:{cardinal:e[4]},jmc:{cardinal:e[0]},ka:{cardinal:e[0],ordinal:e[44]},kab:{cardinal:e[12]},kaj:{cardinal:e[0]},kcg:{cardinal:e[0]},kk:{cardinal:e[0],ordinal:e[45]},kkj:{cardinal:e[0]},kl:{cardinal:e[0]},kn:{cardinal:e[2]},ks:{cardinal:e[0]},ksb:{cardinal:e[0]},ksh:{cardinal:e[20]},ku:{cardinal:e[0]},kw:{cardinal:e[19]},ky:{cardinal:e[0]},lag:{cardinal:e[21]},lb:{cardinal:e[0]},lg:{cardinal:e[0]},ln:{cardinal:e[1]},lt:{cardinal:e[22]},lv:{cardinal:e[23]},mas:{cardinal:e[0]},mg:{cardinal:e[1]},mgo:{cardinal:e[0]},mk:{cardinal:e[24],ordinal:e[46]},ml:{cardinal:e[0]},mn:{cardinal:e[0]},mo:{cardinal:e[25],ordinal:e[0]},mr:{cardinal:e[2],ordinal:e[47]},mt:{cardinal:e[26]},nah:{cardinal:e[0]},naq:{cardinal:e[19]},nb:{cardinal:e[0]},nd:{cardinal:e[0]},ne:{cardinal:e[0],ordinal:e[48]},nl:{cardinal:e[4]},nn:{cardinal:e[0]},nnh:{cardinal:e[0]},no:{cardinal:e[0]},nr:{cardinal:e[0]},nso:{cardinal:e[1]},ny:{cardinal:e[0]},nyn:{cardinal:e[0]},om:{cardinal:e[0]},or:{cardinal:e[0],ordinal:e[49]},os:{cardinal:e[0]},pa:{cardinal:e[1]},pap:{cardinal:e[0]},pl:{cardinal:e[27]},prg:{cardinal:e[23]},ps:{cardinal:e[0]},pt:{cardinal:e[28]},"pt-PT":{cardinal:e[4]},rm:{cardinal:e[0]},ro:{cardinal:e[25],ordinal:e[0]},rof:{cardinal:e[0]},ru:{cardinal:e[29]},rwk:{cardinal:e[0]},saq:{cardinal:e[0]},sc:{cardinal:e[4],ordinal:e[43]},scn:{cardinal:e[4],ordinal:e[43]},sd:{cardinal:e[0]},sdh:{cardinal:e[0]},se:{cardinal:e[19]},seh:{cardinal:e[0]},sh:{cardinal:e[7]},shi:{cardinal:e[30]},si:{cardinal:e[31]},sk:{cardinal:e[8]},sl:{cardinal:e[32]},sma:{cardinal:e[19]},smi:{cardinal:e[19]},smj:{cardinal:e[19]},smn:{cardinal:e[19]},sms:{cardinal:e[19]},sn:{cardinal:e[0]},so:{cardinal:e[0]},sq:{cardinal:e[0],ordinal:e[50]},sr:{cardinal:e[7]},ss:{cardinal:e[0]},ssy:{cardinal:e[0]},st:{cardinal:e[0]},sv:{cardinal:e[4],ordinal:e[51]},sw:{cardinal:e[4]},syr:{cardinal:e[0]},ta:{cardinal:e[0]},te:{cardinal:e[0]},teo:{cardinal:e[0]},ti:{cardinal:e[1]},tig:{cardinal:e[0]},tk:{cardinal:e[0],ordinal:e[52]},tl:{cardinal:e[13],ordinal:e[0]},tn:{cardinal:e[0]},tr:{cardinal:e[0]},ts:{cardinal:e[0]},tzm:{cardinal:e[33]},ug:{cardinal:e[0]},uk:{cardinal:e[29],ordinal:e[53]},ur:{cardinal:e[4]},uz:{cardinal:e[0]},ve:{cardinal:e[0]},vo:{cardinal:e[0]},vun:{cardinal:e[0]},wa:{cardinal:e[1]},wae:{cardinal:e[0]},xh:{cardinal:e[0]},xog:{cardinal:e[0]},yi:{cardinal:e[4]},zu:{cardinal:e[2]},lo:{ordinal:e[0]},ms:{ordinal:e[0]},vi:{ordinal:e[0]}},J=na(function(i,a){a=i.exports=function(_,y,p){return n(_,null,y||"en",p||{},!0)},a.toParts=function(_,y,p){return n(_,null,y||"en",p||{},!1)};function n(c,_,y,p,P){var x=c.map(function(C){return r(C,_,y,p,P)});return P?x.length===1?x[0]:function(A){for(var L="",S=0;S<x.length;++S)L+=x[S](A);return L}:function(A){return x.reduce(function(L,S){return L.concat(S(A))},[])}}function r(c,_,y,p,P){if(typeof c=="string"){var x=c;return function(){return x}}var C=c[0],A=c[1];if(_&&c[0]==="#"){C=_[0];var L=_[2],S=(p.number||V.number)([C,"number"],y);return function(k){return S(s(C,k)-L,k)}}var D;A==="plural"||A==="selectordinal"?(D={},Object.keys(c[3]).forEach(function(j){D[j]=n(c[3][j],c,y,p,P)}),c=[c[0],c[1],c[2],D]):c[2]&&typeof c[2]=="object"&&(D={},Object.keys(c[2]).forEach(function(j){D[j]=n(c[2][j],c,y,p,P)}),c=[c[0],c[1],D]);var R=A&&(p[A]||V[A]);if(R){var G=R(c,y);return function(k){return G(s(C,k),k)}}return P?function(k){return String(s(C,k))}:function(k){return s(C,k)}}function s(c,_){if(_&&c in _)return _[c];for(var y=c.split("."),p=_,P=0,x=y.length;p&&P<x;++P)p=p[y[P]];return p}function u(c,_){var y=c[2],p=B.number[y]||B.parseNumberPattern(y)||B.number.default;return new Intl.NumberFormat(_,p).format}function w(c,_){var y=c[2],p=B.duration[y]||B.duration.default,P=new Intl.NumberFormat(_,p.seconds).format,x=new Intl.NumberFormat(_,p.minutes).format,C=new Intl.NumberFormat(_,p.hours).format,A=/^fi$|^fi-|^da/.test(String(_))?".":":";return function(L,S){if(L=+L,!isFinite(L))return P(L);var D=~~(L/60/60),R=~~(L/60%60),G=(D?C(Math.abs(D))+A:"")+x(Math.abs(R))+A+P(Math.abs(L%60));return L<0?C(-1).replace(C(1),G):G}}function g(c,_){var y=c[1],p=c[2],P=B[y][p]||B.parseDatePattern(p)||B[y].default;return new Intl.DateTimeFormat(_,P).format}function E(c,_){var y=c[1],p=y==="selectordinal"?"ordinal":"cardinal",P=c[2],x=c[3],C;if(Intl.PluralRules&&Intl.PluralRules.supportedLocalesOf(_).length>0)C=new Intl.PluralRules(_,{type:p});else{var A=oa(_,ta),L=A&&ta[A][p]||$;C={select:L}}return function(S,D){var R=x["="+ +S]||x[C.select(S-P)]||x.other;return R(D)}}function $(){return"other"}function I(c,_){var y=c[2];return function(p,P){var x=y[p]||y.other;return x(P)}}var V={number:u,ordinal:u,spellout:u,duration:w,date:g,time:g,plural:E,selectordinal:E,select:I};a.types=V});J.toParts;J.types;var ia=na(function(i,a){var n="{",r="}",s=",",u="#",w="<",g=">",E="</",$="/>",I="'",V="offset:",c=["number","date","time","ordinal","duration","spellout"],_=["plural","select","selectordinal"];a=i.exports=function(d,h){return y({pattern:String(d),index:0,tagsType:h&&h.tagsType||null,tokens:h&&h.tokens||null},"")};function y(t,d){var h=t.pattern,v=h.length,m=[],l=t.index,T=p(t,d);for(T&&m.push(T),T&&t.tokens&&t.tokens.push(["text",h.slice(l,t.index)]);t.index<v;){if(h[t.index]===r){if(!d)throw k(t);break}if(d&&t.tagsType&&h.slice(t.index,t.index+E.length)===E)break;m.push(C(t)),l=t.index,T=p(t,d),T&&m.push(T),T&&t.tokens&&t.tokens.push(["text",h.slice(l,t.index)])}return m}function p(t,d){for(var h=t.pattern,v=h.length,m=d==="plural"||d==="selectordinal",l=!!t.tagsType,T=d==="{style}",z="";t.index<v;){var O=h[t.index];if(O===n||O===r||m&&O===u||l&&O===w||T&&P(O.charCodeAt(0)))break;if(O===I)if(O=h[++t.index],O===I)z+=O,++t.index;else if(O===n||O===r||m&&O===u||l&&O===w||T)for(z+=O;++t.index<v;)if(O=h[t.index],O===I&&h[t.index+1]===I)z+=I,++t.index;else if(O===I){++t.index;break}else z+=O;else z+=I;else z+=O,++t.index}return z}function P(t){return t>=9&&t<=13||t===32||t===133||t===160||t===6158||t>=8192&&t<=8205||t===8232||t===8233||t===8239||t===8287||t===8288||t===12288||t===65279}function x(t){for(var d=t.pattern,h=d.length,v=t.index;t.index<h&&P(d.charCodeAt(t.index));)++t.index;v<t.index&&t.tokens&&t.tokens.push(["space",t.pattern.slice(v,t.index)])}function C(t){var d=t.pattern;if(d[t.index]===u)return t.tokens&&t.tokens.push(["syntax",u]),++t.index,[u];var h=A(t);if(h)return h;if(d[t.index]!==n)throw k(t,n);t.tokens&&t.tokens.push(["syntax",n]),++t.index,x(t);var v=L(t);if(!v)throw k(t,"placeholder id");t.tokens&&t.tokens.push(["id",v]),x(t);var m=d[t.index];if(m===r)return t.tokens&&t.tokens.push(["syntax",r]),++t.index,[v];if(m!==s)throw k(t,s+" or "+r);t.tokens&&t.tokens.push(["syntax",s]),++t.index,x(t);var l=L(t);if(!l)throw k(t,"placeholder type");if(t.tokens&&t.tokens.push(["type",l]),x(t),m=d[t.index],m===r){if(t.tokens&&t.tokens.push(["syntax",r]),l==="plural"||l==="selectordinal"||l==="select")throw k(t,l+" sub-messages");return++t.index,[v,l]}if(m!==s)throw k(t,s+" or "+r);t.tokens&&t.tokens.push(["syntax",s]),++t.index,x(t);var T;if(l==="plural"||l==="selectordinal"){var z=D(t);x(t),T=[v,l,z,G(t,l)]}else if(l==="select")T=[v,l,G(t,l)];else if(c.indexOf(l)>=0)T=[v,l,S(t)];else{var O=t.index,ea=S(t);x(t),d[t.index]===n&&(t.index=O,ea=G(t,l)),T=[v,l,ea]}if(x(t),d[t.index]!==r)throw k(t,r);return t.tokens&&t.tokens.push(["syntax",r]),++t.index,T}function A(t){var d=t.tagsType;if(!(!d||t.pattern[t.index]!==w)){if(t.pattern.slice(t.index,t.index+E.length)===E)throw k(t,null,"closing tag without matching opening tag");t.tokens&&t.tokens.push(["syntax",w]),++t.index;var h=L(t,!0);if(!h)throw k(t,"placeholder id");if(t.tokens&&t.tokens.push(["id",h]),x(t),t.pattern.slice(t.index,t.index+$.length)===$)return t.tokens&&t.tokens.push(["syntax",$]),t.index+=$.length,[h,d];if(t.pattern[t.index]!==g)throw k(t,g);t.tokens&&t.tokens.push(["syntax",g]),++t.index;var v=y(t,d),m=t.index;if(t.pattern.slice(t.index,t.index+E.length)!==E)throw k(t,E+h+g);t.tokens&&t.tokens.push(["syntax",E]),t.index+=E.length;var l=L(t,!0);if(l&&t.tokens&&t.tokens.push(["id",l]),h!==l)throw t.index=m,k(t,E+h+g,E+l+g);if(x(t),t.pattern[t.index]!==g)throw k(t,g);return t.tokens&&t.tokens.push(["syntax",g]),++t.index,[h,d,{children:v}]}}function L(t,d){for(var h=t.pattern,v=h.length,m="";t.index<v;){var l=h[t.index];if(l===n||l===r||l===s||l===u||l===I||P(l.charCodeAt(0))||d&&(l===w||l===g||l==="/"))break;m+=l,++t.index}return m}function S(t){var d=t.index,h=p(t,"{style}");if(!h)throw k(t,"placeholder style name");return t.tokens&&t.tokens.push(["style",t.pattern.slice(d,t.index)]),h}function D(t){var d=t.pattern,h=d.length,v=0;if(d.slice(t.index,t.index+V.length)===V){t.tokens&&t.tokens.push(["offset","offset"],["syntax",":"]),t.index+=V.length,x(t);for(var m=t.index;t.index<h&&R(d.charCodeAt(t.index));)++t.index;if(m===t.index)throw k(t,"offset number");t.tokens&&t.tokens.push(["number",d.slice(m,t.index)]),v=+d.slice(m,t.index)}return v}function R(t){return t>=48&&t<=57}function G(t,d){for(var h=t.pattern,v=h.length,m={};t.index<v&&h[t.index]!==r;){var l=L(t);if(!l)throw k(t,"sub-message selector");t.tokens&&t.tokens.push(["selector",l]),x(t),m[l]=j(t,d),x(t)}if(!m.other&&_.indexOf(d)>=0)throw k(t,null,null,'"other" sub-message must be specified in '+d);return m}function j(t,d){if(t.pattern[t.index]!==n)throw k(t,n+" to start sub-message");t.tokens&&t.tokens.push(["syntax",n]),++t.index;var h=y(t,d);if(t.pattern[t.index]!==r)throw k(t,r+" to end sub-message");return t.tokens&&t.tokens.push(["syntax",r]),++t.index,h}function k(t,d,h,v){var m=t.pattern,l=m.slice(0,t.index).split(/\r?\n/),T=t.index,z=l.length,O=l.slice(-1)[0].length;return h=h||(t.index>=m.length?"end of message pattern":L(t)||m[t.index]),v||(v=ra(d,h)),v+=" in "+m.replace(/\r?\n/g,`
`),new Q(v,d,h,T,z,O)}function ra(t,d){return t?"Expected "+t+" but found "+d:"Unexpected "+d+" found"}function Q(t,d,h,v,m,l){Error.call(this,t),this.name="SyntaxError",this.message=t,this.expected=d,this.found=h,this.offset=v,this.line=m,this.column=l}Q.prototype=Object.create(Error.prototype),a.SyntaxError=Q});ia.SyntaxError;var la=new RegExp("^("+Object.keys(ta).join("|")+")\\b"),q=new WeakMap;/*!
 * Intl.MessageFormat prollyfill
 * Copyright(c) 2015 Andy VanWagoner
 * MIT licensed
 **/function Y(i,a,n){if(!(this instanceof Y)||q.has(this))throw new TypeError("calling MessageFormat constructor without new is invalid");var r=ia(i);q.set(this,{ast:r,format:J(r,a,n&&n.types),locale:Y.supportedLocalesOf(a)[0]||"en",locales:a,options:n})}var da=Y;Object.defineProperties(Y.prototype,{format:{configurable:!0,get:function(){var a=q.get(this);if(!a)throw new TypeError("MessageFormat.prototype.format called on value that's not an object initialized as a MessageFormat");return a.format}},formatToParts:{configurable:!0,writable:!0,value:function(a){var n=q.get(this);if(!n)throw new TypeError("MessageFormat.prototype.formatToParts called on value that's not an object initialized as a MessageFormat");var r=n.toParts||(n.toParts=J.toParts(n.ast,n.locales,n.options&&n.options.types));return r(a)}},resolvedOptions:{configurable:!0,writable:!0,value:function(){var a=q.get(this);if(!a)throw new TypeError("MessageFormat.prototype.resolvedOptions called on value that's not an object initialized as a MessageFormat");return{locale:a.locale}}}});typeof Symbol<"u"&&Object.defineProperty(Y.prototype,Symbol.toStringTag,{value:"Object"});Object.defineProperties(Y,{supportedLocalesOf:{configurable:!0,writable:!0,value:function(a){return[].concat(Intl.NumberFormat.supportedLocalesOf(a),Intl.DateTimeFormat.supportedLocalesOf(a),Intl.PluralRules?Intl.PluralRules.supportedLocalesOf(a):[],[].concat(a||[]).filter(function(n){return la.test(n)})).filter(function(n,r,s){return s.indexOf(n)===r})}}});function ha(i){return!!(i&&i.default&&typeof i.default=="object"&&Object.keys(i).length===1)}const U=globalThis.document?.documentElement;class fa extends EventTarget{formatNumberOptions={returnIfNaN:"",postProcessors:new Map};formatDateOptions={postProcessors:new Map};#a=!1;#t="";#e=null;__storage={};__namespacePatternsMap=new Map;__namespaceLoadersCache={};__namespaceLoaderPromisesCache={};get locale(){return this.#a?this.#t||"":U.lang||""}set locale(a){if(this.#n(a),!this.#a){const s=U.lang;this._setHtmlLangAttribute(a),this._onLocaleChanged(a,s);return}const n=this.#t;this.#t=a,this.#e===null&&this._setHtmlLangAttribute(a),this._onLocaleChanged(a,n)}get loadingComplete(){return typeof this.__namespaceLoaderPromisesCache[this.locale]=="object"?Promise.all(Object.values(this.__namespaceLoaderPromisesCache[this.locale])):Promise.resolve()}constructor({allowOverridesForExistingNamespaces:a=!1,autoLoadOnLocaleChange:n=!1,showKeyAsFallback:r=!1,fallbackLocale:s=""}={}){super(),this.__allowOverridesForExistingNamespaces=a,this._autoLoadOnLocaleChange=!!n,this._showKeyAsFallback=r,this._fallbackLocale=s;const u=U.getAttribute("data-localize-lang");this.#a=!!u,this.#a&&(this.locale=u,this._setupTranslationToolSupport()),U.lang||(U.lang=this.locale||"en-GB"),this._setupHtmlLangAttributeObserver()}addData(a,n,r){if(!this.__allowOverridesForExistingNamespaces&&this._isNamespaceInCache(a,n))throw new Error(`Namespace "${n}" has been already added for the locale "${a}".`);this.__storage[a]=this.__storage[a]||{},this.__allowOverridesForExistingNamespaces?this.__storage[a][n]={...this.__storage[a][n],...r}:this.__storage[a][n]=r}setupNamespaceLoader(a,n){this.__namespacePatternsMap.set(a,n)}loadNamespaces(a,{locale:n}={}){return Promise.all(a.map(r=>this.loadNamespace(r,{locale:n})))}loadNamespace(a,{locale:n=this.locale}={locale:this.locale}){const r=typeof a=="object",s=r?Object.keys(a)[0]:a;if(this._isNamespaceInCache(n,s))return Promise.resolve();const u=this._getCachedNamespaceLoaderPromise(n,s);return u||this._loadNamespaceData(n,a,r,s)}msg(a,n,r={}){const s=r.locale?r.locale:this.locale,u=this._getMessageForKeys(a,s);return u?new da(u,s).format(n):""}teardown(){this._teardownHtmlLangAttributeObserver()}reset(){this.__storage={},this.__namespacePatternsMap=new Map,this.__namespaceLoadersCache={},this.__namespaceLoaderPromisesCache={}}setDatePostProcessorForLocale({locale:a,postProcessor:n}){this.formatDateOptions?.postProcessors.set(a,n)}setNumberPostProcessorForLocale({locale:a,postProcessor:n}){this.formatNumberOptions?.postProcessors.set(a,n)}_setupTranslationToolSupport(){this.#e=U.lang||null}_setHtmlLangAttribute(a){this._teardownHtmlLangAttributeObserver(),U.lang=a,this._setupHtmlLangAttributeObserver()}_setupHtmlLangAttributeObserver(){this._htmlLangAttributeObserver||(this._htmlLangAttributeObserver=new MutationObserver(a=>{a.forEach(n=>{this.#a?U.lang==="auto"?(this.#e=null,this._setHtmlLangAttribute(this.locale)):this.#e=document.documentElement.lang:this._onLocaleChanged(document.documentElement.lang,n.oldValue||"")})})),this._htmlLangAttributeObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],attributeOldValue:!0})}_teardownHtmlLangAttributeObserver(){this._htmlLangAttributeObserver&&this._htmlLangAttributeObserver.disconnect()}_isNamespaceInCache(a,n){return!!(this.__storage[a]&&this.__storage[a][n])}_getCachedNamespaceLoaderPromise(a,n){return this.__namespaceLoaderPromisesCache[a]?this.__namespaceLoaderPromisesCache[a][n]:null}_loadNamespaceData(a,n,r,s){const u=this._getNamespaceLoader(n,r,s),w=this._getNamespaceLoaderPromise(u,a,s);return this._cacheNamespaceLoaderPromise(a,s,w),w.then(g=>{if(this.__namespaceLoaderPromisesCache[a]&&this.__namespaceLoaderPromisesCache[a][s]===w){const E=ha(g)?g.default:g;this.addData(a,s,E)}})}_getNamespaceLoader(a,n,r){let s=this.__namespaceLoadersCache[r];if(s||(n?(s=a[r],this.__namespaceLoadersCache[r]=s):(s=this._lookupNamespaceLoader(r),this.__namespaceLoadersCache[r]=s)),!s)throw new Error(`Namespace "${r}" was not properly setup.`);return this.__namespaceLoadersCache[r]=s,s}_getNamespaceLoaderPromise(a,n,r,s=this._fallbackLocale){return a(n,r).catch(()=>{const u=this._getLangFromLocale(n);return a(u,r).catch(()=>{if(s)return this._getNamespaceLoaderPromise(a,s,r,"").catch(()=>{const w=this._getLangFromLocale(s);throw new Error(`Data for namespace "${r}" and current locale "${n}" or fallback locale "${s}" could not be loaded. Make sure you have data either for locale "${n}" (and/or generic language "${u}") or for fallback "${s}" (and/or "${w}").`)});throw new Error(`Data for namespace "${r}" and locale "${n}" could not be loaded. Make sure you have data for locale "${n}" (and/or generic language "${u}").`)})})}_cacheNamespaceLoaderPromise(a,n,r){this.__namespaceLoaderPromisesCache[a]||(this.__namespaceLoaderPromisesCache[a]={}),this.__namespaceLoaderPromisesCache[a][n]=r}_lookupNamespaceLoader(a){for(const[n,r]of this.__namespacePatternsMap){const s=typeof n=="string"&&n===a,u=typeof n=="object"&&n.constructor.name==="RegExp"&&n.test(a);if(s||u)return r}return null}_getLangFromLocale(a){return a.substring(0,2)}_onLocaleChanged(a,n){this.dispatchEvent(new CustomEvent("__localeChanging")),a!==n&&(this._autoLoadOnLocaleChange?(this._loadAllMissing(a,n),this.loadingComplete.then(()=>{this.dispatchEvent(new CustomEvent("localeChanged",{detail:{newLocale:a,oldLocale:n}}))})):this.dispatchEvent(new CustomEvent("localeChanged",{detail:{newLocale:a,oldLocale:n}})))}_loadAllMissing(a,n){const r=this.__storage[n]||{},s=this.__storage[a]||{};Object.keys(r).forEach(u=>{s[u]||this.loadNamespace(u,{locale:a})})}_getMessageForKeys(a,n){if(typeof a=="string")return this._getMessageForKey(a,n);const r=Array.from(a).reverse();let s,u;for(;r.length;)if(s=r.pop(),u=this._getMessageForKey(s,n),u)return u}_getMessageForKey(a,n){if(!a||a.indexOf(":")===-1)throw new Error(`Namespace is missing in the key "${a}". The format for keys is "namespace:name".`);const[r,s]=a.split(":"),u=this.__storage[n],w=u?u[r]:{},E=s.split(".").reduce(($,I)=>typeof $=="object"?$[I]:$,w);return String(E||(this._showKeyAsFallback?a:""))}#n(a){if(!a.includes("-"))throw new Error(`
      Locale was set to ${a}.
      Language only locales are not allowed, please use the full language locale e.g. 'en-GB' instead of 'en'.
      See https://github.com/ing-bank/lion/issues/187 for more information.
    `)}get _supportExternalTranslationTools(){return this.#a}set _supportExternalTranslationTools(a){this.#a=a}get _langAttrSetByTranslationTool(){return this.#t}set _langAttrSetByTranslationTool(a){this.#t=a}}function ca(){if(!X.has("@lion/ui::localize::0.x")){const i=new fa({autoLoadOnLocaleChange:!0,fallbackLocale:"en-GB"});X.set("@lion/ui::localize::0.x",i)}return X.get("@lion/ui::localize::0.x")}function va(){return sa(ca)}export{va as g};
