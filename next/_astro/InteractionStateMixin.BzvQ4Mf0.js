const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/bg-BG.9RE2dSVT.js","_astro/bg.k7z8k6zP.js","_astro/cs-CZ.CGIjruaR.js","_astro/cs.3kHzIwDi.js","_astro/de-DE.DCePOSaL.js","_astro/de.DRZeSSSm.js","_astro/en-AU.ERP1C2TK.js","_astro/en.CK6HZXgc.js","_astro/en-GB.ERP1C2TK.js","_astro/en-US.ERP1C2TK.js","_astro/es-ES.Doqs6F5n.js","_astro/es.BqIRCJjP.js","_astro/fr-FR.BElae2rN.js","_astro/fr.C9FnPcJy.js","_astro/fr-BE.BElae2rN.js","_astro/hu-HU.DuBVZ3vA.js","_astro/hu.CTnTqIx7.js","_astro/it-IT.Dv4Y-Kdt.js","_astro/it.-lrO6ruB.js","_astro/nl-BE.JX7EiKCg.js","_astro/nl.DSyEtmHJ.js","_astro/nl-NL.JX7EiKCg.js","_astro/pl-PL.BWU1MGFg.js","_astro/pl.D4CZAcCF.js","_astro/ro-RO.9iVWj2ff.js","_astro/ro.DO6su2aE.js","_astro/ru-RU.DEmPei_m.js","_astro/ru.DDj85KpB.js","_astro/sk-SK.CXj7sy1O.js","_astro/sk.BIhPAh0q.js","_astro/tr-TR.Cbm2kwTy.js","_astro/tr.C7VWmvp5.js","_astro/uk-UA.Dnz0A2fr.js","_astro/uk.BMb4arxf.js"])))=>i.map(i=>d[i]);
import{d as _}from"./dedupeMixin.6XPTJgK8.js";import{S as L,i as I,a as T}from"./lit-element.qDHKJJma.js";import{B as C,E as y,x as u}from"./lit-html.C7L4dwLU.js";import{S as D,u as P}from"./node-tools_providence-analytics_overview.LFFQBZzG.js";import{_ as r}from"./preload-helper.4zY6-HO4.js";import{L as M}from"./LocalizeMixin.VYu75dkK.js";import{D as R}from"./DisabledMixin.Bm1nsErI.js";import{g as S}from"./getLocalizeManager.W5d_ICRU.js";import{e as U}from"./directive-helpers.CLllgGgm.js";function ye(a,i){let e=!1;Array.from(a.childNodes).forEach(t=>{const s=t.hasAttribute&&t.hasAttribute("slot");if(t.nodeType===Node.COMMENT_NODE&&!e&&(e=t.textContent.includes("_start_slot_")),e){t.textContent.includes("_end_slot_")&&(e=!1);return}s||i.appendChild(t)})}function B(a){return a instanceof Node?"node":U(a)?"template-result":!Array.isArray(a)&&typeof a=="object"&&"template"in a?"slot-rerender-object":null}const z=a=>class extends a{get slots(){return{}}constructor(){super(),this.__renderMetaPerSlot=new Map,this.__slotsThatNeedRerender=new Set,this.__slotsProvidedByUserOnFirstConnected=new Set,this.__privateSlots=new Set}connectedCallback(){super.connectedCallback(),this._connectSlotMixin()}__rerenderSlot(e){const t=this.slots[e]();this.__renderTemplateInScopedContext({renderAsDirectHostChild:t.renderAsDirectHostChild,template:t.template,slotName:e}),t.afterRender?.()}update(e){super.update(e);for(const t of this.__slotsThatNeedRerender)this.__rerenderSlot(t)}__renderTemplateInScopedContext({template:e,slotName:t,renderAsDirectHostChild:s}){if(!this.__renderMetaPerSlot.has(t)){const m=!!ShadowRoot.prototype.createElement;!!this.shadowRoot||console.error("[SlotMixin] No shadowRoot was found");const p=(m?this.shadowRoot:document).createElement("div"),k=document.createComment(`_start_slot_${t}_`),g=document.createComment(`_end_slot_${t}_`);p.appendChild(k),p.appendChild(g);const{creationScope:x,host:A}=this.renderOptions;if(C(e,p,{renderBefore:g,creationScope:x,host:A}),s){const O=Array.from(p.childNodes);this.__appendNodes({nodes:O,renderParent:this,slotName:t})}else p.slot=t,this.appendChild(p);this.__renderMetaPerSlot.set(t,{renderTargetThatRespectsShadowRootScoping:p,renderBefore:g});return}const{renderBefore:n,renderTargetThatRespectsShadowRootScoping:l}=this.__renderMetaPerSlot.get(t),d=s?this:l,{creationScope:c,host:f}=this.renderOptions;C(e,d,{creationScope:c,host:f,renderBefore:n}),s&&n.previousElementSibling&&!n.previousElementSibling.slot&&(n.previousElementSibling.slot=t)}__appendNodes({nodes:e,renderParent:t=this,slotName:s}){for(const o of e)o instanceof Element&&s&&s!==""&&o.setAttribute("slot",s),t.appendChild(o)}__initSlots(e){for(const t of e){if(this.__slotsProvidedByUserOnFirstConnected.has(t))continue;const s=this.slots[t]();if(s===void 0)continue;switch(this.__isConnectedSlotMixin||this.__privateSlots.add(t),B(s)){case"template-result":this.__renderTemplateInScopedContext({template:s,renderAsDirectHostChild:!0,slotName:t});break;case"node":this.__appendNodes({nodes:[s],renderParent:this,slotName:t});break;case"slot-rerender-object":this.__slotsThatNeedRerender.add(t),s.firstRenderOnConnected&&this.__rerenderSlot(t);break;default:throw new Error(`Slot "${t}" configured inside "get slots()" (in prototype) of ${this.constructor.name} may return these types: TemplateResult | Node | {template:TemplateResult, afterRender?:function} | undefined.
              You provided: ${s}`)}}}_connectSlotMixin(){if(this.__isConnectedSlotMixin)return;const e=Object.keys(this.slots);for(const t of e)(t===""?Array.from(this.children).find(o=>!o.hasAttribute("slot")):Array.from(this.children).find(o=>o.slot===t))&&this.__slotsProvidedByUserOnFirstConnected.add(t);this.__initSlots(e),this.__isConnectedSlotMixin=!0}_isPrivateSlot(e){return this.__privateSlots.has(e)}},w=_(z),E=window,F=new WeakMap;function $(a){E.applyFocusVisiblePolyfill&&!F.has(a)&&(E.applyFocusVisiblePolyfill(a),F.set(a,void 0))}const q=a=>class extends a{static get properties(){return{focused:{type:Boolean,reflect:!0},focusedVisible:{type:Boolean,reflect:!0,attribute:"focused-visible"},autofocus:{type:Boolean,reflect:!0}}}constructor(){super(),this.focused=!1,this.focusedVisible=!1,this.autofocus=!1}firstUpdated(e){super.firstUpdated(e),this.__registerEventsForFocusMixin(),this.__syncAutofocusToFocusableElement()}disconnectedCallback(){super.disconnectedCallback(),this.__teardownEventsForFocusMixin()}updated(e){super.updated(e),e.has("autofocus")&&this.__syncAutofocusToFocusableElement()}__syncAutofocusToFocusableElement(){this._focusableNode&&(this.hasAttribute("autofocus")?this._focusableNode.setAttribute("autofocus",""):this._focusableNode.removeAttribute("autofocus"))}focus(){this._focusableNode?.focus()}blur(){this._focusableNode?.blur()}get _focusableNode(){return this._inputNode||document.createElement("input")}__onFocus(){if(this.focused=!0,typeof E.applyFocusVisiblePolyfill=="function")this.focusedVisible=this._focusableNode.hasAttribute("data-focus-visible-added");else try{this.focusedVisible=this._focusableNode.matches(":focus-visible")}catch{this.focusedVisible=!1}}__onBlur(){this.focused=!1,this.focusedVisible=!1}__registerEventsForFocusMixin(){$(this.getRootNode()),this.__redispatchFocus=e=>{e.stopPropagation(),this.dispatchEvent(new Event("focus"))},this._focusableNode.addEventListener("focus",this.__redispatchFocus),this.__redispatchBlur=e=>{e.stopPropagation(),this.dispatchEvent(new Event("blur"))},this._focusableNode.addEventListener("blur",this.__redispatchBlur),this.__redispatchFocusin=e=>{e.stopPropagation(),this.__onFocus(),this.dispatchEvent(new Event("focusin",{bubbles:!0,composed:!0}))},this._focusableNode.addEventListener("focusin",this.__redispatchFocusin),this.__redispatchFocusout=e=>{e.stopPropagation(),this.__onBlur(),this.dispatchEvent(new Event("focusout",{bubbles:!0,composed:!0}))},this._focusableNode.addEventListener("focusout",this.__redispatchFocusout)}__teardownEventsForFocusMixin(){this._focusableNode&&(this._focusableNode?.removeEventListener("focus",this.__redispatchFocus),this._focusableNode?.removeEventListener("blur",this.__redispatchBlur),this._focusableNode?.removeEventListener("focusin",this.__redispatchFocusin),this._focusableNode?.removeEventListener("focusout",this.__redispatchFocusout))}},Ce=_(q);function b(){return!!(globalThis.ShadowRoot?.prototype.createElement&&globalThis.ShadowRoot?.prototype.importNode)}const G=a=>class extends D(a){constructor(){super()}createScopedElement(e){return(b()?this.shadowRoot:document).createElement(e)}defineScopedElement(e,t){const s=this.registry.get(e),o=s&&s!==t;return!b()&&o&&console.error([`You are trying to re-register the "${e}" custom element with a different class via ScopedElementsMixin.`,"This is only possible with a CustomElementRegistry.","Your browser does not support this feature so you will need to load a polyfill for it.",'Load "@webcomponents/scoped-custom-element-registry" before you register ANY web component to the global customElements registry.','e.g. add "<script src="/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js"><\/script>" as your first script tag.',"For more details you can visit https://open-wc.org/docs/development/scoped-elements/"].join(`
`)),s?this.registry.get(e):this.registry.define(e,t)}attachShadow(e){const{scopedElements:t}=this.constructor;if(!this.registry||this.registry===this.constructor.__registry&&!Object.prototype.hasOwnProperty.call(this.constructor,"__registry")){this.registry=b()?new CustomElementRegistry:customElements;for(const[o,n]of Object.entries(t??{}))this.defineScopedElement(o,n)}return Element.prototype.attachShadow.call(this,{...e,customElements:this.registry,registry:this.registry})}createRenderRoot(){const{shadowRootOptions:e,elementStyles:t}=this.constructor,s=this.attachShadow(e);return b()&&(this.renderOptions.creationScope=s),s instanceof ShadowRoot&&(L(s,t),this.renderOptions.renderBefore=this.renderOptions.renderBefore||s.firstChild),s}},H=_(G);class j{constructor(){this.__running=!1,this.__queue=[]}add(i){this.__queue.push(i),this.__running||(this.complete=new Promise(e=>{this.__callComplete=e}),this.__run())}async __run(){this.__running=!0,await this.__queue[0](),this.__queue.shift(),this.__queue.length>0?this.__run():(this.__running=!1,this.__callComplete&&this.__callComplete())}}function W(a){return a.charAt(0).toUpperCase()+a.slice(1)}const Q=a=>class extends a{constructor(){super(),this.__SyncUpdatableNamespace={}}firstUpdated(i){super.firstUpdated(i),this.__syncUpdatableInitialize()}connectedCallback(){super.connectedCallback(),this.__SyncUpdatableNamespace.connected=!0}disconnectedCallback(){super.disconnectedCallback(),this.__SyncUpdatableNamespace.connected=!1}static enabledWarnings=super.enabledWarnings?.filter(i=>i!=="change-in-update")||[];static __syncUpdatableHasChanged(i,e,t){const s=this.elementProperties;return s.get(i)&&s.get(i).hasChanged?s.get(i).hasChanged(e,t):e!==t}__syncUpdatableInitialize(){const i=this.__SyncUpdatableNamespace,e=this.constructor;i.initialized=!0,i.queue&&Array.from(i.queue).forEach(t=>{e.__syncUpdatableHasChanged(t,this[t],void 0)&&this.updateSync(t,void 0)})}requestUpdate(i,e,t){if(super.requestUpdate(i,e,t),i===void 0)return;this.__SyncUpdatableNamespace=this.__SyncUpdatableNamespace||{};const s=this.__SyncUpdatableNamespace,o=this.constructor;s.initialized?o.__syncUpdatableHasChanged(i,this[i],e)&&this.updateSync(i,e):(s.queue=s.queue||new Set,s.queue.add(i))}updateSync(i,e){}},J=_(Q),Y=a=>{switch(a){case"bg-BG":return r(()=>import("./bg-BG.9RE2dSVT.js"),__vite__mapDeps([0,1]));case"bg":return r(()=>import("./bg.k7z8k6zP.js"),[]);case"cs-CZ":return r(()=>import("./cs-CZ.CGIjruaR.js"),__vite__mapDeps([2,3]));case"cs":return r(()=>import("./cs.3kHzIwDi.js"),[]);case"de-DE":return r(()=>import("./de-DE.DCePOSaL.js"),__vite__mapDeps([4,5]));case"de":return r(()=>import("./de.DRZeSSSm.js"),[]);case"en-AU":return r(()=>import("./en-AU.ERP1C2TK.js"),__vite__mapDeps([6,7]));case"en-GB":return r(()=>import("./en-GB.ERP1C2TK.js"),__vite__mapDeps([8,7]));case"en-US":return r(()=>import("./en-US.ERP1C2TK.js"),__vite__mapDeps([9,7]));case"en-PH":case"en":return r(()=>import("./en.CK6HZXgc.js"),[]);case"es-ES":return r(()=>import("./es-ES.Doqs6F5n.js"),__vite__mapDeps([10,11]));case"es":return r(()=>import("./es.BqIRCJjP.js"),[]);case"fr-FR":return r(()=>import("./fr-FR.BElae2rN.js"),__vite__mapDeps([12,13]));case"fr-BE":return r(()=>import("./fr-BE.BElae2rN.js"),__vite__mapDeps([14,13]));case"fr":return r(()=>import("./fr.C9FnPcJy.js"),[]);case"hu-HU":return r(()=>import("./hu-HU.DuBVZ3vA.js"),__vite__mapDeps([15,16]));case"hu":return r(()=>import("./hu.CTnTqIx7.js"),[]);case"it-IT":return r(()=>import("./it-IT.Dv4Y-Kdt.js"),__vite__mapDeps([17,18]));case"it":return r(()=>import("./it.-lrO6ruB.js"),[]);case"nl-BE":return r(()=>import("./nl-BE.JX7EiKCg.js"),__vite__mapDeps([19,20]));case"nl-NL":return r(()=>import("./nl-NL.JX7EiKCg.js"),__vite__mapDeps([21,20]));case"nl":return r(()=>import("./nl.DSyEtmHJ.js"),[]);case"pl-PL":return r(()=>import("./pl-PL.BWU1MGFg.js"),__vite__mapDeps([22,23]));case"pl":return r(()=>import("./pl.D4CZAcCF.js"),[]);case"ro-RO":return r(()=>import("./ro-RO.9iVWj2ff.js"),__vite__mapDeps([24,25]));case"ro":return r(()=>import("./ro.DO6su2aE.js"),[]);case"ru-RU":return r(()=>import("./ru-RU.DEmPei_m.js"),__vite__mapDeps([26,27]));case"ru":return r(()=>import("./ru.DDj85KpB.js"),[]);case"sk-SK":return r(()=>import("./sk-SK.CXj7sy1O.js"),__vite__mapDeps([28,29]));case"sk":return r(()=>import("./sk.BIhPAh0q.js"),[]);case"tr-TR":return r(()=>import("./tr-TR.Cbm2kwTy.js"),__vite__mapDeps([30,31]));case"tr":return r(()=>import("./tr.C7VWmvp5.js"),[]);case"uk-UA":return r(()=>import("./uk-UA.Dnz0A2fr.js"),__vite__mapDeps([32,33]));case"uk":return r(()=>import("./uk.BMb4arxf.js"),[]);case"zh-CN":case"zh":return r(()=>import("./zh.8s9aSU_k.js"),[]);default:return r(()=>import("./en.CK6HZXgc.js"),[])}},K=a=>`${a[0].toUpperCase()}${a.slice(1)}`;class Z extends M(I){static get properties(){return{feedbackData:{attribute:!1}}}static localizeNamespaces=[{"lion-form-core":Y},...super.localizeNamespaces];static get styles(){return[T`
        .validation-feedback__type {
          position: absolute;
          width: 1px;
          height: 1px;
          overflow: hidden;
          clip-path: inset(100%);
          clip: rect(1px, 1px, 1px, 1px);
          white-space: nowrap;
          border: 0;
          margin: 0;
          padding: 0;
        }
      `]}constructor(){super(),this.feedbackData=void 0}_messageTemplate({message:i}){return i}updated(i){super.updated(i),this.feedbackData&&this.feedbackData[0]?(this.setAttribute("type",this.feedbackData[0].type),this.currentType=this.feedbackData[0].type):this.currentType!=="success"&&this.removeAttribute("type")}render(){return u`
      ${this.feedbackData&&this.feedbackData.map(({message:i,type:e,validator:t})=>u`
          <div class="validation-feedback__type">
            ${i&&e?this._localizeManager.msg(`lion-form-core:validation${K(e)}`):y}
          </div>
          ${this._messageTemplate({message:i,type:e,validator:t})}
        `)}
    `}}class v{constructor(i){this.type="unparseable",this.viewValue=i}toString(){return JSON.stringify({type:this.type,viewValue:this.viewValue})}}const X=[Node.DOCUMENT_POSITION_PRECEDING,Node.DOCUMENT_POSITION_CONTAINS,Node.DOCUMENT_POSITION_CONTAINS|Node.DOCUMENT_POSITION_PRECEDING];function ee(a,{reverse:i}={}){const e=(s,o)=>{const n=s.compareDocumentPosition(o);return X.includes(n)?1:-1},t=a.filter(s=>s);return t.sort(e),i&&t.reverse(),t}const te=a=>class extends a{constructor(){super(),this.name="",this._parentFormGroup=void 0,this.allowCrossRootRegistration=!1}get name(){return this.__name||""}set name(i){const e=this.name;this.__name=i.toString(),this.requestUpdate("name",e)}static get properties(){return{name:{type:String,reflect:!0},allowCrossRootRegistration:{type:Boolean,attribute:"allow-cross-root-registration"}}}connectedCallback(){super.connectedCallback(),this.dispatchEvent(new CustomEvent("form-element-register",{detail:{element:this},bubbles:!0,composed:!!this.allowCrossRootRegistration}))}disconnectedCallback(){super.disconnectedCallback(),this.__unregisterFormElement()}__unregisterFormElement(){this._parentFormGroup&&this._parentFormGroup.removeFormElement(this)}},ie=_(te),se=a=>class extends ie(R(w(a))){static get properties(){return{readOnly:{type:Boolean,attribute:"readonly",reflect:!0},label:String,labelSrOnly:{type:Boolean,attribute:"label-sr-only",reflect:!0},helpText:{type:String,attribute:"help-text"},modelValue:{attribute:!1},_ariaLabelledNodes:{attribute:!1},_ariaDescribedNodes:{attribute:!1},_repropagationRole:{attribute:!1},_isRepropagationEndpoint:{attribute:!1}}}get label(){return this.__label??(this._labelNode?.textContent||"")}set label(e){const t=this.label;this.__label=e,this.requestUpdate("label",t)}get helpText(){return this.__helpText??(this._helpTextNode?.textContent||"")}set helpText(e){const t=this.helpText;this.__helpText=e,this.requestUpdate("helpText",t)}get fieldName(){return this.__fieldName||this.label||this.name||""}set fieldName(e){this.__fieldName=e}get slots(){return{...super.slots,label:()=>{const e=document.createElement("label");return e.textContent=this.label,e},"help-text":()=>{const e=document.createElement("div");return e.textContent=this.helpText,e}}}get _inputNode(){return this.__getDirectSlotChild("input")}get _labelNode(){return this.__getDirectSlotChild("label")}get _helpTextNode(){return this.__getDirectSlotChild("help-text")}get _feedbackNode(){return this.__getDirectSlotChild("feedback")}static enabledWarnings=super.enabledWarnings?.filter(e=>e!=="change-in-update")||[];constructor(){super(),this.readOnly=!1,this.labelSrOnly=!1,this._inputId=P(this.localName),this._ariaLabelledNodes=[],this._ariaDescribedNodes=[],this._repropagationRole="child",this._isRepropagationEndpoint=!1,this.addEventListener("model-value-changed",this.__repropagateChildrenValues),this._onLabelClick=this._onLabelClick.bind(this)}connectedCallback(){super.connectedCallback(),this._enhanceLightDomClasses(),this._enhanceLightDomA11y(),this._triggerInitialModelValueChangedEvent(),this._labelNode&&this._labelNode.addEventListener("click",this._onLabelClick)}disconnectedCallback(){super.disconnectedCallback(),this._labelNode&&this._labelNode.removeEventListener("click",this._onLabelClick)}updated(e){super.updated(e),e.has("disabled")&&this._inputNode?.setAttribute("aria-disabled",`${!!this.disabled}`),e.has("_ariaLabelledNodes")&&this.__reflectAriaAttr("aria-labelledby",this._ariaLabelledNodes,this.__reorderAriaLabelledNodes),e.has("_ariaDescribedNodes")&&this.__reflectAriaAttr("aria-describedby",this._ariaDescribedNodes,this.__reorderAriaDescribedNodes),e.has("label")&&this.__label!==void 0&&this._labelNode&&(this._labelNode.textContent=this.label),e.has("helpText")&&this.__helpText!==void 0&&this._helpTextNode&&(this._helpTextNode.textContent=this.helpText),e.has("name")&&this.dispatchEvent(new CustomEvent("form-element-name-changed",{detail:{oldName:e.get("name"),newName:this.name},bubbles:!0}))}_triggerInitialModelValueChangedEvent(){this._dispatchInitialModelValueChangedEvent()}_enhanceLightDomClasses(){this._inputNode&&this._inputNode.classList.add("form-control")}_enhanceLightDomA11y(){const{_inputNode:e,_labelNode:t,_helpTextNode:s,_feedbackNode:o}=this;e&&(e.id=e.id||this._inputId),t&&(t.setAttribute("for",this._inputId),this.addToAriaLabelledBy(t,{idPrefix:"label"})),s&&this.addToAriaDescribedBy(s,{idPrefix:"help-text"}),o&&(this.addEventListener("focusin",()=>{o.setAttribute("aria-live","polite")}),this.addEventListener("focusout",()=>{o.setAttribute("aria-live","assertive")}),this.addToAriaDescribedBy(o,{idPrefix:"feedback"})),this._enhanceLightDomA11yForAdditionalSlots()}_enhanceLightDomA11yForAdditionalSlots(e=["prefix","suffix","before","after"]){e.forEach(t=>{const s=this.__getDirectSlotChild(t);s&&(s.hasAttribute("data-label")&&this.addToAriaLabelledBy(s,{idPrefix:t}),s.hasAttribute("data-description")&&this.addToAriaDescribedBy(s,{idPrefix:t}))})}__reflectAriaAttr(e,t,s){if(this._inputNode){if(s){const n=t.filter(h=>this.contains(h)),l=t.filter(h=>!this.contains(h)),d=n.map(h=>h.assignedSlot||h),c=[...ee(d)],f=[];c.forEach(h=>{n.forEach(m=>{h.name===m.slot&&f.push(m)})}),t=[...f,...l]}const o=t.map(n=>n.id).join(" ");this._inputNode.setAttribute(e,o)}}render(){return u`
        <div class="form-field__group-one">${this._groupOneTemplate()}</div>
        <div class="form-field__group-two">${this._groupTwoTemplate()}</div>
      `}_groupOneTemplate(){return u` ${this._labelTemplate()} ${this._helpTextTemplate()} `}_groupTwoTemplate(){return u` ${this._inputGroupTemplate()} ${this._feedbackTemplate()} `}_labelTemplate(){return u`
        <div class="form-field__label">
          <slot name="label"></slot>
        </div>
      `}_helpTextTemplate(){return u`
        <small class="form-field__help-text">
          <slot name="help-text"></slot>
        </small>
      `}_inputGroupTemplate(){return u`
        <div class="input-group">
          ${this._inputGroupBeforeTemplate()}
          <div class="input-group__container">
            ${this._inputGroupPrefixTemplate()} ${this._inputGroupInputTemplate()}
            ${this._inputGroupSuffixTemplate()}
          </div>
          ${this._inputGroupAfterTemplate()}
        </div>
      `}_inputGroupBeforeTemplate(){return u`
        <div class="input-group__before">
          <slot name="before"></slot>
        </div>
      `}_inputGroupPrefixTemplate(){return Array.from(this.children).find(e=>e.slot==="prefix")?u`
            <div class="input-group__prefix">
              <slot name="prefix"></slot>
            </div>
          `:y}_inputGroupInputTemplate(){return u`
        <div class="input-group__input">
          <slot name="input"></slot>
        </div>
      `}_inputGroupSuffixTemplate(){return Array.from(this.children).find(e=>e.slot==="suffix")?u`
            <div class="input-group__suffix">
              <slot name="suffix"></slot>
            </div>
          `:y}_inputGroupAfterTemplate(){return u`
        <div class="input-group__after">
          <slot name="after"></slot>
        </div>
      `}_feedbackTemplate(){return u`
        <div class="form-field__feedback">
          <slot name="feedback"></slot>
        </div>
      `}_isEmpty(e=this.modelValue){let t=e;if(this.modelValue instanceof v&&(t=this.modelValue.viewValue),typeof t=="object"&&t!==null&&!(t instanceof Date))return!Object.keys(t).length;const s=typeof t=="number"&&(t===0||Number.isNaN(t));return!t&&!s&&!(typeof t=="boolean"&&t===!1)}static get styles(){return[T`
          /**********************
            {block} .form-field
           ********************/

          :host {
            display: block;
          }

          :host([hidden]) {
            display: none;
          }

          :host([disabled]) {
            pointer-events: none;
          }

          :host([disabled]) .form-field__label ::slotted(*),
          :host([disabled]) .form-field__help-text ::slotted(*) {
            color: var(--disabled-text-color, #767676);
          }

          :host([label-sr-only]) .form-field__label {
            position: absolute;
            top: 0;
            width: 1px;
            height: 1px;
            overflow: hidden;
            clip-path: inset(100%);
            clip: rect(1px, 1px, 1px, 1px);
            white-space: nowrap;
            border: 0;
            margin: 0;
            padding: 0;
          }

          /***********************
            {block} .input-group
           *********************/

          .input-group__container {
            display: flex;
          }

          .input-group__input {
            flex: 1;
            display: flex;
          }

          /***** {state} :disabled *****/
          :host([disabled]) .input-group ::slotted([slot='input']) {
            color: var(--disabled-text-color, #767676);
          }

          /***********************
            {block} .form-control
           **********************/

          .input-group__container > .input-group__input ::slotted(.form-control) {
            flex: 1 1 auto;
            margin: 0; /* remove input margin in Safari */
            font-size: 100%; /* normalize default input font-size */
          }
        `]}_getAriaDescriptionElements(){return[this._helpTextNode,this._feedbackNode]}addToAriaLabelledBy(e,{idPrefix:t="",reorder:s=!0}={}){e.id=e.id||`${t}-${this._inputId}`,this._ariaLabelledNodes.includes(e)||(this._ariaLabelledNodes=[...this._ariaLabelledNodes,e],this.__reorderAriaLabelledNodes=!!s)}removeFromAriaLabelledBy(e){this._ariaLabelledNodes.includes(e)&&(this._ariaLabelledNodes.splice(this._ariaLabelledNodes.indexOf(e),1),this._ariaLabelledNodes=[...this._ariaLabelledNodes],this.__reorderAriaLabelledNodes=!1)}addToAriaDescribedBy(e,{idPrefix:t="",reorder:s=!0}={}){e.id=e.id||`${t}-${this._inputId}`,this._ariaDescribedNodes.includes(e)||(this._ariaDescribedNodes=[...this._ariaDescribedNodes,e],this.__reorderAriaDescribedNodes=!!s)}removeFromAriaDescribedBy(e){this._ariaDescribedNodes.includes(e)&&(this._ariaDescribedNodes.splice(this._ariaDescribedNodes.indexOf(e),1),this._ariaDescribedNodes=[...this._ariaDescribedNodes],this.__reorderAriaLabelledNodes=!1)}__getDirectSlotChild(e){return Array.from(this.children).find(t=>t.slot===e)}_dispatchInitialModelValueChangedEvent(){this._repropagationRole!=="child"&&(this.__repropagateChildrenInitialized=!0,this.dispatchEvent(new CustomEvent("model-value-changed",{bubbles:!0,detail:{formPath:[this],initialize:!0,isTriggeredByUser:!1}})))}_onBeforeRepropagateChildrenValues(e){}__repropagateChildrenValues(e){this._onBeforeRepropagateChildrenValues(e);const t=e.detail&&e.detail.element||e.target,s=this._isRepropagationEndpoint||this._repropagationRole==="choice-group";if(t===this)return;e.stopImmediatePropagation();const n=this._repropagationRole!=="child"&&!this.__repropagateChildrenInitialized,l=e.detail&&e.detail.initialize;if(n||l||!this._repropagationCondition(t))return;let d=[];s||(d=e.detail&&e.detail.formPath||[t]);const c=[...d,this];this.dispatchEvent(new CustomEvent("model-value-changed",{bubbles:!0,detail:{formPath:c,isTriggeredByUser:!!e.detail?.isTriggeredByUser}}))}_repropagationCondition(e){return!!e}_onLabelClick(){}},V=_(se);function N(a=[],i=[]){return a.filter(e=>!i.includes(e)).concat(i.filter(e=>!a.includes(e)))}function oe(a){return a instanceof v?a.viewValue:a}const ae=a=>class extends V(J(R(w(H(a))))){static get scopedElements(){return{...super.scopedElements,"lion-validation-feedback":Z}}static get properties(){return{validators:{attribute:!1},hasFeedbackFor:{attribute:!1},shouldShowFeedbackFor:{attribute:!1},showsFeedbackFor:{type:Array,attribute:"shows-feedback-for",reflect:!0,converter:{fromAttribute:i=>i.split(","),toAttribute:i=>i.join(",")}},validationStates:{attribute:!1},isPending:{type:Boolean,attribute:"is-pending",reflect:!0},defaultValidators:{attribute:!1},_visibleMessagesAmount:{attribute:!1},__childModelValueChanged:{attribute:!1}}}static get validationTypes(){return["error"]}get operationMode(){return"enter"}get slots(){return{...super.slots,feedback:()=>{const i=this.createScopedElement("lion-validation-feedback");return i.setAttribute("data-tag-name","lion-validation-feedback"),i}}}get _allValidators(){return[...this.validators,...this.defaultValidators]}constructor(){super(),this.hasFeedbackFor=[],this.showsFeedbackFor=[],this.shouldShowFeedbackFor=[],this.validationStates={},this.isPending=!1,this.validators=[],this.defaultValidators=[],this._visibleMessagesAmount=1,this.__syncValidationResult=[],this.__asyncValidationResult=[],this.__validationResult=[],this.__prevValidationResult=[],this.__prevShownValidationResult=[],this.__childModelValueChanged=!1,this._onValidatorUpdated=this._onValidatorUpdated.bind(this),this._updateFeedbackComponent=this._updateFeedbackComponent.bind(this)}connectedCallback(){super.connectedCallback(),S().addEventListener("localeChanged",this._updateFeedbackComponent)}disconnectedCallback(){super.disconnectedCallback(),S().removeEventListener("localeChanged",this._updateFeedbackComponent)}firstUpdated(i){super.firstUpdated(i),this.__isValidateInitialized=!0,this.validate(),this._repropagationRole!=="child"&&this.addEventListener("model-value-changed",()=>{this.__childModelValueChanged=!0})}updateSync(i,e){if(super.updateSync(i,e),i==="validators"?(this.__setupValidators(),this.validate({clearCurrentResult:!0})):i==="modelValue"&&this.validate({clearCurrentResult:!0}),["touched","dirty","prefilled","focused","submitted","hasFeedbackFor","filled"].includes(i)&&this._updateShouldShowFeedbackFor(),i==="showsFeedbackFor"){this._inputNode&&this._inputNode.setAttribute("aria-invalid",`${this._hasFeedbackVisibleFor("error")}`);const t=N(this.showsFeedbackFor,e);t.length>0&&this.dispatchEvent(new Event("showsFeedbackForChanged",{bubbles:!0})),t.forEach(s=>{this.dispatchEvent(new Event(`showsFeedbackFor${W(s)}Changed`,{bubbles:!0}))})}i==="shouldShowFeedbackFor"&&N(this.shouldShowFeedbackFor,e).length>0&&this.dispatchEvent(new Event("shouldShowFeedbackForChanged",{bubbles:!0}))}async validate({clearCurrentResult:i=!1}={}){if(this.validateComplete=new Promise(e=>{this.__validateCompleteResolve=e}),this.disabled){this.__clearValidationResults(),this.__finishValidationPass(),this._updateFeedbackComponent();return}this.__isValidateInitialized&&(this.__prevValidationResult=this.__validationResult,i&&this.__clearValidationResults(),await this.__executeValidators())}#e(i){let e=i;for(;e;){if(e.constructor.validatorName==="Required")return!0;e=Object.getPrototypeOf(e)}return!1}async __executeValidators(){const i=oe(this.modelValue),e=this.__isEmpty(i);if(this.__syncValidationResult=[],e){const l=!this._isFormOrFieldset,d=this._allValidators.find(c=>c.constructor?.validatorName==="Required");if(d&&(this.__syncValidationResult=[{validator:d,outcome:!0}]),l){this.__finishValidationPass({syncValidationResult:this.__syncValidationResult});return}}const t=[],s=[],o=[];for(const l of this._allValidators)l?.executeOnResults?t.push(l):this.#e(l)||(l.constructor.async?o.push(l):s.push(l));const n=!!o.length;this.__syncValidationResult=[...this.__syncValidationResult,...this.__executeSyncValidators(s,i)],this.__finishValidationPass({syncValidationResult:this.__syncValidationResult,metaValidators:t}),n?(this.isPending=!0,this.__asyncValidationResult=await this.__executeAsyncValidators(o,i),this.isPending=!1,this.__finishValidationPass({syncValidationResult:this.__syncValidationResult,asyncValidationResult:this.__asyncValidationResult,metaValidators:t}),this.__validateCompleteResolve?.(!0)):this.__validateCompleteResolve?.(!0)}__executeSyncValidators(i,e){return i.map(t=>({validator:t,outcome:t.execute(e,t.param,{node:this})})).filter(t=>!!t.outcome)}async __executeAsyncValidators(i,e){const t=i.map(o=>o.execute(e,o.param,{node:this})),s=await Promise.all(t);return s.map((o,n)=>({validator:i[n],outcome:s[n]})).filter(o=>!!o.outcome)}__executeMetaValidators(i,e){return e.length?this._isEmpty(this.modelValue)?(this.__prevShownValidationResult=[],[]):e.map(t=>({validator:t,outcome:t.executeOnResults({regularValidationResult:i.map(s=>s.validator),prevValidationResult:this.__prevValidationResult.map(s=>s.validator),prevShownValidationResult:this.__prevShownValidationResult.map(s=>s.validator)})})).filter(t=>!!t.outcome):[]}__finishValidationPass({syncValidationResult:i=[],asyncValidationResult:e=[],metaValidators:t=[]}={}){const s=[...i,...e],o=this.__executeMetaValidators(s,t);this.__validationResult=[...o,...s];const l=this.constructor.validationTypes.reduce((d,c)=>({...d,[c]:{}}),{});for(const{validator:d,outcome:c}of this.__validationResult){l[d.type]||(l[d.type]={});const f=d.constructor;l[d.type][f.validatorName]=c}this.validationStates=l,this.hasFeedbackFor=[...new Set(this.__validationResult.map(({validator:d})=>d.type))],this.dispatchEvent(new Event("validate-performed",{bubbles:!0}))}__clearValidationResults(){this.__syncValidationResult=[],this.__asyncValidationResult=[]}_onValidatorUpdated(i){(i.type==="param-changed"||i.type==="config-changed")&&this.validate()}__setupValidators(){const i=["param-changed","config-changed"];for(const e of this.__prevValidators||[]){for(const t of i)e.removeEventListener?.(t,this._onValidatorUpdated);e.onFormControlDisconnect(this)}for(const e of this._allValidators){if(e.constructor._$isValidator$===void 0){const l=`Validators array only accepts class instances of Validator. Type "${Array.isArray(e)?"array":typeof e}" found. This may be caused by having multiple installations of "@lion/ui/form-core.js".`;throw console.error(l,this),new Error(l)}const s=this.constructor,o=e.constructor;if(s.validationTypes.indexOf(e.type)===-1){const n=`This component does not support the validator type "${e.type}" used in "${o.validatorName}". You may change your validators type or add it to the components "static get validationTypes() {}".`;throw console.error(n,this),new Error(n)}for(const n of i)e.addEventListener?.(n,l=>{this._onValidatorUpdated(l,{validator:e})});e.onFormControlConnect(this)}this.__prevValidators=this._allValidators}__isEmpty(i){return typeof this._isEmpty=="function"?this._isEmpty(i):this.modelValue===null||typeof this.modelValue>"u"||this.modelValue===""}async __getFeedbackMessages(i){let e=await this.fieldName;return Promise.all(i.map(async({validator:t,outcome:s})=>(t.config.fieldName&&(e=await t.config.fieldName),{message:await t._getMessage({modelValue:this.modelValue,formControl:this,fieldName:e,outcome:s}),type:t.type,validator:t,visibilityDuration:t.config?.visibilityDuration||3e3})))}_updateFeedbackComponent(){window.clearTimeout(this.removeMessage);const{_feedbackNode:i}=this;i&&(this.__feedbackQueue||(this.__feedbackQueue=new j),this.showsFeedbackFor.length>0?this.__feedbackQueue.add(async()=>{const e=this._prioritizeAndFilterFeedback({validationResult:this.__validationResult.map(s=>s.validator)});this.__prioritizedResult=e.map(s=>this.__validationResult.find(n=>s===n.validator)).filter(Boolean),this.__prioritizedResult.length>0&&(this.__prevShownValidationResult=this.__prioritizedResult);const t=await this.__getFeedbackMessages(this.__prioritizedResult);i.feedbackData=t||[],t?.[0]&&t[0].type==="success"&&t[0].visibilityDuration!==1/0&&(this.removeMessage=window.setTimeout(()=>{i.removeAttribute("type"),i.feedbackData=[]},t[0].visibilityDuration))}):this.__feedbackQueue.add(async()=>{i.feedbackData=[]}),this.feedbackComplete=this.__feedbackQueue.complete)}_showFeedbackConditionFor(i,e){return!0}get _feedbackConditionMeta(){return{modelValue:this.modelValue,el:this}}feedbackCondition(i,e=this._feedbackConditionMeta,t=this._showFeedbackConditionFor.bind(this)){return t(i,e)}_hasFeedbackVisibleFor(i){return this.hasFeedbackFor?.includes(i)&&this.shouldShowFeedbackFor?.includes(i)}updated(i){if(super.updated(i),i.has("shouldShowFeedbackFor")||i.has("hasFeedbackFor")){const e=this.constructor;this.showsFeedbackFor=e.validationTypes.map(t=>this._hasFeedbackVisibleFor(t)?t:void 0).filter(Boolean),this._updateFeedbackComponent()}if(i.has("__childModelValueChanged")&&this.__childModelValueChanged&&(this.validate({clearCurrentResult:!0}),this.__childModelValueChanged=!1),i.has("validationStates")){const e=i.get("validationStates");e&&Object.entries(this.validationStates).forEach(([t,s])=>{e[t]&&JSON.stringify(s)!==JSON.stringify(e[t])&&this.dispatchEvent(new CustomEvent(`${t}StateChanged`,{detail:s}))})}}_updateShouldShowFeedbackFor(){const e=this.constructor.validationTypes.map(t=>this.feedbackCondition(t,this._feedbackConditionMeta,this._showFeedbackConditionFor.bind(this))?t:void 0).filter(Boolean);JSON.stringify(this.shouldShowFeedbackFor)!==JSON.stringify(e)&&(this.shouldShowFeedbackFor=e)}_prioritizeAndFilterFeedback({validationResult:i}){const t=this.constructor.validationTypes;return i.filter(o=>this.feedbackCondition(o.type,this._feedbackConditionMeta,this._showFeedbackConditionFor.bind(this))).sort((o,n)=>t.indexOf(o.type)-t.indexOf(n.type)).slice(0,this._visibleMessagesAmount)}},re=_(ae),ne=a=>class extends re(V(a)){static get properties(){return{formattedValue:{attribute:!1},serializedValue:{attribute:!1},formatOptions:{attribute:!1}}}#e={didFormatterOutputSyncToView:!1,didFormatterRun:!1};requestUpdate(e,t,s){super.requestUpdate(e,t,s),e==="modelValue"&&this.modelValue!==t&&this._onModelValueChanged({modelValue:this.modelValue},{modelValue:t}),e==="serializedValue"&&this.serializedValue!==t&&this._calculateValues({source:"serialized"}),e==="formattedValue"&&this.formattedValue!==t&&this._calculateValues({source:"formatted"})}get value(){return this._inputNode?.value||this.__value||""}set value(e){this._inputNode?(this._inputNode.value=e,this.__value=void 0):this.__value=e}preprocessor(e,t){}parser(e,t){return e}formatter(e,t){return e}serializer(e){return e!==void 0?e:""}deserializer(e){return e===void 0?"":e}_calculateValues({source:e}={source:null}){this.__preventRecursiveTrigger||(this.__preventRecursiveTrigger=!0,e!=="model"&&(e==="serialized"?this.modelValue=this.deserializer(this.serializedValue):e==="formatted"&&(this.modelValue=this._callParser())),e!=="formatted"&&(this.formattedValue=this._callFormatter()),e!=="serialized"&&(this.serializedValue=this.serializer(this.modelValue)),this._reflectBackFormattedValueToUser(),this.__preventRecursiveTrigger=!1,this.__prevViewValue=this.value)}_callParser(e=this.formattedValue){if(e==="")return"";if(typeof e!="string")return;const t=this.parser(e,{...this.formatOptions,mode:this.#t(),viewValueStates:this.#i()});return t!==void 0?t:new v(e)}_callFormatter(){return this.#e.didFormatterRun=!1,this._isHandlingUserInput&&this.hasFeedbackFor?.includes("error")&&this._inputNode?this.value:this.modelValue instanceof v?this.modelValue.viewValue:(this.#e.didFormatterRun=!0,this.formatter(this.modelValue,{...this.formatOptions,mode:this.#t(),viewValueStates:this.#i()}))}_onModelValueChanged(...e){this._calculateValues({source:"model"}),this._dispatchModelValueChangedEvent(...e)}_dispatchModelValueChangedEvent(...e){this.dispatchEvent(new CustomEvent("model-value-changed",{bubbles:!0,detail:{formPath:[this],isTriggeredByUser:!!this._isHandlingUserInput}}))}_syncValueUpwards(){this.__isHandlingComposition||this.__handlePreprocessor();const e=this.formattedValue;this.modelValue=this._callParser(this.value),e===this.formattedValue&&this.__prevViewValue!==this.value&&this._calculateValues()}__handlePreprocessor(){let e=this.value.length;this._inputNode&&"selectionStart"in this._inputNode&&this._inputNode?.type!=="range"&&(e=this._inputNode.selectionStart);const t=this.preprocessor(this.value,{...this.formatOptions,currentCaretIndex:e,prevViewValue:this.__prevViewValue});if(t!==void 0){if(typeof t=="string")this.value=t;else if(typeof t=="object"){const{viewValue:s,caretIndex:o}=t;this.value=s,o&&this._inputNode&&"selectionStart"in this._inputNode&&(this._inputNode.selectionStart=o,this._inputNode.selectionEnd=o)}}}_reflectBackFormattedValueToUser(){this._reflectBackOn()&&(this.value=typeof this.formattedValue<"u"?this.formattedValue:"",this.#e.didFormatterOutputSyncToView=!!this.formattedValue&&this.#e.didFormatterRun)}_reflectBackOn(){return!this._isHandlingUserInput}_proxyInputEvent(){this.dispatchEvent(new Event("user-input-changed",{bubbles:!0}))}_onUserInputChanged(){this._isHandlingUserInput=!0,this._syncValueUpwards(),this._isHandlingUserInput=!1}__onCompositionEvent({type:e}){e==="compositionstart"?this.__isHandlingComposition=!0:e==="compositionend"&&(this.__isHandlingComposition=!1,this._syncValueUpwards())}constructor(){super(),this.formatOn="change",this.formatOptions={mode:"auto"},this.formattedValue=void 0,this.serializedValue=void 0,this._isPasting=!1,this._isHandlingUserInput=!1,this.__prevViewValue="",this.__onCompositionEvent=this.__onCompositionEvent.bind(this),this.addEventListener("user-input-changed",this._onUserInputChanged),this.addEventListener("paste",this.__onPaste),this._reflectBackFormattedValueToUser=this._reflectBackFormattedValueToUser.bind(this),this._reflectBackFormattedValueDebounced=()=>{setTimeout(this._reflectBackFormattedValueToUser)}}__onPaste(){this._isPasting=!0,setTimeout(()=>{this._isPasting=!1})}connectedCallback(){super.connectedCallback(),typeof this.modelValue>"u"&&this._syncValueUpwards(),this.__prevViewValue=this.value,this._reflectBackFormattedValueToUser(),this._inputNode&&(this._inputNode.addEventListener(this.formatOn,this._reflectBackFormattedValueDebounced),this._inputNode.addEventListener("input",this._proxyInputEvent),this._inputNode.addEventListener("compositionstart",this.__onCompositionEvent),this._inputNode.addEventListener("compositionend",this.__onCompositionEvent))}disconnectedCallback(){super.disconnectedCallback(),this._inputNode&&(this._inputNode.removeEventListener("input",this._proxyInputEvent),this._inputNode.removeEventListener(this.formatOn,this._reflectBackFormattedValueDebounced),this._inputNode.removeEventListener("compositionstart",this.__onCompositionEvent),this._inputNode.removeEventListener("compositionend",this.__onCompositionEvent))}#t(){return this._isPasting?"pasted":this._isHandlingUserInput&&this.__prevViewValue?"user-edited":"auto"}#i(){const e=[];return this.#e.didFormatterOutputSyncToView&&e.push("formatted"),e}},Te=_(ne),le=a=>class extends V(a){static get properties(){return{touched:{type:Boolean,reflect:!0},dirty:{type:Boolean,reflect:!0},filled:{type:Boolean,reflect:!0},prefilled:{attribute:!1},submitted:{attribute:!1}}}requestUpdate(e,t,s){super.requestUpdate(e,t,s),e==="touched"&&this.touched!==t&&this._onTouchedChanged(),e==="modelValue"&&(this.filled=!this._isEmpty()),e==="dirty"&&this.dirty!==t&&this._onDirtyChanged()}constructor(){super(),this.touched=!1,this.dirty=!1,this.prefilled=!1,this.filled=!1,this._leaveEvent="blur",this._valueChangedEvent="model-value-changed",this._iStateOnLeave=this._iStateOnLeave.bind(this),this._iStateOnValueChange=this._iStateOnValueChange.bind(this)}connectedCallback(){super.connectedCallback(),this.addEventListener(this._leaveEvent,this._iStateOnLeave),this.addEventListener(this._valueChangedEvent,this._iStateOnValueChange),this.initInteractionState()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(this._leaveEvent,this._iStateOnLeave),this.removeEventListener(this._valueChangedEvent,this._iStateOnValueChange)}initInteractionState(){this.dirty=!1,this.prefilled=!this._isEmpty()}_iStateOnLeave(){this.touched=!0,this.prefilled=!this._isEmpty()}_iStateOnValueChange(){this.dirty=!0}resetInteractionState(){this.touched=!1,this.submitted=!1,this.dirty=!1,this.prefilled=!this._isEmpty()}_onTouchedChanged(){this.dispatchEvent(new Event("touched-changed",{bubbles:!0,composed:!0}))}_onDirtyChanged(){this.dispatchEvent(new Event("dirty-changed",{bubbles:!0,composed:!0}))}_showFeedbackConditionFor(e,t){return t.touched&&t.dirty||t.prefilled||t.submitted}get _feedbackConditionMeta(){return{...super._feedbackConditionMeta,submitted:this.submitted,touched:this.touched,dirty:this.dirty,filled:this.filled,prefilled:this.prefilled}}},we=_(le);export{Te as F,we as I,Z as L,w as S,v as U,re as V,Ce as a,V as b,ie as c,H as d,ee as g,ye as m};
