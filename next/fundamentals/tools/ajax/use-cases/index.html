<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/next/favicon.svg"><meta name="generator" content="Astro v5.13.9"><link href="/next/styles/open-props@1.6.11.min.css" rel="stylesheet" type="text/css"><link href="/next/styles/global.css" rel="stylesheet" type="text/css"><link href="/next/styles/lion/variables.css" rel="stylesheet" type="text/css"><link href="/next/styles/lion/markdown.css" rel="stylesheet" type="text/css"><link href="/next/styles/lion/layout.css" rel="stylesheet" type="text/css"><link href="/next/styles/lion/style.css" rel="stylesheet" type="text/css"><script type="module" src="/next/_astro/MainLayout.astro_astro_type_script_index_0_lang.BoVk2TqR.js"></script><link rel="canonical" href="http://localhost:4321/next/fundamentals/tools/ajax/use-cases"><meta name="description" content="High quality UI web components"><meta name="robots" content="index, follow"><meta property="og:title" content="Lion"><meta property="og:type" content="website"><meta property="og:image" content="http://localhost:4321/opengraph.jpg"><meta property="og:url" content="http://localhost:4321/next/fundamentals/tools/ajax/use-cases"><meta property="og:image:url" content="http://localhost:4321/opengraph.jpg"><meta property="og:image:alt" content="Lion Homepage screen"><style>.container[data-astro-cid-2dr2cpgs]{display:flex;flex-direction:row;width:100%}.content[data-astro-cid-2dr2cpgs]{flex:1 1 0;min-width:0}ui-portal-inpage-nav[data-astro-cid-2dr2cpgs]{width:180px;flex:0 0 180px}
.ui-portal-grid__main{padding:50px}h1{color:var(--Primary-Gray600, #333);font-family:ING Me;font-size:48px;font-style:normal;font-weight:700;line-height:56px;border-bottom:1px solid var(--Primary-Gray200, #d9d9d9);margin:0 -230px 0 -50px;padding:0 230px 0 50px}@media (max-width: 1200px){.ui-portal-grid__main{padding:30px}h1{margin:0 -30px;padding:0 30px}}@media (max-width: 899px){.ui-portal-grid__main{padding:20px}h1{margin:0 -20px;padding:0 20px}}h2{color:var(--Primary-Gray600, #333);font-family:ING Me;font-size:36px;font-style:normal;font-weight:700;line-height:48px}h3{color:var(--Primary-Gray600, #333);font-family:ING Me;font-size:19px;font-style:normal;font-weight:700;line-height:28px}img{content-visibility:auto}.ui-portal-grid{display:grid;grid-template-columns:min-content 1fr;grid-template-rows:1fr min-content;grid-template-areas:"nav main" "nav footer"}.ui-portal-grid__nav{grid-area:nav}.ui-portal-grid__main{grid-area:main}.ui-portal-grid__footer{grid-area:footer}.ui-portal-collection{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,300px))}.ui-portal-card{display:flex;flex-direction:column;padding:1rem;border-radius:.5rem}@media (max-width: 899px){.ui-portal-grid__nav{position:absolute;background:#fff;z-index:100}.ui-portal-grid{grid-template-columns:1fr;grid-template-rows:1fr;grid-template-areas:"main" "footer"}}
</style><script>/** @license Copyright 2020 Google LLC (BSD-3-Clause) */
/** Bundled JS generated from "@astrojs/lit/client-shim.js" */
var N = Object.defineProperty;
var i = (t, n) => () => (t && (n = t((t = 0))), n);
var b = (t, n) => {
	for (var a in n) N(t, a, { get: n[a], enumerable: !0 });
};
function s() {
	if (d === void 0) {
		let t = document.createElement('div');
		(t.innerHTML = '<div><template shadowrootmode="open"></template></div>'),
			(d = !!t.firstElementChild.shadowRoot);
	}
	return d;
}
var d,
	m = i(() => {});
var p,
	c,
	f,
	u = i(() => {
		(p = (t) => t.parentElement === null),
			(c = (t) => t.tagName === 'TEMPLATE'),
			(f = (t) => t.nodeType === Node.ELEMENT_NODE);
	});
var h,
	E = i(() => {
		m();
		u();
		h = (t) => {
			var n;
			if (s()) return;
			let a = [],
				e = t.firstElementChild;
			for (; e !== t && e !== null; )
				if (c(e)) a.push(e), (e = e.content);
				else if (e.firstElementChild !== null) e = e.firstElementChild;
				else if (f(e) && e.nextElementSibling !== null) e = e.nextElementSibling;
				else {
					let o;
					for (; e !== t && e !== null; )
						if (p(e)) {
							o = a.pop();
							let r = o.parentElement,
								l = o.getAttribute('shadowroot');
							if (((e = o), l === 'open' || l === 'closed')) {
								let y = o.hasAttribute('shadowrootdelegatesfocus');
								try {
									r.attachShadow({ mode: l, delegatesFocus: y }).append(o.content);
								} catch {}
							} else o = void 0;
						} else {
							let r = e.nextElementSibling;
							if (r != null) {
								(e = r), o !== void 0 && o.parentElement.removeChild(o);
								break;
							}
							let l =
								(n = e.parentElement) === null || n === void 0 ? void 0 : n.nextElementSibling;
							if (l != null) {
								(e = l), o !== void 0 && o.parentElement.removeChild(o);
								break;
							}
							(e = e.parentElement), o !== void 0 && (o.parentElement.removeChild(o), (o = void 0));
						}
				}
		};
	});
var w = i(() => {
	E();
});
var v = {};
b(v, { hasNativeDeclarativeShadowRoots: () => s, hydrateShadowRoots: () => h });
var S = i(() => {
	m();
	w();
});
async function g() {
	let { hydrateShadowRoots: t } = await Promise.resolve().then(() => (S(), v));
	window.addEventListener('DOMContentLoaded', () => t(document.body), { once: true });
}
var x = Document.parseHTMLUnsafe(
	'<p><template shadowrootmode="open"></template></p>'
).querySelector('p');
(!x || !x.shadowRoot) && g();
</script></head> <body class="ui-portal-grid" data-layout="layout-general"> <div class="ui-portal-grid__nav"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1iLYgD" component-url="/next/_astro/ui-portal-main-nav.DWL6Xyou.js" component-export="UIPortalMainNav" renderer-url="/next/_astro/client.DEGHhFmz.js" props="{&quot;nav-data&quot;:[0,&quot;[{\&quot;name\&quot;:\&quot;home\&quot;,\&quot;url\&quot;:\&quot;/next\&quot;,\&quot;iconId\&quot;:\&quot;lion-portal:portal:home\&quot;},{\&quot;name\&quot;:\&quot;fundamentals\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals\&quot;,\&quot;iconId\&quot;:\&quot;lion-portal:portal:sdk\&quot;,\&quot;children\&quot;:[{\&quot;name\&quot;:\&quot;Tools\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/tools\&quot;,\&quot;priority\&quot;:20,\&quot;children\&quot;:[{\&quot;name\&quot;:\&quot;Helpers\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/tools/helpers\&quot;,\&quot;priority\&quot;:5,\&quot;redirect\&quot;:\&quot;/next/fundamentals/tools/helpers/overview\&quot;},{\&quot;name\&quot;:\&quot;Ajax\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/tools/ajax\&quot;,\&quot;priority\&quot;:20,\&quot;children\&quot;:[{\&quot;name\&quot;:\&quot;Overview\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/tools/ajax/overview\&quot;,\&quot;priority\&quot;:10},{\&quot;name\&quot;:\&quot;Use Cases\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/tools/ajax/use-cases\&quot;,\&quot;priority\&quot;:20,\&quot;active\&quot;:true}],\&quot;redirect\&quot;:\&quot;/next/fundamentals/tools/ajax/overview\&quot;,\&quot;active\&quot;:true,\&quot;hasActiveChild\&quot;:true},{\&quot;name\&quot;:\&quot;Singleton Manager\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/tools/singleton-manager\&quot;,\&quot;priority\&quot;:30,\&quot;redirect\&quot;:\&quot;/next/fundamentals/tools/singleton-manager/overview\&quot;}],\&quot;redirect\&quot;:\&quot;/next/fundamentals/tools/helpers/overview\&quot;,\&quot;active\&quot;:true,\&quot;hasActiveChild\&quot;:true},{\&quot;name\&quot;:\&quot;Systems\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/systems\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/fundamentals/systems/core/overview\&quot;},{\&quot;name\&quot;:\&quot;Node Tools\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/node-tools\&quot;,\&quot;priority\&quot;:30,\&quot;redirect\&quot;:\&quot;/next/fundamentals/node-tools/rocket-preset-extend-lion-docs/overview\&quot;},{\&quot;name\&quot;:\&quot;Rationales\&quot;,\&quot;url\&quot;:\&quot;/next/fundamentals/rationales\&quot;,\&quot;priority\&quot;:50,\&quot;redirect\&quot;:\&quot;/next/fundamentals/rationales/accessibility\&quot;}],\&quot;active\&quot;:true,\&quot;hasActiveChild\&quot;:true},{\&quot;name\&quot;:\&quot;guides\&quot;,\&quot;url\&quot;:\&quot;/next/guides\&quot;,\&quot;iconId\&quot;:\&quot;lion-portal:portal:extension\&quot;,\&quot;children\&quot;:[{\&quot;name\&quot;:\&quot;Principles\&quot;,\&quot;url\&quot;:\&quot;/next/guides/principles\&quot;,\&quot;priority\&quot;:10,\&quot;redirect\&quot;:\&quot;/next/guides/principles/definitions-and-terms\&quot;},{\&quot;name\&quot;:\&quot;How To\&quot;,\&quot;url\&quot;:\&quot;/next/guides/how-to\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/guides/how-to/get-started\&quot;}]},{\&quot;name\&quot;:\&quot;components\&quot;,\&quot;url\&quot;:\&quot;/next/components\&quot;,\&quot;iconId\&quot;:\&quot;lion-portal:portal:deployedCode\&quot;,\&quot;children\&quot;:[{\&quot;name\&quot;:\&quot;Accordion\&quot;,\&quot;url\&quot;:\&quot;/next/components/accordion\&quot;,\&quot;priority\&quot;:0,\&quot;redirect\&quot;:\&quot;/next/components/accordion/overview\&quot;},{\&quot;name\&quot;:\&quot;Button\&quot;,\&quot;url\&quot;:\&quot;/next/components/button\&quot;,\&quot;priority\&quot;:10,\&quot;redirect\&quot;:\&quot;/next/components/button/overview\&quot;},{\&quot;name\&quot;:\&quot;Calendar\&quot;,\&quot;url\&quot;:\&quot;/next/components/calendar\&quot;,\&quot;priority\&quot;:10,\&quot;redirect\&quot;:\&quot;/next/components/calendar/use-cases\&quot;},{\&quot;name\&quot;:\&quot;Checkbox Group\&quot;,\&quot;url\&quot;:\&quot;/next/components/checkbox-group\&quot;,\&quot;priority\&quot;:10,\&quot;redirect\&quot;:\&quot;/next/components/checkbox-group/overview\&quot;},{\&quot;name\&quot;:\&quot;Collapsible\&quot;,\&quot;url\&quot;:\&quot;/next/components/collapsible\&quot;,\&quot;priority\&quot;:10,\&quot;redirect\&quot;:\&quot;/next/components/collapsible/overview\&quot;},{\&quot;name\&quot;:\&quot;Combobox\&quot;,\&quot;url\&quot;:\&quot;/next/components/combobox\&quot;,\&quot;priority\&quot;:10,\&quot;redirect\&quot;:\&quot;/next/components/combobox/overview\&quot;},{\&quot;name\&quot;:\&quot;Dialog\&quot;,\&quot;url\&quot;:\&quot;/next/components/dialog\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/dialog/overview\&quot;},{\&quot;name\&quot;:\&quot;Drawer\&quot;,\&quot;url\&quot;:\&quot;/next/components/drawer\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/drawer/overview\&quot;},{\&quot;name\&quot;:\&quot;Fieldset\&quot;,\&quot;url\&quot;:\&quot;/next/components/fieldset\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/fieldset/overview\&quot;},{\&quot;name\&quot;:\&quot;Form\&quot;,\&quot;url\&quot;:\&quot;/next/components/form\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/form/overview\&quot;},{\&quot;name\&quot;:\&quot;Icon\&quot;,\&quot;url\&quot;:\&quot;/next/components/icon\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/icon/overview\&quot;},{\&quot;name\&quot;:\&quot;Input\&quot;,\&quot;url\&quot;:\&quot;/next/components/input\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Amount\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-amount\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-amount/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Amount Dropdown\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-amount-dropdown\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-amount-dropdown/use-cases\&quot;},{\&quot;name\&quot;:\&quot;Input Date\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-date\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-date/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Datepicker\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-datepicker\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-datepicker/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Email\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-email\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-email/overview\&quot;},{\&quot;name\&quot;:\&quot;Input File\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-file\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-file/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Iban\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-iban\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-iban/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Range\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-range\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-range/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Stepper\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-stepper\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-stepper/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Tel\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-tel\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-tel/overview\&quot;},{\&quot;name\&quot;:\&quot;Input Tel Dropdown\&quot;,\&quot;url\&quot;:\&quot;/next/components/input-tel-dropdown\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/input-tel-dropdown/overview\&quot;},{\&quot;name\&quot;:\&quot;Listbox\&quot;,\&quot;url\&quot;:\&quot;/next/components/listbox\&quot;,\&quot;priority\&quot;:20,\&quot;redirect\&quot;:\&quot;/next/components/listbox/overview\&quot;},{\&quot;name\&quot;:\&quot;Pagination\&quot;,\&quot;url\&quot;:\&quot;/next/components/pagination\&quot;,\&quot;priority\&quot;:30,\&quot;redirect\&quot;:\&quot;/next/components/pagination/overview\&quot;},{\&quot;name\&quot;:\&quot;Progress Indicator\&quot;,\&quot;url\&quot;:\&quot;/next/components/progress-indicator\&quot;,\&quot;priority\&quot;:30,\&quot;redirect\&quot;:\&quot;/next/components/progress-indicator/overview\&quot;},{\&quot;name\&quot;:\&quot;Radio Group\&quot;,\&quot;url\&quot;:\&quot;/next/components/radio-group\&quot;,\&quot;priority\&quot;:30,\&quot;redirect\&quot;:\&quot;/next/components/radio-group/overview\&quot;},{\&quot;name\&quot;:\&quot;Select\&quot;,\&quot;url\&quot;:\&quot;/next/components/select\&quot;,\&quot;priority\&quot;:40,\&quot;redirect\&quot;:\&quot;/next/components/select/overview\&quot;},{\&quot;name\&quot;:\&quot;Select Rich\&quot;,\&quot;url\&quot;:\&quot;/next/components/select-rich\&quot;,\&quot;priority\&quot;:40,\&quot;redirect\&quot;:\&quot;/next/components/select-rich/overview\&quot;},{\&quot;name\&quot;:\&quot;Steps\&quot;,\&quot;url\&quot;:\&quot;/next/components/steps\&quot;,\&quot;priority\&quot;:50,\&quot;redirect\&quot;:\&quot;/next/components/steps/overview\&quot;},{\&quot;name\&quot;:\&quot;Switch\&quot;,\&quot;url\&quot;:\&quot;/next/components/switch\&quot;,\&quot;priority\&quot;:50,\&quot;redirect\&quot;:\&quot;/next/components/switch/overview\&quot;},{\&quot;name\&quot;:\&quot;Tabs\&quot;,\&quot;url\&quot;:\&quot;/next/components/tabs\&quot;,\&quot;priority\&quot;:50,\&quot;redirect\&quot;:\&quot;/next/components/tabs/overview\&quot;},{\&quot;name\&quot;:\&quot;Textarea\&quot;,\&quot;url\&quot;:\&quot;/next/components/textarea\&quot;,\&quot;priority\&quot;:50,\&quot;redirect\&quot;:\&quot;/next/components/textarea/overview\&quot;},{\&quot;name\&quot;:\&quot;Tooltip\&quot;,\&quot;url\&quot;:\&quot;/next/components/tooltip\&quot;,\&quot;priority\&quot;:60,\&quot;redirect\&quot;:\&quot;/next/components/tooltip/overview\&quot;}]},{\&quot;name\&quot;:\&quot;blog\&quot;,\&quot;url\&quot;:\&quot;/next/blog\&quot;,\&quot;iconId\&quot;:\&quot;lion-portal:portal:deployedCode\&quot;,\&quot;children\&quot;:[{\&quot;name\&quot;:\&quot;The Accessibility of Lion\&quot;,\&quot;url\&quot;:\&quot;/next/blog/accessibility\&quot;,\&quot;priority\&quot;:0},{\&quot;name\&quot;:\&quot;Controlling exports\&quot;,\&quot;url\&quot;:\&quot;/next/blog/controlling-exports\&quot;,\&quot;priority\&quot;:0},{\&quot;name\&quot;:\&quot;ING open sources Lion\&quot;,\&quot;url\&quot;:\&quot;/next/blog/ing-open-sources-lion\&quot;,\&quot;priority\&quot;:0},{\&quot;name\&quot;:\&quot;Lion without polyfills\&quot;,\&quot;url\&quot;:\&quot;/next/blog/lion-without-polyfills\&quot;,\&quot;priority\&quot;:0},{\&quot;name\&quot;:\&quot;Extending Lion Documentation\&quot;,\&quot;url\&quot;:\&quot;/next/blog/extending-documentation\&quot;,\&quot;priority\&quot;:0},{\&quot;name\&quot;:\&quot;Introducing lions website\&quot;,\&quot;url\&quot;:\&quot;/next/blog/introducing-lions-website\&quot;,\&quot;priority\&quot;:0}]}]&quot;]}" ssr client="load" before-hydration-url="/next/_astro/astro_scripts/before-hydration.js.Ci4ZmlXW.js" opts="{&quot;name&quot;:&quot;UIPortalMainNav&quot;,&quot;value&quot;:true}" await-children><ui-portal-main-nav nav-data="[{&quot;name&quot;:&quot;home&quot;,&quot;url&quot;:&quot;/next&quot;,&quot;iconId&quot;:&quot;lion-portal:portal:home&quot;},{&quot;name&quot;:&quot;fundamentals&quot;,&quot;url&quot;:&quot;/next/fundamentals&quot;,&quot;iconId&quot;:&quot;lion-portal:portal:sdk&quot;,&quot;children&quot;:[{&quot;name&quot;:&quot;Tools&quot;,&quot;url&quot;:&quot;/next/fundamentals/tools&quot;,&quot;priority&quot;:20,&quot;children&quot;:[{&quot;name&quot;:&quot;Helpers&quot;,&quot;url&quot;:&quot;/next/fundamentals/tools/helpers&quot;,&quot;priority&quot;:5,&quot;redirect&quot;:&quot;/next/fundamentals/tools/helpers/overview&quot;},{&quot;name&quot;:&quot;Ajax&quot;,&quot;url&quot;:&quot;/next/fundamentals/tools/ajax&quot;,&quot;priority&quot;:20,&quot;children&quot;:[{&quot;name&quot;:&quot;Overview&quot;,&quot;url&quot;:&quot;/next/fundamentals/tools/ajax/overview&quot;,&quot;priority&quot;:10},{&quot;name&quot;:&quot;Use Cases&quot;,&quot;url&quot;:&quot;/next/fundamentals/tools/ajax/use-cases&quot;,&quot;priority&quot;:20,&quot;active&quot;:true}],&quot;redirect&quot;:&quot;/next/fundamentals/tools/ajax/overview&quot;,&quot;active&quot;:true,&quot;hasActiveChild&quot;:true},{&quot;name&quot;:&quot;Singleton Manager&quot;,&quot;url&quot;:&quot;/next/fundamentals/tools/singleton-manager&quot;,&quot;priority&quot;:30,&quot;redirect&quot;:&quot;/next/fundamentals/tools/singleton-manager/overview&quot;}],&quot;redirect&quot;:&quot;/next/fundamentals/tools/helpers/overview&quot;,&quot;active&quot;:true,&quot;hasActiveChild&quot;:true},{&quot;name&quot;:&quot;Systems&quot;,&quot;url&quot;:&quot;/next/fundamentals/systems&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/fundamentals/systems/core/overview&quot;},{&quot;name&quot;:&quot;Node Tools&quot;,&quot;url&quot;:&quot;/next/fundamentals/node-tools&quot;,&quot;priority&quot;:30,&quot;redirect&quot;:&quot;/next/fundamentals/node-tools/rocket-preset-extend-lion-docs/overview&quot;},{&quot;name&quot;:&quot;Rationales&quot;,&quot;url&quot;:&quot;/next/fundamentals/rationales&quot;,&quot;priority&quot;:50,&quot;redirect&quot;:&quot;/next/fundamentals/rationales/accessibility&quot;}],&quot;active&quot;:true,&quot;hasActiveChild&quot;:true},{&quot;name&quot;:&quot;guides&quot;,&quot;url&quot;:&quot;/next/guides&quot;,&quot;iconId&quot;:&quot;lion-portal:portal:extension&quot;,&quot;children&quot;:[{&quot;name&quot;:&quot;Principles&quot;,&quot;url&quot;:&quot;/next/guides/principles&quot;,&quot;priority&quot;:10,&quot;redirect&quot;:&quot;/next/guides/principles/definitions-and-terms&quot;},{&quot;name&quot;:&quot;How To&quot;,&quot;url&quot;:&quot;/next/guides/how-to&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/guides/how-to/get-started&quot;}]},{&quot;name&quot;:&quot;components&quot;,&quot;url&quot;:&quot;/next/components&quot;,&quot;iconId&quot;:&quot;lion-portal:portal:deployedCode&quot;,&quot;children&quot;:[{&quot;name&quot;:&quot;Accordion&quot;,&quot;url&quot;:&quot;/next/components/accordion&quot;,&quot;priority&quot;:0,&quot;redirect&quot;:&quot;/next/components/accordion/overview&quot;},{&quot;name&quot;:&quot;Button&quot;,&quot;url&quot;:&quot;/next/components/button&quot;,&quot;priority&quot;:10,&quot;redirect&quot;:&quot;/next/components/button/overview&quot;},{&quot;name&quot;:&quot;Calendar&quot;,&quot;url&quot;:&quot;/next/components/calendar&quot;,&quot;priority&quot;:10,&quot;redirect&quot;:&quot;/next/components/calendar/use-cases&quot;},{&quot;name&quot;:&quot;Checkbox Group&quot;,&quot;url&quot;:&quot;/next/components/checkbox-group&quot;,&quot;priority&quot;:10,&quot;redirect&quot;:&quot;/next/components/checkbox-group/overview&quot;},{&quot;name&quot;:&quot;Collapsible&quot;,&quot;url&quot;:&quot;/next/components/collapsible&quot;,&quot;priority&quot;:10,&quot;redirect&quot;:&quot;/next/components/collapsible/overview&quot;},{&quot;name&quot;:&quot;Combobox&quot;,&quot;url&quot;:&quot;/next/components/combobox&quot;,&quot;priority&quot;:10,&quot;redirect&quot;:&quot;/next/components/combobox/overview&quot;},{&quot;name&quot;:&quot;Dialog&quot;,&quot;url&quot;:&quot;/next/components/dialog&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/dialog/overview&quot;},{&quot;name&quot;:&quot;Drawer&quot;,&quot;url&quot;:&quot;/next/components/drawer&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/drawer/overview&quot;},{&quot;name&quot;:&quot;Fieldset&quot;,&quot;url&quot;:&quot;/next/components/fieldset&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/fieldset/overview&quot;},{&quot;name&quot;:&quot;Form&quot;,&quot;url&quot;:&quot;/next/components/form&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/form/overview&quot;},{&quot;name&quot;:&quot;Icon&quot;,&quot;url&quot;:&quot;/next/components/icon&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/icon/overview&quot;},{&quot;name&quot;:&quot;Input&quot;,&quot;url&quot;:&quot;/next/components/input&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input/overview&quot;},{&quot;name&quot;:&quot;Input Amount&quot;,&quot;url&quot;:&quot;/next/components/input-amount&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-amount/overview&quot;},{&quot;name&quot;:&quot;Input Amount Dropdown&quot;,&quot;url&quot;:&quot;/next/components/input-amount-dropdown&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-amount-dropdown/use-cases&quot;},{&quot;name&quot;:&quot;Input Date&quot;,&quot;url&quot;:&quot;/next/components/input-date&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-date/overview&quot;},{&quot;name&quot;:&quot;Input Datepicker&quot;,&quot;url&quot;:&quot;/next/components/input-datepicker&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-datepicker/overview&quot;},{&quot;name&quot;:&quot;Input Email&quot;,&quot;url&quot;:&quot;/next/components/input-email&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-email/overview&quot;},{&quot;name&quot;:&quot;Input File&quot;,&quot;url&quot;:&quot;/next/components/input-file&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-file/overview&quot;},{&quot;name&quot;:&quot;Input Iban&quot;,&quot;url&quot;:&quot;/next/components/input-iban&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-iban/overview&quot;},{&quot;name&quot;:&quot;Input Range&quot;,&quot;url&quot;:&quot;/next/components/input-range&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-range/overview&quot;},{&quot;name&quot;:&quot;Input Stepper&quot;,&quot;url&quot;:&quot;/next/components/input-stepper&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-stepper/overview&quot;},{&quot;name&quot;:&quot;Input Tel&quot;,&quot;url&quot;:&quot;/next/components/input-tel&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-tel/overview&quot;},{&quot;name&quot;:&quot;Input Tel Dropdown&quot;,&quot;url&quot;:&quot;/next/components/input-tel-dropdown&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/input-tel-dropdown/overview&quot;},{&quot;name&quot;:&quot;Listbox&quot;,&quot;url&quot;:&quot;/next/components/listbox&quot;,&quot;priority&quot;:20,&quot;redirect&quot;:&quot;/next/components/listbox/overview&quot;},{&quot;name&quot;:&quot;Pagination&quot;,&quot;url&quot;:&quot;/next/components/pagination&quot;,&quot;priority&quot;:30,&quot;redirect&quot;:&quot;/next/components/pagination/overview&quot;},{&quot;name&quot;:&quot;Progress Indicator&quot;,&quot;url&quot;:&quot;/next/components/progress-indicator&quot;,&quot;priority&quot;:30,&quot;redirect&quot;:&quot;/next/components/progress-indicator/overview&quot;},{&quot;name&quot;:&quot;Radio Group&quot;,&quot;url&quot;:&quot;/next/components/radio-group&quot;,&quot;priority&quot;:30,&quot;redirect&quot;:&quot;/next/components/radio-group/overview&quot;},{&quot;name&quot;:&quot;Select&quot;,&quot;url&quot;:&quot;/next/components/select&quot;,&quot;priority&quot;:40,&quot;redirect&quot;:&quot;/next/components/select/overview&quot;},{&quot;name&quot;:&quot;Select Rich&quot;,&quot;url&quot;:&quot;/next/components/select-rich&quot;,&quot;priority&quot;:40,&quot;redirect&quot;:&quot;/next/components/select-rich/overview&quot;},{&quot;name&quot;:&quot;Steps&quot;,&quot;url&quot;:&quot;/next/components/steps&quot;,&quot;priority&quot;:50,&quot;redirect&quot;:&quot;/next/components/steps/overview&quot;},{&quot;name&quot;:&quot;Switch&quot;,&quot;url&quot;:&quot;/next/components/switch&quot;,&quot;priority&quot;:50,&quot;redirect&quot;:&quot;/next/components/switch/overview&quot;},{&quot;name&quot;:&quot;Tabs&quot;,&quot;url&quot;:&quot;/next/components/tabs&quot;,&quot;priority&quot;:50,&quot;redirect&quot;:&quot;/next/components/tabs/overview&quot;},{&quot;name&quot;:&quot;Textarea&quot;,&quot;url&quot;:&quot;/next/components/textarea&quot;,&quot;priority&quot;:50,&quot;redirect&quot;:&quot;/next/components/textarea/overview&quot;},{&quot;name&quot;:&quot;Tooltip&quot;,&quot;url&quot;:&quot;/next/components/tooltip&quot;,&quot;priority&quot;:60,&quot;redirect&quot;:&quot;/next/components/tooltip/overview&quot;}]},{&quot;name&quot;:&quot;blog&quot;,&quot;url&quot;:&quot;/next/blog&quot;,&quot;iconId&quot;:&quot;lion-portal:portal:deployedCode&quot;,&quot;children&quot;:[{&quot;name&quot;:&quot;The Accessibility of Lion&quot;,&quot;url&quot;:&quot;/next/blog/accessibility&quot;,&quot;priority&quot;:0},{&quot;name&quot;:&quot;Controlling exports&quot;,&quot;url&quot;:&quot;/next/blog/controlling-exports&quot;,&quot;priority&quot;:0},{&quot;name&quot;:&quot;ING open sources Lion&quot;,&quot;url&quot;:&quot;/next/blog/ing-open-sources-lion&quot;,&quot;priority&quot;:0},{&quot;name&quot;:&quot;Lion without polyfills&quot;,&quot;url&quot;:&quot;/next/blog/lion-without-polyfills&quot;,&quot;priority&quot;:0},{&quot;name&quot;:&quot;Extending Lion Documentation&quot;,&quot;url&quot;:&quot;/next/blog/extending-documentation&quot;,&quot;priority&quot;:0},{&quot;name&quot;:&quot;Introducing lions website&quot;,&quot;url&quot;:&quot;/next/blog/introducing-lions-website&quot;,&quot;priority&quot;:0}]}]"><template shadowroot="open" shadowrootmode="open"><style>
  * {
    box-sizing: border-box;
  }

  :host([data-layout='floating-toggle']) {
    width: 0;
  }

  :host([data-layout='floating-toggle']) .burger {
    position: absolute;
    z-index: 1000;

    display: flex;
    flex-direction: column;
    width: 32px;
    height: 32px;
    justify-content: space-around;
    cursor: pointer;
    left: 20px;
    top: 20px;
  }

  :host([data-layout='floating-toggle']) .burger span {
    height: 4px;
    background: #333;
    border-radius: 2px;
    transition: 0.3s;
    display: block;
  }

  :host([data-layout='floating-toggle']) #l1-wrapper {
    display: none;
    z-index: 100;
    background: #fff;
  }

  :host([data-layout='floating-toggle']) [data-part='level'][data-level='1'],
  :host([data-layout='floating-toggle']) [data-part='level'][data-level='2'] {
    z-index: 100;
    background: #fff;
  }

  :host([data-layout='floating-toggle']) #burger-toggle:checked ~ #l1-wrapper {
    display: flex;
    position: absolute;
  }

      :host {
        height: 100vh;
        /** Make this the positioning parent of l0 and l1 */
        position: relative;
        display: block;
        position: sticky;
        top: 0;
      }

      #l1-wrapper {
        display: flex;
      }

      :host [data-part='nav'] {
        height: 100%;
      }

      :host [data-part='level'][data-level='1'],
      :host [data-part='level'][data-level='2'] {
        padding-block-start: var(--size-6);
        padding-inline: var(--size-2);
        overflow-y: scroll;
        height: 100vh;
      }

      :host [data-part='level'][data-level='1'] {
        width: 160px;
        border-right: 1px solid #ccc;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      :host [data-part='level'][data-level='2'] {
        width: 200px;
      }

      /**
       * When a l0 child is active, or a l1 child => open correct l1
       */
      :host
        [data-part='listitem']:not([data-:active])
        [data-part='level'][data-level='2']:not([data-has-active-child]) {
        /** TODO: sr-only, because we want to present all links to the screen reader */
        display: none;
      }

      :host [data-part='list'] {
        list-style-type: none;
        margin: 4px;
        padding: 0;
      }

      :host [data-part='anchor'][data-level='1'] {
        display: block;
        padding-block: var(--size-6);
        padding-inline: var(--size-6);
      }

      :host [data-part='anchor'][data-level='2'] {
        display: block;
        padding-block: var(--size-3);
        padding-inline: var(--size-6);
      }

      :host [data-part='anchor'][data-level='2'][aria-current='page']:not(:last-child) {
        padding-block: var(--size-2);
      }

      :host [data-part='icon'][data-level='1'] {
        display: block;
        width: var(--size-7);
        height: var(--size-7);
        margin-bottom: var(--size-1);
      }

      :host [data-part='anchor'][data-level='1'] {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-block-end: 6px;
      }

      :host [data-part='anchor'] {
        display: block;
        color: var(--text-color);
        text-decoration: inherit;
        font-size: 1rem;
        fill: var(--primary-icon-color);
        margin-inline: var(--size-1);
        border-radius: var(--radius-4);
      }

      :host [data-part='anchor'][aria-current='page'][data-level='1'],
      :host [data-part='anchor'][aria-current='page'][data-level='3']:last-child,
      :host [data-part='anchor'][aria-current='page'][data-level='4'] {
        font-weight: bold;
        background-color: var(--secondary-color);
      }

      :host [data-part='anchor']:hover {
        text-decoration: underline;
        text-underline-offset: 0.3em;
        background-color: var(--secondary-color-lighter);
      }

      :host [data-part='anchor']:focus {
        outline: 2px solid var(--contrast-color-dark);
      }

      :host [data-part='anchor'][data-level='2']:focus,
      :host [data-part='anchor'][data-level='2']:focus {
        outline-offset: 2px;
      }

      :host [data-part='level'][data-level='2'] {
        color: var(--text-color, #333);

        /* 14px/Regular */
        font-family: 'ING Me';
        font-size: 0.875rem;
        font-style: normal;
        font-weight: 400;
        line-height: 20px; /* 142.857% */
        text-decoration: none;
      }

      :host [data-part='listitem'][data-level='2'][data-\:active] {
        border-radius: var(--radius-4);
        background: var(--neutral-color-lightest);
        margin-block: 6px;
      }

      :host [data-part='level'][data-level='3'] {
        overflow: hidden;
        padding-block-end: 12px;
      }

      :host [data-part='anchor'][data-level='3'],
      :host [data-part='anchor'][data-level='4'] {
        /* 14px/Regular */
        font-family: 'ING Me';
        font-size: 0.875rem;
        font-style: normal;
        font-weight: 400;
        line-height: 20px; /* 142.857% */
        text-decoration: none;
        margin-left: var(--size-7);
        padding-inline: var(--size-3);
      }

      :host [data-part='anchor'][data-level='3'][aria-current='page'],
      :host [data-part='anchor'][data-level='4'][aria-current='page'] {
        font-weight: bold;
      }

      :host [data-level='2'] > [aria-current='page'] {
        background: transparent;
        font-weight: bold;
      }

      :host [data-part='list'][data-level='4'] {
        margin-left: var(--size-3);
      }
    </style><!--lit-part 1PVbJ+oM0tw=-->
        <nav data-part="nav">
          <input type="checkbox" id="burger-toggle" hidden />
          <label for="burger-toggle" class="burger">
            <span></span>
            <span></span>
            <span></span>
          </label>

          <div id="l1-wrapper" data-part="l1-wrapper">
            <!--lit-part ICi22XWCZrw=--><!--lit-node 0--><div
        data-part="level"
        data-level="1"
        data-has-active-child="false"
      >
        <!--lit-node 1--><ul data-part="list" data-level="1">
          <!--lit-part--><!--lit-part hPNMx9QXWr0=--><!--lit-node 0--><li data-part="listitem" data-level="1" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="1"
        href="/next"
        aria-current=""
        ><!--lit-part amjOR5mF62s=--><!--lit-node 0--><lion-icon
              
              
              
             data-part="icon" data-level="1" icon-id="lion-portal:portal:home" aria-label defer-hydration><template shadowroot="open" shadowrootmode="open"><style>
        :host {
          box-sizing: border-box;
          display: inline-block;
          width: 1em;
          height: 1em;
        }

        :host([hidden]) {
          display: none;
        }

        :host:first-child {
          margin-left: 0;
        }

        :host:last-child {
          margin-right: 0;
        }

        ::slotted(svg) {
          display: block;
          width: 100%;
          height: 100%;
        }
      </style><!--lit-part Pz0gobCCM4E=--><slot></slot><!--/lit-part--></template></lion-icon><!--/lit-part--><span><!--lit-part-->home<!--/lit-part--></span></a
      ><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part hPNMx9QXWr0=--><!--lit-node 0--><li data-part="listitem" data-level="1" data-:active>
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="1"
        href="/next/fundamentals"
        aria-current="page"
        ><!--lit-part amjOR5mF62s=--><!--lit-node 0--><lion-icon
              
              
              
             data-part="icon" data-level="1" icon-id="lion-portal:portal:sdkFilled" aria-label defer-hydration><template shadowroot="open" shadowrootmode="open"><style>
        :host {
          box-sizing: border-box;
          display: inline-block;
          width: 1em;
          height: 1em;
        }

        :host([hidden]) {
          display: none;
        }

        :host:first-child {
          margin-left: 0;
        }

        :host:last-child {
          margin-right: 0;
        }

        ::slotted(svg) {
          display: block;
          width: 100%;
          height: 100%;
        }
      </style><!--lit-part Pz0gobCCM4E=--><slot></slot><!--/lit-part--></template></lion-icon><!--/lit-part--><span><!--lit-part-->fundamentals<!--/lit-part--></span></a
      ><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part hPNMx9QXWr0=--><!--lit-node 0--><li data-part="listitem" data-level="1" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="1"
        href="/next/guides"
        aria-current=""
        ><!--lit-part amjOR5mF62s=--><!--lit-node 0--><lion-icon
              
              
              
             data-part="icon" data-level="1" icon-id="lion-portal:portal:extension" aria-label defer-hydration><template shadowroot="open" shadowrootmode="open"><style>
        :host {
          box-sizing: border-box;
          display: inline-block;
          width: 1em;
          height: 1em;
        }

        :host([hidden]) {
          display: none;
        }

        :host:first-child {
          margin-left: 0;
        }

        :host:last-child {
          margin-right: 0;
        }

        ::slotted(svg) {
          display: block;
          width: 100%;
          height: 100%;
        }
      </style><!--lit-part Pz0gobCCM4E=--><slot></slot><!--/lit-part--></template></lion-icon><!--/lit-part--><span><!--lit-part-->guides<!--/lit-part--></span></a
      ><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part hPNMx9QXWr0=--><!--lit-node 0--><li data-part="listitem" data-level="1" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="1"
        href="/next/components"
        aria-current=""
        ><!--lit-part amjOR5mF62s=--><!--lit-node 0--><lion-icon
              
              
              
             data-part="icon" data-level="1" icon-id="lion-portal:portal:deployedCode" aria-label defer-hydration><template shadowroot="open" shadowrootmode="open"><style>
        :host {
          box-sizing: border-box;
          display: inline-block;
          width: 1em;
          height: 1em;
        }

        :host([hidden]) {
          display: none;
        }

        :host:first-child {
          margin-left: 0;
        }

        :host:last-child {
          margin-right: 0;
        }

        ::slotted(svg) {
          display: block;
          width: 100%;
          height: 100%;
        }
      </style><!--lit-part Pz0gobCCM4E=--><slot></slot><!--/lit-part--></template></lion-icon><!--/lit-part--><span><!--lit-part-->components<!--/lit-part--></span></a
      ><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part hPNMx9QXWr0=--><!--lit-node 0--><li data-part="listitem" data-level="1" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="1"
        href="/next/blog"
        aria-current=""
        ><!--lit-part amjOR5mF62s=--><!--lit-node 0--><lion-icon
              
              
              
             data-part="icon" data-level="1" icon-id="lion-portal:portal:deployedCode" aria-label defer-hydration><template shadowroot="open" shadowrootmode="open"><style>
        :host {
          box-sizing: border-box;
          display: inline-block;
          width: 1em;
          height: 1em;
        }

        :host([hidden]) {
          display: none;
        }

        :host:first-child {
          margin-left: 0;
        }

        :host:last-child {
          margin-right: 0;
        }

        ::slotted(svg) {
          display: block;
          width: 100%;
          height: 100%;
        }
      </style><!--lit-part Pz0gobCCM4E=--><slot></slot><!--/lit-part--></template></lion-icon><!--/lit-part--><span><!--lit-part-->blog<!--/lit-part--></span></a
      ><!--/lit-part-->
              </li><!--/lit-part--><!--/lit-part-->
        </ul>
        <div class="nav-item-last">
          <!--lit-node 4--><a href="/next/search" data-part="anchor" data-level="1">
            <!--lit-node 5--><lion-icon
              
              
              
             data-part="icon" icon-id="lion-portal:portal:search" data-level="1" aria-label defer-hydration><template shadowroot="open" shadowrootmode="open"><style>
        :host {
          box-sizing: border-box;
          display: inline-block;
          width: 1em;
          height: 1em;
        }

        :host([hidden]) {
          display: none;
        }

        :host:first-child {
          margin-left: 0;
        }

        :host:last-child {
          margin-right: 0;
        }

        ::slotted(svg) {
          display: block;
          width: 100%;
          height: 100%;
        }
      </style><!--lit-part Pz0gobCCM4E=--><slot></slot><!--/lit-part--></template></lion-icon>
            <span>Search</span>
          </a>
        </div>
      </div><!--/lit-part-->
            <!--lit-part 4Xfrjoki3Io=--><!--lit-node 0--><div
        data-part="level"
        data-level="2"
        data-has-active-child="false"
      >
        <!--lit-node 1--><ul data-part="list" data-level="2">
          <!--lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="2" data-:active>
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="2"
        href="/next/fundamentals/tools/helpers/overview"
        aria-current="page"
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Tools<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part 4Xfrjoki3Io=--><!--lit-node 0--><div
        data-part="level"
        data-level="3"
        data-has-active-child="true"
      >
        <!--lit-node 1--><ul data-part="list" data-level="3">
          <!--lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="3" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="3"
        href="/next/fundamentals/tools/helpers/overview"
        aria-current=""
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Helpers<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part--><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="3" data-:active>
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="3"
        href="/next/fundamentals/tools/ajax/overview"
        aria-current="page"
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Ajax<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part 4Xfrjoki3Io=--><!--lit-node 0--><div
        data-part="level"
        data-level="4"
        data-has-active-child="true"
      >
        <!--lit-node 1--><ul data-part="list" data-level="4">
          <!--lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="4" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="4"
        href="/next/fundamentals/tools/ajax/overview"
        aria-current=""
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Overview<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part--><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="4" data-:active>
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="4"
        href="/next/fundamentals/tools/ajax/use-cases"
        aria-current="page"
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Use Cases<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part--><!--/lit-part-->
              </li><!--/lit-part--><!--/lit-part-->
        </ul>
      </div><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="3" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="3"
        href="/next/fundamentals/tools/singleton-manager/overview"
        aria-current=""
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Singleton Manager<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part--><!--/lit-part-->
              </li><!--/lit-part--><!--/lit-part-->
        </ul>
      </div><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="2" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="2"
        href="/next/fundamentals/systems/core/overview"
        aria-current=""
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Systems<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part--><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="2" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="2"
        href="/next/fundamentals/node-tools/rocket-preset-extend-lion-docs/overview"
        aria-current=""
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Node Tools<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part--><!--/lit-part-->
              </li><!--/lit-part--><!--lit-part DlvCPdQh0B4=--><!--lit-node 0--><li data-part="listitem" data-level="2" >
                <!--lit-part vz6uNiG93i0=--><!--lit-node 0--><a
        data-part="anchor"
        data-level="2"
        href="/next/fundamentals/rationales/accessibility"
        aria-current=""
        ><!--lit-part--><!--/lit-part--><span><!--lit-part-->Rationales<!--/lit-part--></span></a
      ><!--/lit-part-->
                <!--lit-part--><!--/lit-part-->
              </li><!--/lit-part--><!--/lit-part-->
        </ul>
      </div><!--/lit-part-->
          </div>
        </nav>
      <!--/lit-part--></template></ui-portal-main-nav><!--astro:end--></astro-island> </div> <main class="ui-portal-grid__main markdown-body">   <load-demo data-import-path="tools_ajax_use-cases"></load-demo> <script type="module" src="/next/_astro/_...path_.astro_astro_type_script_index_0_lang.DaKIE_hh.js"></script>  <script type="module" src="/next/_astro/InPageNavLayout.astro_astro_type_script_index_0_lang.B2PN3HX8.js"></script>  <div class="container" data-astro-cid-2dr2cpgs> <div class="content" data-astro-cid-2dr2cpgs> <h1 id="ajax-use-cases">Ajax: Use Cases</h1>
<h2 id="get-request">GET request</h2>
<mdjs-preview mdjs-story-name="getRequest">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getRequest</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#E36209;--shiki-dark:#FFAB70"> name</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetch</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">response</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> response.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">json</span><span style="color:#24292E;--shiki-dark:#E1E4E8">())</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<h2 id="post-request">POST request</h2>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { ajax } </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> '@lion/ajax'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> response</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetch</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'/api/users'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  method: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'POST'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  body: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">({ username: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'steve'</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> }),</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> newUser</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> response.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">json</span><span style="color:#24292E;--shiki-dark:#E1E4E8">();</span></span></code></pre>
<h3 id="json-requests">JSON requests</h3>
<p>We usually deal with JSON requests and responses. <code>ajax.fetchJson</code> supports JSON by:</p>
<ul>
<li>Serializing request body as JSON</li>
<li>Deserializing response payload as JSON</li>
<li>Adding the correct Content-Type and Accept headers</li>
</ul>
<blockquote>
<p>Note that, the result will have the Response object on <code>.response</code> property, and the parsed JSON will be available on <code>.body</code>.</p>
</blockquote>
<h2 id="get-json-request">GET JSON request</h2>
<mdjs-preview mdjs-story-name="getJsonRequest">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getJsonRequest</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#E36209;--shiki-dark:#FFAB70"> name</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.response);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.body, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<h2 id="post-json-request">POST JSON request</h2>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { ajax } </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> '@lion/ajax'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF">response</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">body</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> } </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'/api/users'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  method: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'POST'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  body: { username: </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'steve'</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">});</span></span></code></pre>
<h3 id="error-handling">Error handling</h3>
<p>Different from fetch, <code>Ajax</code> throws when the server returns a 4xx or 5xx, returning the request and response:</p>
<mdjs-preview mdjs-story-name="errorHandling">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> errorHandling</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> async</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    try</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> users</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'/api/users'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    } </span><span style="color:#D73A49;--shiki-dark:#F97583">catch</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">      if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (error.response) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">        if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (error.response.status </span><span style="color:#D73A49;--shiki-dark:#F97583">===</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 400</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">          // handle a specific status code, for example 400 bad request</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        } </span><span style="color:#D73A49;--shiki-dark:#F97583">else</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">          actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      } </span><span style="color:#D73A49;--shiki-dark:#F97583">else</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">        // an error happened before receiving a response,</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">        // Example: an incorrect request or network error</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(error);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<h2 id="fetch-polyfill">Fetch Polyfill</h2>
<p>For IE11 you will need a polyfill for fetch. You should add this on your top level layer, e.g. your application.</p>
<p><a href="https://github.com/github/fetch">This is the polyfill we recommend</a>. It also has a <a href="https://github.com/github/fetch#aborting-requests">section for polyfilling AbortController</a></p>
<h2 id="ajax-caching-support">Ajax Caching Support</h2>
<p>Ajax package provides in-memory cache support through interceptors. And cache interceptors can be added manually or by configuring the Ajax instance.</p>
<p>The cache request interceptor and cache response interceptor are designed to work together to support caching of network requests/responses.</p>
<blockquote>
<p>The <strong>request interceptor</strong> checks whether the response for this particular request is cached, and if so returns the cached response.
And the <strong>response interceptor</strong> caches the response for this particular request.</p>
</blockquote>
<h3 id="getting-started">Getting started</h3>
<p>Consume the global <code>ajax</code> instance and add interceptors to it, using a cache configuration which is applied on application level. If a developer wants to add specifics to cache behaviour they have to provide a cache config per action (<code>get</code>, <code>post</code>, etc.) via <code>cacheOptions</code> field of local ajax config,
see examples below.</p>
<blockquote>
<p><strong>Note</strong>: make sure to add the <strong>interceptors</strong> only <strong>once</strong>. This is usually done on app-level</p>
</blockquote>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { ajax, createCacheInterceptors } </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> '@lion-web/ajax'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> globalCacheOptions</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  useCache: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  maxAge: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1000</span><span style="color:#D73A49;--shiki-dark:#F97583"> *</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#D73A49;--shiki-dark:#F97583"> *</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#6A737D;--shiki-dark:#6A737D">// 5 minutes</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">// Cache is removed each time an identifier changes,</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#6A737D">// for instance when a current user is logged out</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getCacheIdentifier</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getActiveProfile</span><span style="color:#24292E;--shiki-dark:#E1E4E8">().profileId;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF">cacheRequestInterceptor</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">cacheResponseInterceptor</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> } </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> createCacheInterceptors</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  getCacheIdentifier,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  globalCacheOptions,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">addRequestInterceptor</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(cacheRequestInterceptor);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">addResponseInterceptor</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(cacheResponseInterceptor);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">const</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="color:#005CC5;--shiki-dark:#79B8FF">response</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">body</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> } </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#D73A49;--shiki-dark:#F97583"> await</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'/my-url'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span></code></pre>
<p>Alternatively, most often for sub-classers, you can extend or import <code>Ajax</code> yourself, and pass cacheOptions when instantiating the ajax.</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">import</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> { Ajax } </span><span style="color:#D73A49;--shiki-dark:#F97583">from</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> '@lion/ajax'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> ajax</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#D73A49;--shiki-dark:#F97583"> new</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> Ajax</span><span style="color:#24292E;--shiki-dark:#E1E4E8">({</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  cacheOptions: {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    useCache: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">true</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    maxAge: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1000</span><span style="color:#D73A49;--shiki-dark:#F97583"> *</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 60</span><span style="color:#D73A49;--shiki-dark:#F97583"> *</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 5</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#6A737D;--shiki-dark:#6A737D">// 5 minutes</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B392F0">    getCacheIdentifier</span><span style="color:#24292E;--shiki-dark:#E1E4E8">: () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> getActiveProfile</span><span style="color:#24292E;--shiki-dark:#E1E4E8">().profileId,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">});</span></span></code></pre>
<h3 id="ajax-cache-example">Ajax cache example</h3>
<blockquote>
<p>Lets assume that we have a user session, for this demo purposes we already created an identifier function for this and set the cache interceptors.</p>
</blockquote>
<p>We can see if a response is served from the cache by checking the <code>response.fromCache</code> property, which is either undefined for normal requests, or set to true for responses that were served from cache.</p>
<mdjs-preview mdjs-story-name="cache">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> cache</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#E36209;--shiki-dark:#FFAB70"> name</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`From cache: ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">result</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">response</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fromCache</span><span style="color:#D73A49;--shiki-dark:#F97583"> ||</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.body, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<p>You can also change the cache options per request, which is handy if you dont want to remove and re-add the interceptors for a simple configuration change.</p>
<p>In this demo, when we fetch naga, we always pass <code>useCache: false</code> so the Response is never a cached one.</p>
<mdjs-preview mdjs-story-name="cacheActionOptions">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> cacheActionOptions</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#E36209;--shiki-dark:#FFAB70"> name</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    let</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> actionCacheOptions;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (name </span><span style="color:#D73A49;--shiki-dark:#F97583">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'naga'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionCacheOptions </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        useCache: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">false</span><span style="color:#24292E;--shiki-dark:#E1E4E8">,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      };</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, { cacheOptions: actionCacheOptions }).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`From cache: ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">result</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">response</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fromCache</span><span style="color:#D73A49;--shiki-dark:#F97583"> ||</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.body, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<h3 id="invalidating-cache">Invalidating cache</h3>
<p>Invalidating the cache, or cache busting, can be done in multiple ways:</p>
<ul>
<li>Going past the <code>maxAge</code> of the cache object</li>
<li>Changing cache identifier (e.g. user session or active profile changes)</li>
<li>Doing a non GET request to the cached endpoint
<ul>
<li>Invalidates the cache of that endpoint</li>
<li>Invalidates the cache of all other endpoints matching <code>invalidatesUrls</code> and <code>invalidateUrlsRegex</code></li>
</ul>
</li>
</ul>
<h2 id="maxage">maxAge</h2>
<p>In this demo we pass a maxAge of three seconds.
Try clicking the fetch button and watch fromCache change whenever maxAge expires.</p>
<p>After maxAge expires, the next request will set the cache again, and for the next 3 seconds you will get cached responses for subsequent requests.</p>
<mdjs-preview mdjs-story-name="cacheMaxAge">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> cacheMaxAge</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/pabu.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        cacheOptions: {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">          maxAge: </span><span style="color:#005CC5;--shiki-dark:#79B8FF">1000</span><span style="color:#D73A49;--shiki-dark:#F97583"> *</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 3</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#6A737D;--shiki-dark:#6A737D">// 3 seconds</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      })</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`From cache: ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">result</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">response</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fromCache</span><span style="color:#D73A49;--shiki-dark:#F97583"> ||</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.body, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<h2 id="changing-cache-identifier">Changing cache identifier</h2>
<p>For this demo we use localStorage to set a user id to <code>'1'</code>.</p>
<p>Now we will allow you to change this identifier to invalidate the cache.</p>
<mdjs-preview mdjs-story-name="changeCacheIdentifier">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> changeCacheIdentifier</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/pabu.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`From cache: ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">result</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">response</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fromCache</span><span style="color:#D73A49;--shiki-dark:#F97583"> ||</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.body, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> changeUserHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> currentUser</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> parseInt</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(localStorage.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">getItem</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'lion-ajax-cache-demo-user-id'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">), </span><span style="color:#005CC5;--shiki-dark:#79B8FF">10</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    localStorage.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">setItem</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'lion-ajax-cache-demo-user-id'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">`${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">currentUser</span><span style="color:#D73A49;--shiki-dark:#F97583"> +</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Fetch Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">changeUserHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">Change user&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<h2 id="non-get-request">Non-GET request</h2>
<p>In this demo we show that by doing a PATCH request, you invalidate the cache of the endpoint for subsequent GET requests.</p>
<p>Try clicking the GET pabu button twice so you see a cached response.
Then click the PATCH pabu button, followed by another GET, and you will see that this one is not served from cache, because the PATCH invalidated it.</p>
<p>The rationale is that if a user does a non-GET request to an endpoint, it will make the client-side caching of this endpoint outdated.
This is because non-GET requests usually in some way mutate the state of the database through interacting with this endpoint.
Therefore, we invalidate the cache, so the user gets the latest state from the database on the next GET request.</p>
<blockquote>
<p>Ignore the browser errors when clicking PATCH buttons, JSON files (our mock database) dont accept PATCH requests.</p>
</blockquote>
<mdjs-preview mdjs-story-name="nonGETRequest">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> nonGETRequest</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#E36209;--shiki-dark:#FFAB70">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#E36209;--shiki-dark:#FFAB70">method</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, { method }).</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`From cache: ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">result</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">response</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fromCache</span><span style="color:#D73A49;--shiki-dark:#F97583"> ||</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.body, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'GET'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">GET Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'PATCH'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">PATCH Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'GET'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">GET Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'PATCH'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">PATCH Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview>
<h2 id="invalidate-rules">Invalidate Rules</h2>
<p>There are two kinds of invalidate rules:</p>
<ul>
<li><code>invalidateUrls</code> (array of URL like strings)</li>
<li><code>invalidateUrlsRegex</code> (RegExp)</li>
</ul>
<p>If a non-GET method is fired, by default it only invalidates its own endpoint.
Invalidating <code>/api/users</code> cache by doing a PATCH, will not invalidate <code>/api/accounts</code> cache.</p>
<p>However, in the case of users and accounts, they may be very interconnected, so perhaps you do want to invalidate <code>/api/accounts</code> when invalidating <code>/api/users</code>.</p>
<p>This is what the invalidate rules are for.</p>
<p>In this demo, invalidating the <code>pabu</code> endpoint will invalidate <code>naga</code>, but not the other way around.</p>
<blockquote>
<p>For invalidateUrls you need the full URL e.g. <code>&#x3C;protocol>://&#x3C;domain>:&#x3C;port>/&#x3C;url></code> so its often easier to use invalidateUrlsRegex</p>
</blockquote>
<mdjs-preview mdjs-story-name="invalidateRules">



<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">export</span><span style="color:#D73A49;--shiki-dark:#F97583"> const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> invalidateRules</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionLogger</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> renderLitAsNode</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#6F42C1;--shiki-dark:#B392F0">html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`&#x3C;sb-action-logger>&#x3C;/sb-action-logger>`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  const</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="color:#E36209;--shiki-dark:#FFAB70">name</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#E36209;--shiki-dark:#FFAB70">method</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    const</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> actionCacheOptions</span><span style="color:#D73A49;--shiki-dark:#F97583"> =</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {};</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">    if</span><span style="color:#24292E;--shiki-dark:#E1E4E8"> (name </span><span style="color:#D73A49;--shiki-dark:#F97583">===</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> 'pabu'</span><span style="color:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      actionCacheOptions.invalidateUrlsRegex </span><span style="color:#D73A49;--shiki-dark:#F97583">=</span><span style="color:#032F62;--shiki-dark:#9ECBFF"> /</span><span style="color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold">\/</span><span style="color:#032F62;--shiki-dark:#DBEDFF">docs</span><span style="color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold">\/</span><span style="color:#032F62;--shiki-dark:#DBEDFF">tools</span><span style="color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold">\/</span><span style="color:#032F62;--shiki-dark:#DBEDFF">ajax</span><span style="color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold">\/</span><span style="color:#032F62;--shiki-dark:#DBEDFF">assets</span><span style="color:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold">\/</span><span style="color:#032F62;--shiki-dark:#DBEDFF">naga</span><span style="color:#005CC5;--shiki-dark:#79B8FF">.</span><span style="color:#032F62;--shiki-dark:#DBEDFF">json</span><span style="color:#032F62;--shiki-dark:#9ECBFF">/</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">    ajax</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">fetchJson</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`../assets/${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">name</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}.json`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        method,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        cacheOptions: actionCacheOptions,</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      })</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      .</span><span style="color:#6F42C1;--shiki-dark:#B392F0">then</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#E36209;--shiki-dark:#FFAB70">result</span><span style="color:#D73A49;--shiki-dark:#F97583"> =></span><span style="color:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`From cache: ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">result</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">response</span><span style="color:#032F62;--shiki-dark:#9ECBFF">.</span><span style="color:#24292E;--shiki-dark:#E1E4E8">fromCache</span><span style="color:#D73A49;--shiki-dark:#F97583"> ||</span><span style="color:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="color:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">        actionLogger.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">log</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(</span><span style="color:#005CC5;--shiki-dark:#79B8FF">JSON</span><span style="color:#24292E;--shiki-dark:#E1E4E8">.</span><span style="color:#6F42C1;--shiki-dark:#B392F0">stringify</span><span style="color:#24292E;--shiki-dark:#E1E4E8">(result.body, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">null</span><span style="color:#24292E;--shiki-dark:#E1E4E8">, </span><span style="color:#005CC5;--shiki-dark:#79B8FF">2</span><span style="color:#24292E;--shiki-dark:#E1E4E8">));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">      });</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F97583">  return</span><span style="color:#6F42C1;--shiki-dark:#B392F0"> html</span><span style="color:#032F62;--shiki-dark:#9ECBFF">`</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      sb-action-logger {</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">        --sb-action-logger-max-height: 300px;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">      }</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'GET'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">GET Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'pabu'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'PATCH'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">PATCH Pabu&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'GET'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">GET Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    &#x3C;button @click="${</span><span style="color:#032F62;--shiki-dark:#9ECBFF">() </span><span style="color:#D73A49;--shiki-dark:#F97583">=></span><span style="color:#6F42C1;--shiki-dark:#B392F0"> fetchHandler</span><span style="color:#032F62;--shiki-dark:#9ECBFF">(</span><span style="color:#032F62;--shiki-dark:#9ECBFF">'naga'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">, </span><span style="color:#032F62;--shiki-dark:#9ECBFF">'PATCH'</span><span style="color:#032F62;--shiki-dark:#9ECBFF">)</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}">PATCH Naga&#x3C;/button></span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">    ${</span><span style="color:#24292E;--shiki-dark:#E1E4E8">actionLogger</span><span style="color:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#9ECBFF">  `</span><span style="color:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>



</mdjs-preview> </div> <ui-portal-inpage-nav nav-data="[{&#34;name&#34;:&#34;Ajax: Use Cases&#34;,&#34;url&#34;:&#34;ajax-use-cases&#34;},{&#34;name&#34;:&#34;GET request&#34;,&#34;url&#34;:&#34;get-request&#34;},{&#34;name&#34;:&#34;POST request&#34;,&#34;url&#34;:&#34;post-request&#34;},{&#34;name&#34;:&#34;JSON requests&#34;,&#34;url&#34;:&#34;json-requests&#34;},{&#34;name&#34;:&#34;GET JSON request&#34;,&#34;url&#34;:&#34;get-json-request&#34;},{&#34;name&#34;:&#34;POST JSON request&#34;,&#34;url&#34;:&#34;post-json-request&#34;},{&#34;name&#34;:&#34;Error handling&#34;,&#34;url&#34;:&#34;error-handling&#34;},{&#34;name&#34;:&#34;Fetch Polyfill&#34;,&#34;url&#34;:&#34;fetch-polyfill&#34;},{&#34;name&#34;:&#34;Ajax Caching Support&#34;,&#34;url&#34;:&#34;ajax-caching-support&#34;},{&#34;name&#34;:&#34;Getting started&#34;,&#34;url&#34;:&#34;getting-started&#34;},{&#34;name&#34;:&#34;Ajax cache example&#34;,&#34;url&#34;:&#34;ajax-cache-example&#34;},{&#34;name&#34;:&#34;Invalidating cache&#34;,&#34;url&#34;:&#34;invalidating-cache&#34;},{&#34;name&#34;:&#34;maxAge&#34;,&#34;url&#34;:&#34;maxage&#34;},{&#34;name&#34;:&#34;Changing cache identifier&#34;,&#34;url&#34;:&#34;changing-cache-identifier&#34;},{&#34;name&#34;:&#34;Non-GET request&#34;,&#34;url&#34;:&#34;non-get-request&#34;},{&#34;name&#34;:&#34;Invalidate Rules&#34;,&#34;url&#34;:&#34;invalidate-rules&#34;}]" data-astro-cid-2dr2cpgs="true"></ui-portal-inpage-nav> </div>  </main> <div class="ui-portal-grid__footer"> <ui-portal-footer footer-data="[{&quot;name&quot;:&quot;discover&quot;,&quot;children&quot;:[{&quot;name&quot;:&quot;blog&quot;,&quot;url&quot;:&quot;/blog&quot;},{&quot;name&quot;:&quot;help and feedback&quot;,&quot;url&quot;:&quot;https://github.com/ing-bank/lion/issues&quot;}]},{&quot;name&quot;:&quot;follow&quot;,&quot;children&quot;:[{&quot;name&quot;:&quot;github&quot;,&quot;url&quot;:&quot;https://github.com/ing-bank/lion&quot;},{&quot;name&quot;:&quot;slack&quot;,&quot;url&quot;:&quot;/about/slack/&quot;}]},{&quot;name&quot;:&quot;support&quot;,&quot;children&quot;:[{&quot;name&quot;:&quot;contribute&quot;,&quot;url&quot;:&quot;https://github.com/ing-bank/lion/blob/master/CONTRIBUTING.md&quot;}]}]"><template shadowroot="open" shadowrootmode="open"><style>
      /** FOOTER ****************************************************************************************/
      #main-footer {
        margin-top: 50px;
        border-top: 1px solid #eaeaea;
        background-color: var(--footer-background, rgba(0, 0, 0, 0.1));
        color: var(--text-color);
        padding: 40px 50px;
        flex-grow: 1;
        display: flex;
        flex-flow: column;
        justify-content: center;
      }

      #footer-menu .content-area {
        display: flex;
        justify-content: space-between;
        flex-direction: column;
        text-align: center;
      }

      @media screen and (min-width: 1024px) {
        #main-footer {
          padding-inline: 96px;
        }

        #footer-menu .content-area {
          flex-direction: row;
          text-align: left;
        }
      }

      #footer-menu ul {
        list-style-type: none;
        padding: 0;
      }

      #footer-menu a {
        text-decoration: none;
        color: var(--text-color);
        padding: 5px 0;
        display: block;
      }

      #footer-menu a:hover {
        text-decoration: underline;
      }
    </style><!--lit-part XdODVFi+K9w=-->
      <footer id="main-footer">
        <div id="footer-menu">
          <div class="content-area">
            <nav>
              <h3>Discover</h3>
              <ul>
                <li>
                  <a href="/next/blog">Blog</a>
                </li>
                <li>
                  <a href="https://github.com/ing-bank/lion/issues" rel="noopener noreferrer"
                    >Help and Feedback</a
                  >
                </li>
              </ul>
            </nav>
            <nav>
              <h3>Follow</h3>
              <ul>
                <li>
                  <a href="https://github.com/ing-bank/lion" rel="noopener noreferrer">GitHub</a>
                </li>
                <li>
                  <a href="/next/about/slack/">Slack</a>
                </li>
              </ul>
            </nav>
            <nav>
              <h3>Support</h3>
              <ul>
                <li>
                  <a
                    href="https://github.com/ing-bank/lion/blob/master/CONTRIBUTING.md"
                    rel="noopener noreferrer"
                    >Contribute</a
                  >
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </footer>
    <!--/lit-part--></template></ui-portal-footer> </div>  </body> </html>