import{P as e}from"./a06c5caf.js";function t(t,{regionCode:n,formatCountryCodeStyle:o}){const r=e?.PhoneUtil?.getCountryCodeForRegionCode(n);return"parentheses"===o&&r&&t.includes(`+${r}`)&&!t.includes("(")?t.replace(`+${r}`,`(+${r})`):t}function n(n,{regionCode:o,formatStrategy:r="international",formatCountryCodeStyle:a="default"}){if(!e.isLoaded)return n;const i=e.PhoneUtil;let l;try{l=i.parsePhoneNumber(n,{regionCode:o})}catch(e){}if(n?.length>=4&&n?.length<=16&&l?.valid){let e;switch(r){case"e164":e=l.number.e164;break;case"international":e=l.number.international;break;case"national":e=l.number.national;break;case"rfc3966":e=l.number.rfc3966;break;case"significant":e=l.number.significant}return"default"!==a?t(e,{regionCode:o,formatCountryCodeStyle:a}):e}return"default"!==a?t(n,{regionCode:o,formatCountryCodeStyle:a}):n}function o(o,{regionCode:r,formatStrategy:a,prevViewValue:i,currentCaretIndex:l,formatCountryCodeStyle:d}){if(o.length-i.length<=0||!e.isLoaded)return;const u=e.PhoneUtil.getAsYouType(r);for(const e of o)""!==e&&u.addChar(e);let g=!1,c=n(u.number(),{regionCode:r,formatStrategy:a});"parentheses"===d&&r&&!c.includes("(")&&(c=t(c,{regionCode:r,formatCountryCodeStyle:d}),g=!0);const s=e?.PhoneUtil?.getCountryCodeForRegionCode(r);let C=l+(c.length-o.length);return g&&s&&o.length>s.toString().length+1&&l<=s.toString().length+1&&(C-=2),c?{viewValue:c,caretIndex:C}:void 0}export{n as f,o as l};
