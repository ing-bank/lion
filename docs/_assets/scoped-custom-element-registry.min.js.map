{"version":3,"sources":[" [synthetic:es6/util/arrayiterator] "," [synthetic:es6/util/makeiterator] "," [synthetic:es6/util/arrayfromiterable] "," [synthetic:es6/util/arrayfromiterator] "," [synthetic:util/objectcreate] "," [synthetic:util/global] "," [synthetic:es6/util/construct] "," [synthetic:es6/util/setprototypeof] ","src/scoped-custom-element-registry.js"," [synthetic:es6/util/inherits] "],"names":["$jscomp.arrayIteratorImpl","$jscomp.objectCreate","$jscomp.global","$jscomp.getGlobal","$jscomp.construct","$jscomp.getConstructImplementation","$jscomp.setPrototypeOf","ShadowRoot","prototype","createElement","NativeHTMLElement","window","HTMLElement","nativeDefine","customElements","define","nativeGet","get","nativeRegistry","definitionForElement","WeakMap","pendingRegistryForElement","globalDefinitionForConstructor","scopeForElement","CustomElementRegistry","constructor","_definitionsByTag","Map","_definitionsByClass","_whenDefinedPromises","_awaitingUpgrade","tagName","elementClass","toLowerCase","undefined","_getDefinition","DOMException","attributeChangedCallback","observedAttributes","Set","patchAttributes","definition","connectedCallback","disconnectedCallback","adoptedCallback","set","standInClass","call","createStandInElement","awaiting","delete","$jscomp.makeIterator","element","customize","info","resolve","upgrade","creationContext","push","apply","arguments","pop","whenDefined","Promise","promise","r","_upgradeWhenDefined","shouldUpgrade","add","upgradingInstance","window.HTMLElement","instance","TypeError","Reflect","construct","Object","setPrototypeOf","scope","getRootNode","document","context","length","registry","$jscomp.global.Object.defineProperty","size","setAttribute","elementClass.prototype.setAttribute","n","value","name","has","old","getAttribute","removeAttribute","elementClass.prototype.removeAttribute","patchHTMLElement","parentClass","getPrototypeOf","isUpgrade","_","forEach","attr","hasAttribute","isConnected","nativeAttachShadow","Element","attachShadow","Element.prototype.attachShadow","init","shadowRoot","installScopedCreationMethod","ctor","method","from","native","ret","installScopedCreationSetter","descriptor","getOwnPropertyDescriptor","defineProperty","configurable","writable","internalsToHostMap","attachInternals","methods","args","internals","$jscomp.arrayFromIterable","proto","originalMethod","host","RadioNodeList","elements","Array","_elements","find","HTMLFormControlsCollection","entries","index","nameReference","key","formElementsDescriptor","HTMLFormElement","nativeElements","include"],"mappings":"A;;;;;;;;;;;;;;aA2B4B,QAAA,EAAQ,CAAC,CAAD,CAAQ,CAC1C,IAAI,EAAQ,CACZ,OAAO,SAAQ,EAAG,CAChB,MAAI,EAAJ,CAAY,CAAZ,CAAkB,MAAlB,CACS,CACL,KAAM,CAAA,CADD,CAEL,MAAO,CAAA,CAAM,CAAA,EAAN,CAFF,CADT,CAMS,CAAC,KAAM,CAAA,CAAP,CAPO,CAFwB,CCGrB,QAAA,EAAQ,CAAC,CAAD,CAAW,CAExC,IAAI,EAAoC,WAApC,EAAmB,MAAO,OAA1B,EAAmD,MAAnD,CAA0D,QAA1D,EACmB,CAAD,CAAW,MAAX,CAAkB,QAAlB,CACtB,OAAO,EAAA,CAAmB,CAAA,CAAiB,IAAjB,CAAsB,CAAtB,CAAnB,CDc6B,CAAC,KAAMA,CAAA,CCbM,CDaN,CAAP,CClBI,CCDd,QAAA,EAAQ,CAAC,CAAD,CAAW,CAC7C,GAAI,EAAA,CAAA,WAAoB,MAApB,CAAJ,CAAA,CAGS,CAAA,CAAA,CAAA,CAAA,CAAA,CCET,KAFA,IAAI,CAAJ,CACI,EAAM,EACV,CAAO,EAAE,CAAF,CAAM,CAAA,CAAS,IAAT,EAAN,EAAuB,IAA9B,CAAA,CACE,CAAA,CAAI,IAAJ,CAAS,CAAT,CAAW,KAAX,CAEF,EAAA,CAAO,CDRP,CAAA,MAAA,EAD6C,CEC/C,IAAAC,EACmD,UAA/C,EAAuB,MAAO,OAAP,CAAc,MAArC,CACA,MADA,CACO,MADP,CAEA,QAAQ,CAAC,CAAD,CAAY,CAEP,QAAA,EAAQ,EAAG,EACtB,CAAA,CAAK,SAAL,CAAiB,CACjB,OAAO,KAAI,CAJO,CCAJ;QAAA,EAAQ,CAAC,CAAD,CAAe,CACrC,CAAA,CAAkB,CAKpB,QALoB,EAKR,MAAO,WALC,EAKa,UALb,CAcpB,CAdoB,CAgBpB,QAhBoB,EAgBR,MAAO,OAhBC,EAgBS,MAhBT,CAkBpB,QAlBoB,EAkBR,MAAO,KAlBC,EAkBO,IAlBP,CAoBpB,QApBoB,EAoBR,MAAO,OApBC,EAoBS,MApBT,CAsBtB,KAAK,IAAI,EAAI,CAAb,CAAgB,CAAhB,CAAoB,CAApB,CAAoC,MAApC,CAA4C,EAAE,CAA9C,CAAiD,CAC/C,IAAI,EAAc,CAAA,CAAgB,CAAhB,CAOlB,IAAI,CAAJ,EAAmB,CAAnB,CAA+B,IAA/B,EAA0C,IAA1C,CACE,MAA+B,EATc,CAqBzC,KAAU,MAAJ,CAAU,2BAAV,CAAN,CA5CiC;AAsD3C,IAAAC,EAAiBC,CAAA,CAAkB,IAAlB,CAAjB,CCKAC,EA9DqCC,QAAQ,EAAG,CAG9C,QAAS,EAAqB,EAAG,CACX,QAAS,EAAI,EAAG,EAEpC,IAAI,CACJ,QAAA,CAAQ,SAAR,CAAkB,CAAlB,CAAwB,EAAxB,CAFoB,QAAgB,EAAG,EAEvC,CACA,OAAO,KAAI,CAAX,WAA6B,EALE,CAQjC,GAAqD,WAArD,EAAmC,MAAO,QAA1C,EACI,OADJ,CACY,SADZ,CACuB,CACrB,GAAI,CAAA,EAAJ,CAA6B,MAAO,QAAP,CAAe,SAC5C,KAAI,EAAkB,OAAlB,CAA0B,SAe9B,OALuB,SAAQ,CAAC,CAAD,CAAS,CAAT,CAAkB,CAAlB,CAAiC,CAC1D,CAAA,CAAM,CAAA,CAAgB,CAAhB,CAAwB,CAAxB,CACN,EAAJ,EAAmB,OAAA,CAAQ,cAAR,CAAuB,CAAvB,CAA4B,CAA5B,CAA0C,SAA1C,CACnB,OAAO,EAHuD,CAZ3C,CAqCvB,MARA,SAAkB,CAAC,CAAD,CAAS,CAAT,CAAkB,CAAlB,CAAiC,CAC3B,IAAA,EAAtB,GAAI,CAAJ,GAAiC,CAAjC,CAAiD,CAAjD,CAEI,EAAA,CAAMJ,CAAA,CADE,CACF,CADgB,SAChB,EAD6B,MAC7B,CADoC,SACpC,CAGV,OAFY,SACF,CADW,SACX,CADqB,KACrB,CAAM,IAAN,CAAW,CAAX,CAAmB,CAAnB,CAAwB,CAAxB,CACV,EAAc,CANmC,CAzCL,CAgExC,EDPR,CErCyB,CAAA;GACiC,UADjC,EACC,MAAO,OAAP,CAAc,cADf,CAErB,CAAA,CAAA,MAAA,CAAA,cAFqB,KAAA,CAGrB,IAAA,CAxByC,EAAA,CAAA,CAC3C,IAAI,EAAI,CAAC,EAAG,CAAA,CAAJ,CAAR,CACI,EAAI,EACR,IAAI,CACF,CAAA,CAAE,SAAF,CAAc,CACd,EAAA,CAAO,CAAP,CAAS,CAAT,OAAA,CAFE,CAGF,MAAO,CAAP,CAAU,EAGZ,CAAA,CAAO,CAAA,CAToC,CAwBzC,CAAA,CAAA,CAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,SAAA,CAAA,CAAA,IAAA,CAAA,CAAA,SAAA,GAAA,CAAA,CAAA,KAAA,KAAA,SAAA,CAAA,CAAA,CAAA,oBAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,IAHqB,CAAzB,IAAAK,EAAyB,CCrCzB;GAAI,CAACC,UAAD,CAAYC,SAAZ,CAAsBC,aAA1B,CAAyC,CACvC,IAAMC,EAAoBC,MAApBD,CAA2BE,WAAjC,CACMC,EAAeF,MAAfE,CAAsBC,cAAtBD,CAAqCE,MAD3C,CAEMC,EAAYL,MAAZK,CAAmBF,cAAnBE,CAAkCC,GAFxC,CAGMC,EAAiBP,MAAjBO,CAAwBJ,cAH9B,CAKMK,EAAuB,IAAIC,OALjC,CAMMC,EAA4B,IAAID,OANtC,CAOME,EAAiC,IAAIF,OAP3C,CAaMG,EAAkB,IAAIH,OAK5BT,OAAA,CAAOa,qBAAP,CACEC,QAAW,EAAG,CACZ,IAAA,CAAKC,CAAL,CAAyB,IAAIC,GAC7B,KAAA,CAAKC,CAAL,CAA2B,IAAID,GAC/B,KAAA,CAAKE,CAAL,CAA4B,IAAIF,GAChC,KAAA,CAAKG,CAAL,CAAwB,IAAIH,GAJhB,CAOd,OAAAZ,CAAA,qBAAAA,CAAA,SAAAA,CAAA,MAAAA,CAAAA,QAAM,CAACgB,CAAD,CAAUC,CAAV,CAAwB,CAC5BD,CAAA,CAAUA,CAAA,CAAQE,WAAR,EACV,IAAqCC,IAAAA,EAArC,GAAI,IAAA,CAAKC,CAAL,CAAoBJ,CAApB,CAAJ,CACE,KAAM,KAAIK,YAAJ,CACJ,oEADI,CACgEL,CADhE,CACJ,4CADI,CAAN;AAIF,GAAmDG,IAAAA,EAAnD,GAAI,IAAA,CAAKN,CAAL,CAAyBX,GAAzB,CAA6Be,CAA7B,CAAJ,CACE,KAAM,KAAII,YAAJ,CACJ,kHADI,CAAN,CAMF,IAAMC,EACJL,CADIK,CACS7B,SADT6B,CACmBA,wBADzB,CAEMC,EAAqB,IAAIC,GAAJ,CAAQP,CAAR,CAAqBM,kBAArB,EAA2C,EAA3C,CAC3BE,EAAA,CACER,CADF,CAEEM,CAFF,CAGED,CAHF,CAMMI,EAAAA,CAAa,CACjBT,EAAAA,CADiB,CAEjBU,kBAAmBV,CAAnBU,CAAgClC,SAAhCkC,CAA0CA,iBAFzB,CAGjBC,qBAAsBX,CAAtBW,CAAmCnC,SAAnCmC,CAA6CA,oBAH5B,CAIjBC,gBAAiBZ,CAAjBY,CAA8BpC,SAA9BoC,CAAwCA,eAJvB,CAKjBP,yBAAAA,CALiB,CAMjB,eAAkBL,CAAlB,CAA+B,cANd,CAOjB,uBACEA,CADF,CACexB,SADf,CACyB,sBARR;AASjB,qBAAwBwB,CAAxB,CAAqCxB,SAArC,CAA+C,oBAT9B,CAUjB,kBAAqBwB,CAArB,CAAkCxB,SAAlC,CAA4C,iBAV3B,CAWjB,yBACEwB,CADF,CACexB,SADf,CACyB,wBAZR,CAajB8B,mBAAAA,CAbiB,CAenB,KAAA,CAAKZ,CAAL,CAAuBmB,GAAvB,CAA2Bd,CAA3B,CAAoCU,CAApC,CACA,KAAA,CAAKb,CAAL,CAAyBiB,GAAzB,CAA6Bb,CAA7B,CAA2CS,CAA3C,CAEIK,EAAAA,CAAe9B,CAAA,CAAU+B,IAAV,CAAe7B,CAAf,CAA+Ba,CAA/B,CACde,EAAL,GACEA,CACA,CADeE,CAAA,CAAqBjB,CAArB,CACf,CAAAlB,CAAA,CAAakC,IAAb,CAAkB7B,CAAlB,CAAkCa,CAAlC,CAA2Ce,CAA3C,CAFF,CAII,KAAJ,GAAanC,MAAb,CAAoBG,cAApB,GACEQ,CAAA,CAA+BuB,GAA/B,CAAmCb,CAAnC,CAAiDS,CAAjD,CACA,CAAAA,CAAA,CAAWK,CAAX,CAA0BA,CAF5B,CAMA,IADMG,CACN,CADiB,IAAA,CAAKnB,CAAL,CAAsBb,GAAtB,CAA0Bc,CAA1B,CACjB,CAAc,CACZ,IAAA,CAAKD,CAAL,CAAsBoB,MAAtB,CAA6BnB,CAA7B,CACA,EAAA,CAAAoB,CAAA,CAAsBF,CAAtB,CAAA,KAAA,IAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA,CAAWG,CAET,CAFF,CAEE,CAFF,KAEE,CADA/B,CAAA,CAA0B6B,MAA1B,CAAiCE,CAAjC,CACA,CAAAC,CAAA,CAAUD,CAAV,CAAmBX,CAAnB,CAA+B,CAAA,CAA/B,CAJU,CAQRa,CAAAA,CAAO,IAAA,CAAKzB,CAAL,CAA0BZ,GAA1B,CAA8Bc,CAA9B,CACAG,KAAAA,EAAb,GAAIoB,CAAJ,GACEA,CAAA,CAAKC,OAAL,CAAavB,CAAb,CACA,CAAA,IAAA,CAAKH,CAAL,CAA0BqB,MAA1B,CAAiCnB,CAAjC,CAFF,CAIA,OAAOC,EAjEqB,CAoE9B,OAAAwB,CAAA,qBAAAA,CAAA,SAAAA,CAAA,OAAAA;AAAAA,QAAO,EAAG,CACRC,CAAA,CAAgBC,IAAhB,CAAqB,IAArB,CACAxC,EAAA,CAAesC,OAAf,CAAuBG,KAAvB,CAA6BzC,CAA7B,CAA6C0C,SAA7C,CACAH,EAAA,CAAgBI,GAAhB,EAHQ,CAMV,OAAA5C,CAAA,qBAAAA,CAAA,SAAAA,CAAA,GAAAA,CAAAA,QAAG,CAACc,CAAD,CAAU,CAEJU,IAAAA,CAAP,OAAO,KAAA,GAAAA,CAAA,CADY,IAAAA,CAAKf,CAALe,CAAuBxB,GAAvBwB,CAA2BV,CAA3BU,CACZ,EAAA,IAAA,EAAA,CAAAA,CAAA,CAAY,CAFR,CAKb,OAAAN,CAAA,qBAAAA,CAAA,SAAAA,CAAA,CAAAA,CAAAA,QAAc,CAACJ,CAAD,CAAU,CACtB,MAAO,KAAA,CAAKL,CAAL,CAAuBT,GAAvB,CAA2Bc,CAA3B,CADe,CAIxB,OAAA+B,CAAA,qBAAAA,CAAA,SAAAA,CAAA,WAAAA,CAAAA,QAAW,CAAC/B,CAAD,CAAU,CACnB,IAAMU,EAAa,IAAA,CAAKN,CAAL,CAAoBJ,CAApB,CACnB,IAAmBG,IAAAA,EAAnB,GAAIO,CAAJ,CACE,MAAOsB,QAAA,CAAQR,OAAR,CAAgBd,CAAhB,CAA2BT,CAA3B,CAET,KAAIsB,EAAO,IAAA,CAAKzB,CAAL,CAA0BZ,GAA1B,CAA8Bc,CAA9B,CACEG,KAAAA,EAAb,GAAIoB,CAAJ,GACEA,CAEA,CAFO,EAEP,CADAA,CACA,CADKU,OACL,CADe,IAAID,OAAJ,CAAY,QAAA,CAACE,CAAD,CAAQ,CAAA,MAAAX,EAAA,CAAKC,OAAL,CAAeU,CAAf,CAApB,CACf,CAAA,IAAA,CAAKpC,CAAL,CAA0BgB,GAA1B,CAA8Bd,CAA9B,CAAuCuB,CAAvC,CAHF,CAKA,OAAOA,EAAP,CAAYU,OAXO,CAcrB,OAAAE,CAAA,qBAAAA,CAAA,SAAAA,CAAA,CAAAA;AAAAA,QAAmB,CAACd,CAAD,CAAUrB,CAAV,CAAmBoC,CAAnB,CAAkC,CACnD,IAAIlB,EAAW,IAAA,CAAKnB,CAAL,CAAsBb,GAAtB,CAA0Bc,CAA1B,CACVkB,EAAL,EACE,IAAA,CAAKnB,CAAL,CAAsBe,GAAtB,CAA0Bd,CAA1B,CAAoCkB,CAApC,CAA+C,IAAIV,GAAnD,CAEE4B,EAAJ,CACElB,CAAA,CAASmB,GAAT,CAAahB,CAAb,CADF,CAGEH,CAAA,CAASC,MAAT,CAAgBE,CAAhB,CARiD,CAcvD,KAAIiB,CACJ1D,OAAA,CAAOC,WAAP,CAAqB0D,QAAoB,EAAG,CAK1C,IAAIC,EAAWF,CACf,IAAIE,CAAJ,CAEE,MADAF,EACOE,CADarC,IAAAA,EACbqC,CAAAA,CAKT,KAAM9B,EAAanB,CAAA,CAA+BL,GAA/B,CAAmC,IAAnC,CAAwCQ,WAAxC,CACnB,IAAI,CAACgB,CAAL,CACE,KAAM,KAAI+B,SAAJ,CACJ,iHADI,CAAN,CAIFD,CAAA,CAAWE,OAAA,CAAQC,SAAR,CACThE,CADS,CAET,EAFS,CAGT+B,CAHS,CAGEK,CAHF,CAKX6B,OAAA,CAAOC,cAAP,CAAsBL,CAAtB,CAAgC,IAAhC,CAAqC9C,WAArC,CAAiDjB,SAAjD,CACAW,EAAA,CAAqB0B,GAArB,CAAyB0B,CAAzB,CAAmC9B,CAAnC,CACA,OAAO8B,EA1BmC,CA4B5C5D,OAAA,CAAOC,WAAP,CAAmBJ,SAAnB,CAA+BE,CAA/B,CAAiDF,SAmCjD,KAAMwC,EAAuBA,QAAA,CAACjB,CAAD,CAAa,CAKtCN,QAAA,EAAW,EAAG,CAEZ,IAAM8C;AAAWE,OAAA,CAAQC,SAAR,CACfhE,CADe,CAEf,EAFe,CAGf,IAHe,CAGVe,WAHU,CAQjBkD,OAAA,CAAOC,cAAP,CAAsBL,CAAtB,CAAgC3D,WAAhC,CAA4CJ,SAA5C,CA7C4B,EAAA,CAAA,CAIhC,IAAIqE,EA2CiCN,CA3CzB,CAAKO,WAAL,EAIZ,IAAI,EAAcD,CAAd,GATKE,QASL,EAAcF,CAAd,WATiCtE,WASjC,CAAJ,CAA0B,CAClByE,CAAAA,CAAUvB,CAAA,CAAgBA,CAAhB,CAAgCwB,MAAhC,CAAyC,CAAzC,CAGhB,IAAID,CAAJ,WAAuBxD,sBAAvB,CAA8C,CAC5C,IAAA,EAAOwD,CAAP,OAAA,CAD4C,CAI9CH,CAAA,CAAQG,CAAA,CAAQF,WAAR,EAKUD,EAAlB,GAtBOE,QAsBP,EAAkBF,CAAlB,WAtBmCtE,WAsBnC,GACEsE,CADF,EACU,IAAA,GAAA,CAAA,CAAAtD,CAAA,CAAgBN,GAAhB,CAAoB4D,CAApB,CAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAA4B,WAA5B,EADV,GACuDE,QADvD,CAbwB,CAiB1B,CAAA,CAAOF,CAAP,CAAa/D,cAzBmB,CA+CtBoE,CAAAA,CAAW,CAAXA,EAAwCvE,MAAxCuE,CAA+CpE,cAErD,EADM2B,CACN,CADmByC,CAAA,CAAS/C,CAAT,CAAwBJ,CAAxB,CACnB,EACEsB,CAAA,CAAUkB,CAAV,CAAoB9B,CAApB,CADF,CAGEpB,CAAA,CAA0BwB,GAA1B,CAA8B0B,CAA9B,CAAwCW,CAAxC,CAEF,OAAOX,EAnBK,CAHdY,CAAA,CAAA,MAAA,CAAA,cAAA,CADK,CACL,CAAY,gBAAZ,CAAA,CAAA,aAAA,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA;AAAA,IAAgC,QAAA,EAAA,CAC9B,MAAO,CAAA,CADuB,CAAhC,CAAA,CAyBA,EAAAzC,CAAA,SAAAA,CAAA,iBAAAA,CAAAA,QAAiB,EAAG,CAClB,IAAMD,EAAatB,CAAA,CAAqBF,GAArB,CAAyB,IAAzB,CACfwB,EAAJ,CAEEA,CAFF,CAEaC,iBAFb,EAGID,CAAA,CAAWC,iBAAX,CAA6BiB,KAA7B,CAAmC,IAAnC,CAAyCC,SAAzC,CAHJ,CAMEvC,CAAA,CACGJ,GADH,CACO,IADP,CAAA,CAEGiD,CAFH,CAEuB,IAFvB,CAE6BnC,CAF7B,CAEsC,CAAA,CAFtC,CARgB,CAcpB,EAAAY,CAAA,SAAAA,CAAA,oBAAAA,CAAAA,QAAoB,EAAG,CACrB,IAAMF,EAAatB,CAAA,CAAqBF,GAArB,CAAyB,IAAzB,CACfwB,EAAJ,CAEEA,CAFF,CAEaE,oBAFb,EAGIF,CAAA,CAAWE,oBAAX,CAAgCgB,KAAhC,CAAsC,IAAtC,CAA4CC,SAA5C,CAHJ,CAMEvC,CAAA,CACGJ,GADH,CACO,IADP,CAAA,CAEGiD,CAFH,CAEuB,IAFvB,CAE6BnC,CAF7B,CAEsC,CAAA,CAFtC,CARmB,CAcvB,EAAAa,CAAA,SAAAA,CAAA,eAAAA,CAAAA,QAAe,EAAG,CAEhBH,IAAAA,CAAAA,CAAA,CAAA,KAAA,GAAAA,CAAA,CADmBtB,CAAAsB,CAAqBxB,GAArBwB,CAAyB,IAAzBA,CACnB,GAAA,IAAA,GAAA,CAAA,CAAAA,CAAA,CAAY,eAAZ,GAAA,CAAA,CAA6B,KAA7B,CAAmC,IAAnC,CAAyCmB,SAAzC,CAFgB,CAtDb,EA4DL,CAAA,SAAA,CAAC,sBAAD,CAAA,QAA0B,EAAG,CAC3B,IAAMnB;AAAatB,CAAA,CAAqBF,GAArB,CAAyB,IAAzB,CACnB,IAAIwB,CAAJ,EAAkBA,CAAlB,CAA6B,cAA7B,CAAgD,CAC9C,IAAA,CAAA,KAAA,EAAAA,CAAA,EAAA,IAAA,GAAA,CAAA,CAAAA,CAAA,CAAa,sBAAb,GAAA,CAAA,CAAwC,KAAxC,CAA8C,IAA9C,CAAoDmB,SAApD,CAD8C,CAFrB,CA5DxB,EAmEL,CAAA,SAAA,CAAC,oBAAD,CAAA,QAAwB,EAAG,CACzB,IAAMnB,EAAatB,CAAA,CAAqBF,GAArB,CAAyB,IAAzB,CACnB,IAAI,IAAA,EAAAwB,CAAA,CAAA,CAAA,CAAAA,CAAA,CAAa,cAAjB,CAAoC,CAClC,IAAA,CAAA,KAAA,EAAAA,CAAA,EAAA,IAAA,GAAA,CAAA,CAAAA,CAAA,CAAa,oBAAb,GAAA,CAAA,CAAsC,KAAtC,CAA4C,IAA5C,CAAkDmB,SAAlD,CADkC,CAFX,CAnEtB,EA0EL,CAAA,SAAA,CAAC,iBAAD,CAAA,QAAqB,EAAG,CACtB,IAAMnB,EAAatB,CAAA,CAAqBF,GAArB,CAAyB,IAAzB,CACnB,IAAI,IAAA,EAAAwB,CAAA,CAAA,CAAA,CAAAA,CAAA,CAAa,cAAjB,CAAoC,CAClC,IAAA,CAAA,KAAA,EAAAA,CAAA,EAAA,IAAA,GAAA,CAAA,CAAAA,CAAA,CAAa,iBAAb,GAAA,CAAA,CAAmC,KAAnC,CAAyC,IAAzC,CAA+CmB,SAA/C,CADkC,CAFd,CA1EnB,EAiFL,CAAA,SAAA,CAAC,wBAAD,CAAA,QAA4B,EAAG,CAC7B,IAAMnB,EAAatB,CAAA,CAAqBF,GAArB,CAAyB,IAAzB,CACnB;GAAI,IAAA,EAAAwB,CAAA,CAAA,CAAA,CAAAA,CAAA,CAAa,cAAjB,CAAoC,CAClC,IAAA,CAAA,KAAA,EAAAA,CAAA,EAAA,IAAA,GAAA,CAAA,CAAAA,CAAA,CAAa,wBAAb,GAAA,CAAA,CAA0C,KAA1C,CAAgD,IAAhD,CAAsDmB,SAAtD,CADkC,CAFP,CAjFjC,OAAO,EADiC,CAA1C,CAgGMpB,EAAkBA,QAAA,CACtBR,CADsB,CAEtBM,CAFsB,CAGtBD,CAHsB,CAInB,CACH,GAC8B,CAD9B,GACEC,CADF,CACqB8C,IADrB,EAE+BlD,IAAAA,EAF/B,GAEEG,CAFF,CAAA,CAMA,IAAMgD,EAAerD,CAAfqD,CAA4B7E,SAA5B6E,CAAsCA,YACxCA,EAAJ,GACErD,CADF,CACexB,SADf,CACyB6E,YADzB,CACwCC,QAAS,CAACC,CAAD,CAAIC,CAAJ,CAAW,CAClDC,CAAAA,CAAOF,CAAA,CAAEtD,WAAF,EACb,IAAIK,CAAA,CAAmBoD,GAAnB,CAAuBD,CAAvB,CAAJ,CAAkC,CAChC,IAAME,EAAM,IAAA,CAAKC,YAAL,CAAkBH,CAAlB,CACZJ,EAAA,CAAatC,IAAb,CAAkB,IAAlB,CAAwB0C,CAAxB,CAA8BD,CAA9B,CACAnD,EAAA,CAAyBU,IAAzB,CAA8B,IAA9B,CAAoC0C,CAApC,CAA0CE,CAA1C,CAA+CH,CAA/C,CAHgC,CAAlC,IAKEH,EAAA,CAAatC,IAAb,CAAkB,IAAlB,CAAwB0C,CAAxB,CAA8BD,CAA9B,CAPsD,CAD5D,CAYA,KAAMK,EAAkB7D,CAAlB6D,CAA+BrF,SAA/BqF,CAAyCA,eAC3CA,EAAJ,GACE7D,CADF,CACexB,SADf,CACyBqF,eADzB,CAC2CC,QAAS,CAACP,CAAD,CAAI,CAC9CE,CAAAA,CAAOF,CAAA,CAAEtD,WAAF,EACb,IAAIK,CAAA,CAAmBoD,GAAnB,CAAuBD,CAAvB,CAAJ,CAAkC,CAChC,IAAME,EAAM,IAAA,CAAKC,YAAL,CAAkBH,CAAlB,CACZI,EAAA,CAAgB9C,IAAhB,CAAqB,IAArB;AAA2B0C,CAA3B,CACApD,EAAA,CAAyBU,IAAzB,CAA8B,IAA9B,CAAoC0C,CAApC,CAA0CE,CAA1C,CAA+C,IAA/C,CAHgC,CAAlC,IAKEE,EAAA,CAAgB9C,IAAhB,CAAqB,IAArB,CAA2B0C,CAA3B,CAPkD,CADxD,CApBA,CADG,CApGL,CAyIMM,EAAmBA,QAAA,CAAC/D,CAAD,CAAkB,CACzC,IAAMgE,EAAcrB,MAAA,CAAOsB,cAAP,CAAsBjE,CAAtB,CAEpB,IAAIgE,CAAJ,GAAoBrF,MAApB,CAA2BC,WAA3B,CACE,MAAIoF,EAAJ,GAAoBtF,CAApB,CACSiE,MAAA,CAAOC,cAAP,CAAsB5C,CAAtB,CAAoCrB,MAApC,CAA2CC,WAA3C,CADT,CAIOmF,CAAA,CAAiBC,CAAjB,CARgC,CAzI3C,CAsJM3C,EAAYA,QAAA,CAACkB,CAAD,CAAW9B,CAAX,CAAuByD,CAAvB,CAA6C,CAAtBA,CAAA,CAAA,IAAA,EAAA,GAAAA,CAAA,CAAY,CAAA,CAAZ,CAAAA,CACvCvB,OAAA,CAAOC,cAAP,CAAsBL,CAAtB,CAAgC9B,CAAhC,CAA2CT,CAA3C,CAAwDxB,SAAxD,CACAW,EAAA,CAAqB0B,GAArB,CAAyB0B,CAAzB,CAAmC9B,CAAnC,CACA4B,EAAA,CAAoBE,CACpB,IAAI,CACF,IAAI9B,CAAJ,CAAeT,CADb,CAEF,MAAOmE,CAAP,CAAU,CACVJ,CAAA,CAAiBtD,CAAjB,CAA4BT,CAA5B,CACA,CAAA,IAAIS,CAAJ,CAAeT,CAFL,CAKZS,CAAA,CAAWH,kBAAX,CAA8B8D,OAA9B,CAAsC,QAAA,CAACC,CAAD,CAAU,CAC1C9B,CAAA,CAAS+B,YAAT,CAAsBD,CAAtB,CAAJ,EACE5D,CAAA,CAAWJ,wBAAX,CAAoCU,IAApC,CACEwB,CADF,CAEE8B,CAFF,CAGE,IAHF,CAIE9B,CAAA,CAASqB,YAAT,CAAsBS,CAAtB,CAJF,CAF4C,CAAhD,CAUIH,EAAJ,EAAiBzD,CAAjB,CAA4BC,iBAA5B,EAAiD6B,CAAjD,CAA0DgC,WAA1D,EACE9D,CAAA,CAAWC,iBAAX,CAA6BK,IAA7B,CAAkCwB,CAAlC,CAtB2D,CAtJ/D,CAiLMiC;AAAqBC,OAArBD,CAA6BhG,SAA7BgG,CAAuCE,YAC7CD,QAAA,CAAQjG,SAAR,CAAkBkG,YAAlB,CAAiCC,QAAS,CAACC,CAAD,CAAO,CAC/C,IAAMC,EAAaL,CAAA,CAAmB7C,KAAnB,CAAyB,IAAzB,CAA+BC,SAA/B,CACfgD,EAAJ,CAAS9F,cAAT,GACE+F,CADF,CACa/F,cADb,CAC8B8F,CAD9B,CACmC9F,cADnC,CAGA,OAAO+F,EALwC,CASjD,KAAIpD,EAAkB,CAACsB,QAAD,CAAtB,CACM+B,EAA8BA,QAAA,CAACC,CAAD,CAAOC,CAAP,CAAeC,CAAf,CAAoC,CACtE,IAAMC,EAAS,CAACD,CAAA,CAAOtC,MAAA,CAAOsB,cAAP,CAAsBgB,CAAtB,CAAP,CAAqCF,CAArC,CAA0CvG,SAA3C,EACbwG,CADa,CAGfD,EAAA,CAAKvG,SAAL,CAAewG,CAAf,CAAA,CAAyB,QAAS,EAAG,CACnCvD,CAAA,CAAgBC,IAAhB,CAAqB,IAArB,CACA,KAAMyD,EAAMD,CAAA,CAAOvD,KAAP,CAAasD,CAAb,EAAqB,IAArB,CAA2BrD,SAA3B,CAKA1B,KAAAA,EAAZ,GAAIiF,CAAJ,EACE5F,CAAA,CAAgBsB,GAAhB,CAAoBsE,CAApB,CAAyB,IAAzB,CAEF1D,EAAA,CAAgBI,GAAhB,EACA,OAAOsD,EAX4B,CAJiC,CAkBxEL,EAAA,CAA4BvG,UAA5B,CAAwC,eAAxC,CAAyDwE,QAAzD,CACA+B,EAAA,CAA4BvG,UAA5B,CAAwC,YAAxC,CAAsDwE,QAAtD,CACA+B,EAAA,CAA4BL,OAA5B,CAAqC,oBAArC,CAGA,KAAMW,EAA8BA,QAAA,CAACL,CAAD,CAAgB,CAClD,IAAMM;AAAa1C,MAAA,CAAO2C,wBAAP,CAAgCP,CAAhC,CAAqCvG,SAArC,CAUgBiF,WAVhB,CACnBd,OAAA,CAAO4C,cAAP,CAAsBR,CAAtB,CAA2BvG,SAA3B,CASmCiF,WATnC,CAA4C,MAAA,CAAA,MAAA,CAAA,EAAA,CACvC4B,CADuC,CAAA,CAE1C,IAAAxE,QAAG,CAAC2C,CAAD,CAAQ,CACT/B,CAAA,CAAgBC,IAAhB,CAAqB,IAArB,CACA2D,EAAA,CAAWxE,GAAX,CAAeE,IAAf,CAAoB,IAApB,CAA0ByC,CAA1B,CACA/B,EAAA,CAAgBI,GAAhB,EAHS,CAF+B,CAAA,CAA5C,CAFkD,CAWpDuD,EAAA,CAA4BX,OAA5B,CACAW,EAAA,CAA4B7G,UAA5B,CAGAoE,OAAA,CAAO4C,cAAP,CAAsB5G,MAAtB,CAA8B,gBAA9B,CAAgD,CAC9C6E,MAAO,IAAIhE,qBADmC,CAE9CgG,aAAc,CAAA,CAFgC,CAG9CC,SAAU,CAAA,CAHoC,CAAhD,CAMA,IACI9G,MADJ,CACW,gBADX,EAEIA,MAFJ,CAEW,gBAFX,CAE+BH,SAF/B,CAEyC,YAFzC,CAGE,CACA,IAAMkH,EAAqB,IAAItG,OAA/B,CACMuG,EAAkB/G,WAAlB+G,CAA8BnH,SAA9BmH,CAAwC,eAD9C,CAEMC,QAAU,CACd,cADc,CAEd,aAFc,CAGd,eAHc;AAId,gBAJc,CAOhBhH,YAAA,CAAYJ,SAAZ,CAAsB,eAAtB,CAA2C,QAAS,CAAIqH,CAAJ,CAAU,CAAT,IAAA,IAAS,EAAT,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,SAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAS,CAAT,CAAA,CAAA,CAAA,CAAA,SAAA,CAAA,CAAA,CAC7CC,EAAAA,CAAYH,CAAA,CAAgB5E,IAAhB,CAAA,KAAA,CAAA4E,CAAA,CAAA,CAAqB,IAArB,CAAA,CAAA,MAAA,CAAAI,CAAA,CAD0CF,CAC1C,CAAA,CAAA,CAClBH,EAAA,CAAmB7E,GAAnB,CAAuBiF,CAAvB,CAAkC,IAAlC,CACA,OAAOA,EAHqD,CAM9DF,QAAA,CAAQxB,OAAR,CAAgB,QAAA,CAACY,CAAD,CAAY,CAC1B,IAAMgB,EAAQrH,MAARqH,CAAe,gBAAfA,CAAmCxH,SAAzC,CACMyH,EAAiBD,CAAA,CAAMhB,CAAN,CAEvBgB,EAAA,CAAMhB,CAAN,CAAA,CAAgB,QAAS,CAAIa,CAAJ,CAAU,CAAT,IAAA,IAAS,EAAT,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA,CAAA,SAAA,CAAA,MAAA,CAAA,EAAA,CAAA,CAAS,CAAT,CAAA,CAAA,CAAA,CAAA,SAAA,CAAA,CAAA,CAClBK,EAAAA,CAAOR,CAAA,CAAmBzG,GAAnB,CAAuB,IAAvB,CAEb,IAAqC,CAAA,CAArC,GADmBE,CAAAsB,CAAqBxB,GAArBwB,CAAyByF,CAAzBzF,CACnB,CAAe,cAAf,CACE,IAAA,EAAAwF,CAAA,EAAAA,CAAA,CAAgB,IAAhB,CAAA,KAAA,CAAAA,CAAA,CAAA,CAAqB,IAArB,CAAA,CAAA,MAAA,CAAAF,CAAA,CAJ+BF,CAI/B,CAAA,CAAA,CADF,KAGE,MAAM,KAAIzF,YAAJ,CACJ,oBADI,CACiB6F,CADjB,CACJ,qFADI,CAAN;AAN+B,CAJT,CAA5B,CAkBA,KAAME,cACJ1G,QAAW,CAAC2G,CAAD,CAAW,CACpB,IAAA,EAAAhI,CAAA,CAFwBiI,KAExB,CAAA,EAAA,CAAA,MAAA,CAAAN,CAAA,CAASK,CAAT,CAAA,CAAA,CAAA,IAAA,CAAA,WAAA,CACA,EAAA,CAAKE,CAAL,CAAiBF,CAFG,OAAA,EAAA,CADxB,CAAMD,EAAAA,aAAN,CAA4BE,EAAAA,KC3a9B,EAAA,CAAU,SAAV,CAAsBpI,CAAA,CAAqB,CAArB,CAAgC,SAAhC,CACL,EAAA,CAAU,SAAV,CAAoB,WAApB,CAAkC,CACnD,IAAIK,CAAJ,CAIEA,CAAA,CAAe,CAAf,CAA0B,CAA1B,CAJF,KAQE,KAAK,IAAI,CAAT,GAAc,EAAd,CACE,GAAS,WAAT,EAAI,CAAJ,CAIA,GAAI,MAAJ,CAAW,gBAAX,CAA6B,CAC3B,IAAI,EAAa,MAAA,CAAO,wBAAP,CAAgC,CAAhC,CAA4C,CAA5C,CACb,EAAJ,EACE,MAAA,CAAO,cAAP,CAAsB,CAAtB,CAAiC,CAAjC,CAAoC,CAApC,CAHyB,CAA7B,IAOE,EAAA,CAAU,CAAV,CAAA,CAAe,CAAA,CAAW,CAAX,CAKrB,EAAA,CAAU,CAAV,CAAwB,CAAxB,CAAmC,SDsZ/B6E,EAAA,CAAA,MAAA,CAAA,cAAA,CANIgD,aAMJ,CAAA,SAAA,CAAK,OAAL,CAAA,CAAA,aAAA,CAAA,CAAA,CAAA,WAAA,CAAA,CAAA,CAAA,IAAgB,QAAA,EAAA,CAEZ,IAAA,CADF,QACE,IAAA,GAAA,CAAA,CAAA,IAAA,CAAKG,CAAL,CAAeC,IAAf,CAAoB,QAAA,CAACnF,CAAD,CAAa,CAAA,MAAuB,CAAA,CAAvB;AAAAA,CAAA,CAAQ,OAAR,CAAjC,CAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CACI,KAFN,GAEe,EAHD,CAAhB,CAAA,CASF,KAAMoF,2BACJ/G,QAAW,CAAC2G,CAAD,CAAW,CAAA,IAAA,EAAA,IAAA,CACdK,EAAU,IAAI9G,GACpByG,EAAA,CAAShC,OAAT,CAAiB,QAAA,CAAChD,CAAD,CAAUsF,CAAV,CAAoB,CACnC,IAAMjD,EAAOrC,CAAA,CAAQwC,YAAR,CAAqB,MAArB,CAAb,CACM+C,EAAgBF,CAAA,CAAQxH,GAAR,CAAYwE,CAAZ,CAAhBkD,EAAqC,EAC3C,EAAA,CAAK,CAACD,CAAN,CAAA,CAAetF,CACfuF,EAAA,CAAcjF,IAAd,CAAmBN,CAAnB,CACAqF,EAAA,CAAQ5F,GAAR,CAAY4C,CAAZ,CAAkBkD,CAAlB,CALmC,CAArC,CAOA,KAAA,CAAK,MAAL,CAAiBP,CAAjB,CAA0BnD,MAC1BwD,EAAA,CAAQrC,OAAR,CAAgB,QAAA,CAACZ,CAAD,CAAQoD,CAAR,CAAgB,CACzBpD,CAAL,GAEE,CAAA,CAAKoD,CAAL,CAFF,CACqB,CAArB,GAAIpD,CAAJ,CAAUP,MAAV,CACcO,CAAA,CAAM,CAAN,CADd,CAGc,IAAI2C,aAAJ,CAAkB3C,CAAlB,CAJd,CAD8B,CAAhC,CAVoB,CADlBgD,2BAqBJ,CAAA,SAAA,CAAC,SAAD,CAAA,QAAa,CAACI,CAAD,CAAM,CACjB,MAAO,KAAA,CAAKA,CAAL,CADU,CAMrB,KAAMC,EAAyBlE,MAAA,CAAO2C,wBAAP,CAC7BwB,eAD6B,CACbtI,SADa,CAE7B,UAF6B,CAK/BmE,OAAA,CAAO4C,cAAP,CAAsBuB,eAAtB,CAAsCtI,SAAtC,CAAiD,UAAjD;AAA6D,CAC3DS,IAAKA,QAAS,EAAG,CACf,IAAM8H,EAAiBF,CAAA,CAAuB5H,GAAvB,CAA2B8B,IAA3B,CAAgC,IAAhC,CAAsC,EAAtC,CAAvB,CAEMiG,EAAU,EAEhB,EAAA,CAAA7F,CAAA,CAAsB4F,CAAtB,CAAA,KAAA,IAAA,EAAA,CAAA,CAAA,IAAA,EAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA,CAAsC,CAA3B3F,CAAAA,CAAX,CAAWA,CAAX,KACE,KAAMX,EAAatB,CAAA,CAAqBF,GAArB,CAAyBmC,CAAzB,CAGdX,EAAL,EAAoD,CAAA,CAApD,GAAmBA,CAAnB,CAA8B,cAA9B,EACEuG,CAAA,CAAQtF,IAAR,CAAaN,CAAb,CALkC,CAStC,MAAO,KAAIoF,0BAAJ,CAA+BQ,CAA/B,CAdQ,CAD0C,CAA7D,CAjFA,CArbqC","file":"scoped-custom-element-registry.min.js","sourcesContent":[null,null,null,null,null,null,null,null,"/**\n * @license\n * Copyright (c) 2020 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nif (!ShadowRoot.prototype.createElement) {\n  const NativeHTMLElement = window.HTMLElement;\n  const nativeDefine = window.customElements.define;\n  const nativeGet = window.customElements.get;\n  const nativeRegistry = window.customElements;\n\n  const definitionForElement = new WeakMap();\n  const pendingRegistryForElement = new WeakMap();\n  const globalDefinitionForConstructor = new WeakMap();\n  // TBD: This part of the spec proposal is unclear:\n  // > Another option for looking up registries is to store an element's\n  // > originating registry with the element. The Chrome DOM team was concerned\n  // > about the small additional memory overhead on all elements. Looking up the\n  // > root avoids this.\n  const scopeForElement = new WeakMap();\n\n  // Constructable CE registry class, which uses the native CE registry to\n  // register stand-in elements that can delegate out to CE classes registered\n  // in scoped registries\n  window.CustomElementRegistry = class {\n    constructor() {\n      this._definitionsByTag = new Map();\n      this._definitionsByClass = new Map();\n      this._whenDefinedPromises = new Map();\n      this._awaitingUpgrade = new Map();\n    }\n\n    define(tagName, elementClass) {\n      tagName = tagName.toLowerCase();\n      if (this._getDefinition(tagName) !== undefined) {\n        throw new DOMException(\n          `Failed to execute 'define' on 'CustomElementRegistry': the name \"${tagName}\" has already been used with this registry`\n        );\n      }\n      if (this._definitionsByClass.get(elementClass) !== undefined) {\n        throw new DOMException(\n          `Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry`\n        );\n      }\n      // Since observedAttributes can't change, we approximate it by patching\n      // set/removeAttribute on the user's class\n      const attributeChangedCallback =\n        elementClass.prototype.attributeChangedCallback;\n      const observedAttributes = new Set(elementClass.observedAttributes || []);\n      patchAttributes(\n        elementClass,\n        observedAttributes,\n        attributeChangedCallback\n      );\n      // Register the definition\n      const definition = {\n        elementClass,\n        connectedCallback: elementClass.prototype.connectedCallback,\n        disconnectedCallback: elementClass.prototype.disconnectedCallback,\n        adoptedCallback: elementClass.prototype.adoptedCallback,\n        attributeChangedCallback,\n        'formAssociated': elementClass['formAssociated'],\n        'formAssociatedCallback':\n          elementClass.prototype['formAssociatedCallback'],\n        'formDisabledCallback': elementClass.prototype['formDisabledCallback'],\n        'formResetCallback': elementClass.prototype['formResetCallback'],\n        'formStateRestoreCallback':\n          elementClass.prototype['formStateRestoreCallback'],\n        observedAttributes,\n      };\n      this._definitionsByTag.set(tagName, definition);\n      this._definitionsByClass.set(elementClass, definition);\n      // Register a stand-in class which will handle the registry lookup & delegation\n      let standInClass = nativeGet.call(nativeRegistry, tagName);\n      if (!standInClass) {\n        standInClass = createStandInElement(tagName);\n        nativeDefine.call(nativeRegistry, tagName, standInClass);\n      }\n      if (this === window.customElements) {\n        globalDefinitionForConstructor.set(elementClass, definition);\n        definition.standInClass = standInClass;\n      }\n      // Upgrade any elements created in this scope before define was called\n      const awaiting = this._awaitingUpgrade.get(tagName);\n      if (awaiting) {\n        this._awaitingUpgrade.delete(tagName);\n        for (const element of awaiting) {\n          pendingRegistryForElement.delete(element);\n          customize(element, definition, true);\n        }\n      }\n      // Flush whenDefined callbacks\n      const info = this._whenDefinedPromises.get(tagName);\n      if (info !== undefined) {\n        info.resolve(elementClass);\n        this._whenDefinedPromises.delete(tagName);\n      }\n      return elementClass;\n    }\n\n    upgrade() {\n      creationContext.push(this);\n      nativeRegistry.upgrade.apply(nativeRegistry, arguments);\n      creationContext.pop();\n    }\n\n    get(tagName) {\n      const definition = this._definitionsByTag.get(tagName);\n      return definition?.elementClass;\n    }\n\n    _getDefinition(tagName) {\n      return this._definitionsByTag.get(tagName);\n    }\n\n    whenDefined(tagName) {\n      const definition = this._getDefinition(tagName);\n      if (definition !== undefined) {\n        return Promise.resolve(definition.elementClass);\n      }\n      let info = this._whenDefinedPromises.get(tagName);\n      if (info === undefined) {\n        info = {};\n        info.promise = new Promise((r) => (info.resolve = r));\n        this._whenDefinedPromises.set(tagName, info);\n      }\n      return info.promise;\n    }\n\n    _upgradeWhenDefined(element, tagName, shouldUpgrade) {\n      let awaiting = this._awaitingUpgrade.get(tagName);\n      if (!awaiting) {\n        this._awaitingUpgrade.set(tagName, (awaiting = new Set()));\n      }\n      if (shouldUpgrade) {\n        awaiting.add(element);\n      } else {\n        awaiting.delete(element);\n      }\n    }\n  };\n\n  // User extends this HTMLElement, which returns the CE being upgraded\n  let upgradingInstance;\n  window.HTMLElement = function HTMLElement() {\n    // Upgrading case: the StandInElement constructor was run by the browser's\n    // native custom elements and we're in the process of running the\n    // \"constructor-call trick\" on the natively constructed instance, so just\n    // return that here\n    let instance = upgradingInstance;\n    if (instance) {\n      upgradingInstance = undefined;\n      return instance;\n    }\n    // Construction case: we need to construct the StandInElement and return\n    // it; note the current spec proposal only allows new'ing the constructor\n    // of elements registered with the global registry\n    const definition = globalDefinitionForConstructor.get(this.constructor);\n    if (!definition) {\n      throw new TypeError(\n        'Illegal constructor (custom element class must be registered with global customElements registry to be newable)'\n      );\n    }\n    instance = Reflect.construct(\n      NativeHTMLElement,\n      [],\n      definition.standInClass\n    );\n    Object.setPrototypeOf(instance, this.constructor.prototype);\n    definitionForElement.set(instance, definition);\n    return instance;\n  };\n  window.HTMLElement.prototype = NativeHTMLElement.prototype;\n\n  // Helpers to return the scope for a node where its registry would be located\n  const isValidScope = (node) =>\n    node === document || node instanceof ShadowRoot;\n  const registryForNode = (node) => {\n    // TODO: the algorithm for finding the scope is a bit up in the air; assigning\n    // a one-time scope at creation time would require walking every tree ever\n    // created, which is avoided for now\n    let scope = node.getRootNode();\n    // If we're not attached to the document (i.e. in a disconnected tree or\n    // fragment), we need to get the scope from the creation context; that should\n    // be a Document or ShadowRoot, unless it was created via innerHTML\n    if (!isValidScope(scope)) {\n      const context = creationContext[creationContext.length - 1];\n      // When upgrading via registry.upgrade(), the registry itself is put on the\n      // creationContext stack\n      if (context instanceof CustomElementRegistry) {\n        return context;\n      }\n      // Otherwise, get the root node of the element this was created from\n      scope = context.getRootNode();\n      // The creation context wasn't a Document or ShadowRoot or in one; this\n      // means we're being innerHTML'ed into a disconnected element; for now, we\n      // hope that root node was created imperatively, where we stash _its_\n      // scopeForElement. Beyond that, we'd need more costly tracking.\n      if (!isValidScope(scope)) {\n        scope = scopeForElement.get(scope)?.getRootNode() || document;\n      }\n    }\n    return scope.customElements;\n  };\n\n  // Helper to create stand-in element for each tagName registered that delegates\n  // out to the registry for the given element\n  const createStandInElement = (tagName) => {\n    return class ScopedCustomElementBase {\n      static get ['formAssociated']() {\n        return true;\n      }\n      constructor() {\n        // Create a raw HTMLElement first\n        const instance = Reflect.construct(\n          NativeHTMLElement,\n          [],\n          this.constructor\n        );\n        // We need to install the minimum HTMLElement prototype so that\n        // scopeForNode can use DOM API to determine our construction scope;\n        // upgrade will eventually install the full CE prototype\n        Object.setPrototypeOf(instance, HTMLElement.prototype);\n        // Get the node's scope, and its registry (falls back to global registry)\n        const registry = registryForNode(instance) || window.customElements;\n        const definition = registry._getDefinition(tagName);\n        if (definition) {\n          customize(instance, definition);\n        } else {\n          pendingRegistryForElement.set(instance, registry);\n        }\n        return instance;\n      }\n\n      connectedCallback() {\n        const definition = definitionForElement.get(this);\n        if (definition) {\n          // Delegate out to user callback\n          definition.connectedCallback &&\n            definition.connectedCallback.apply(this, arguments);\n        } else {\n          // Register for upgrade when defined (only when connected, so we don't leak)\n          pendingRegistryForElement\n            .get(this)\n            ._upgradeWhenDefined(this, tagName, true);\n        }\n      }\n\n      disconnectedCallback() {\n        const definition = definitionForElement.get(this);\n        if (definition) {\n          // Delegate out to user callback\n          definition.disconnectedCallback &&\n            definition.disconnectedCallback.apply(this, arguments);\n        } else {\n          // Un-register for upgrade when defined (so we don't leak)\n          pendingRegistryForElement\n            .get(this)\n            ._upgradeWhenDefined(this, tagName, false);\n        }\n      }\n\n      adoptedCallback() {\n        const definition = definitionForElement.get(this);\n        definition?.adoptedCallback?.apply(this, arguments);\n      }\n\n      // Form-associated custom elements lifecycle methods\n      ['formAssociatedCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition && definition['formAssociated']) {\n          definition?.['formAssociatedCallback']?.apply(this, arguments);\n        }\n      }\n\n      ['formDisabledCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition?.['formAssociated']) {\n          definition?.['formDisabledCallback']?.apply(this, arguments);\n        }\n      }\n\n      ['formResetCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition?.['formAssociated']) {\n          definition?.['formResetCallback']?.apply(this, arguments);\n        }\n      }\n\n      ['formStateRestoreCallback']() {\n        const definition = definitionForElement.get(this);\n        if (definition?.['formAssociated']) {\n          definition?.['formStateRestoreCallback']?.apply(this, arguments);\n        }\n      }\n\n      // no attributeChangedCallback or observedAttributes since these\n      // are simulated via setAttribute/removeAttribute patches\n    };\n  };\n\n  // Helper to patch CE class setAttribute/getAttribute to implement\n  // attributeChangedCallback\n  const patchAttributes = (\n    elementClass,\n    observedAttributes,\n    attributeChangedCallback\n  ) => {\n    if (\n      observedAttributes.size === 0 ||\n      attributeChangedCallback === undefined\n    ) {\n      return;\n    }\n    const setAttribute = elementClass.prototype.setAttribute;\n    if (setAttribute) {\n      elementClass.prototype.setAttribute = function (n, value) {\n        const name = n.toLowerCase();\n        if (observedAttributes.has(name)) {\n          const old = this.getAttribute(name);\n          setAttribute.call(this, name, value);\n          attributeChangedCallback.call(this, name, old, value);\n        } else {\n          setAttribute.call(this, name, value);\n        }\n      };\n    }\n    const removeAttribute = elementClass.prototype.removeAttribute;\n    if (removeAttribute) {\n      elementClass.prototype.removeAttribute = function (n) {\n        const name = n.toLowerCase();\n        if (observedAttributes.has(name)) {\n          const old = this.getAttribute(name);\n          removeAttribute.call(this, name);\n          attributeChangedCallback.call(this, name, old, null);\n        } else {\n          removeAttribute.call(this, name);\n        }\n      };\n    }\n  };\n\n  // Helper to patch CE class hierarchy changing those CE classes created before applying the polyfill\n  // to make them work with the new patched CustomElementsRegistry\n  const patchHTMLElement = (elementClass) => {\n    const parentClass = Object.getPrototypeOf(elementClass);\n\n    if (parentClass !== window.HTMLElement) {\n      if (parentClass === NativeHTMLElement) {\n        return Object.setPrototypeOf(elementClass, window.HTMLElement);\n      }\n\n      return patchHTMLElement(parentClass);\n    }\n  };\n\n  // Helper to upgrade an instance with a CE definition using \"constructor call trick\"\n  const customize = (instance, definition, isUpgrade = false) => {\n    Object.setPrototypeOf(instance, definition.elementClass.prototype);\n    definitionForElement.set(instance, definition);\n    upgradingInstance = instance;\n    try {\n      new definition.elementClass();\n    } catch (_) {\n      patchHTMLElement(definition.elementClass);\n      new definition.elementClass();\n    }\n    // Approximate observedAttributes from the user class, since the stand-in element had none\n    definition.observedAttributes.forEach((attr) => {\n      if (instance.hasAttribute(attr)) {\n        definition.attributeChangedCallback.call(\n          instance,\n          attr,\n          null,\n          instance.getAttribute(attr)\n        );\n      }\n    });\n    if (isUpgrade && definition.connectedCallback && instance.isConnected) {\n      definition.connectedCallback.call(instance);\n    }\n  };\n\n  // Patch attachShadow to set customElements on shadowRoot when provided\n  const nativeAttachShadow = Element.prototype.attachShadow;\n  Element.prototype.attachShadow = function (init) {\n    const shadowRoot = nativeAttachShadow.apply(this, arguments);\n    if (init.customElements) {\n      shadowRoot.customElements = init.customElements;\n    }\n    return shadowRoot;\n  };\n\n  // Install scoped creation API on Element & ShadowRoot\n  let creationContext = [document];\n  const installScopedCreationMethod = (ctor, method, from = undefined) => {\n    const native = (from ? Object.getPrototypeOf(from) : ctor.prototype)[\n      method\n    ];\n    ctor.prototype[method] = function () {\n      creationContext.push(this);\n      const ret = native.apply(from || this, arguments);\n      // For disconnected elements, note their creation scope so that e.g.\n      // innerHTML into them will use the correct scope; note that\n      // insertAdjacentHTML doesn't return an element, but that's fine since\n      // it will have a parent that should have a scope\n      if (ret !== undefined) {\n        scopeForElement.set(ret, this);\n      }\n      creationContext.pop();\n      return ret;\n    };\n  };\n  installScopedCreationMethod(ShadowRoot, 'createElement', document);\n  installScopedCreationMethod(ShadowRoot, 'importNode', document);\n  installScopedCreationMethod(Element, 'insertAdjacentHTML');\n\n  // Install scoped innerHTML on Element & ShadowRoot\n  const installScopedCreationSetter = (ctor, name) => {\n    const descriptor = Object.getOwnPropertyDescriptor(ctor.prototype, name);\n    Object.defineProperty(ctor.prototype, name, {\n      ...descriptor,\n      set(value) {\n        creationContext.push(this);\n        descriptor.set.call(this, value);\n        creationContext.pop();\n      },\n    });\n  };\n  installScopedCreationSetter(Element, 'innerHTML');\n  installScopedCreationSetter(ShadowRoot, 'innerHTML');\n\n  // Install global registry\n  Object.defineProperty(window, 'customElements', {\n    value: new CustomElementRegistry(),\n    configurable: true,\n    writable: true,\n  });\n\n  if (\n    !!window['ElementInternals'] &&\n    !!window['ElementInternals'].prototype['setFormValue']\n  ) {\n    const internalsToHostMap = new WeakMap();\n    const attachInternals = HTMLElement.prototype['attachInternals'];\n    const methods = [\n      'setFormValue',\n      'setValidity',\n      'checkValidity',\n      'reportValidity',\n    ];\n\n    HTMLElement.prototype['attachInternals'] = function (...args) {\n      const internals = attachInternals.call(this, ...args);\n      internalsToHostMap.set(internals, this);\n      return internals;\n    };\n\n    methods.forEach((method) => {\n      const proto = window['ElementInternals'].prototype;\n      const originalMethod = proto[method];\n\n      proto[method] = function (...args) {\n        const host = internalsToHostMap.get(this);\n        const definition = definitionForElement.get(host);\n        if (definition['formAssociated'] === true) {\n          originalMethod?.call(this, ...args);\n        } else {\n          throw new DOMException(\n            `Failed to execute ${originalMethod} on 'ElementInternals': The target element is not a form-associated custom element.`\n          );\n        }\n      };\n    });\n\n    // Emulate the native RadioNodeList object\n    class RadioNodeList extends Array {\n      constructor(elements) {\n        super(...elements);\n        this._elements = elements;\n      }\n\n      get ['value']() {\n        return (\n          this._elements.find((element) => element['checked'] === true)\n            ?.value || ''\n        );\n      }\n    }\n\n    // Emulate the native HTMLFormControlsCollection object\n    class HTMLFormControlsCollection {\n      constructor(elements) {\n        const entries = new Map();\n        elements.forEach((element, index) => {\n          const name = element.getAttribute('name');\n          const nameReference = entries.get(name) || [];\n          this[+index] = element;\n          nameReference.push(element);\n          entries.set(name, nameReference);\n        });\n        this['length'] = elements.length;\n        entries.forEach((value, key) => {\n          if (!value) return;\n          if (value.length === 1) {\n            this[key] = value[0];\n          } else {\n            this[key] = new RadioNodeList(value);\n          }\n        });\n      }\n\n      ['namedItem'](key) {\n        return this[key];\n      }\n    }\n\n    // Override the built-in HTMLFormElements.prototype.elements getter\n    const formElementsDescriptor = Object.getOwnPropertyDescriptor(\n      HTMLFormElement.prototype,\n      'elements'\n    );\n\n    Object.defineProperty(HTMLFormElement.prototype, 'elements', {\n      get: function () {\n        const nativeElements = formElementsDescriptor.get.call(this, []);\n\n        const include = [];\n\n        for (const element of nativeElements) {\n          const definition = definitionForElement.get(element);\n\n          // Only purposefully formAssociated elements or built-ins will feature in elements\n          if (!definition || definition['formAssociated'] === true) {\n            include.push(element);\n          }\n        }\n\n        return new HTMLFormControlsCollection(include);\n      },\n    });\n  }\n}\n"]}