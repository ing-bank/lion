import{L as e}from"./4cc99b59.js";import{P as t}from"./a06c5caf.js";import{f as r,l as i}from"./9a16257f.js";import{P as s}from"./c85cfbca.js";import{L as o}from"./4a239ef1.js";import{U as a}from"./7902d8e0.js";const n=e=>{switch(e){case"bg-BG":return import("./b0433c1a.js");case"bg":return import("./82e8071d.js");case"cs-CZ":return import("./727a91ed.js");case"cs":return import("./c441617b.js");case"de-DE":return import("./526535ac.js");case"de":return import("./55c3bb96.js");case"en-AU":return import("./5715bcde.js");case"en-GB":return import("./ab8a1813.js");case"en-US":return import("./2bf7ba5a.js");case"en-PH":case"en":default:return import("./34d8168f.js");case"es-ES":return import("./de1d1c88.js");case"es":return import("./1676f947.js");case"fr-FR":return import("./f0c43ab8.js");case"fr-BE":return import("./2b127836.js");case"fr":return import("./388b3363.js");case"hu-HU":return import("./519d66f2.js");case"hu":return import("./f00d6f59.js");case"it-IT":return import("./41da34ed.js");case"it":return import("./4f8800cb.js");case"nl-BE":return import("./0322af81.js");case"nl-NL":return import("./008c79d2.js");case"nl":return import("./e0e30675.js");case"pl-PL":return import("./fbc3c0c9.js");case"pl":return import("./8ca24d23.js");case"ro-RO":return import("./6d19fd74.js");case"ro":return import("./1896077a.js");case"ru-RU":return import("./77fbfc2d.js");case"ru":return import("./326377ea.js");case"sk-SK":return import("./a351c794.js");case"sk":return import("./17de10c5.js");case"uk-UA":return import("./aaf24c90.js");case"uk":return import("./13f9ea2a.js");case"zh-CN":case"zh":return import("./19c42580.js")}};class c extends(e(o)){static properties={allowedRegions:{type:Array},formatStrategy:{type:String,attribute:"format-strategy"},formatCountryCodeStyle:{type:String,attribute:"format-country-code-style"},activeRegion:{type:String},preferredRegions:{type:Array},_phoneUtil:{type:Object,state:!0}};static localizeNamespaces=[{"lion-input-tel":n},...super.localizeNamespaces];get activeRegion(){return this.__activeRegion}set activeRegion(e){}get activePhoneNumberType(){let e;try{e=this._phoneUtil&&this._phoneUtil.parsePhoneNumber(this.modelValue,{regionCode:this.activeRegion})}catch(e){}return e?.type||"unknown"}set activePhoneNumberType(e){}_setActiveRegion(e){const t=this.activeRegion;this.__activeRegion=e,this.requestUpdate("activeRegion",t)}get _allowedOrAllRegions(){return(this.allowedRegions?.length?this.allowedRegions:this._phoneUtil?.getSupportedRegionCodes())||[]}get _phoneUtilLoadComplete(){return t.loadComplete}get fieldName(){return this._localizeManager.msg("lion-input-tel:phoneNumber")}constructor(){super(),this.formatStrategy="international",this.formatCountryCodeStyle="default",this.allowedRegions=[],this.preferredRegions=[],this.__isPhoneNumberValidatorInstance=new s,this.defaultValidators.push(this.__isPhoneNumberValidatorInstance),this._phoneUtil=t.isLoaded?t.PhoneUtil:null,t.isLoaded||t.loadComplete.then(()=>{this._onPhoneNumberUtilReady()})}firstUpdated(e){super.firstUpdated(e),this._inputNode.inputMode="tel"}updated(e){super.updated(e),e.has("activeRegion")&&(this.__isUpdatingRegionWhileFocused=this.focused,this._calculateValues({source:null}),this.__isUpdatingRegionWhileFocused=!1,this.__isPhoneNumberValidatorInstance.param=this.activeRegion,this.formatOptions.regionCode=this.activeRegion),e.has("formatStrategy")&&(this._calculateValues({source:null}),this.formatOptions.formatStrategy=this.formatStrategy),e.has("formatCountryCodeStyle")&&(this._calculateValues({source:null}),this.formatOptions.formatCountryCodeStyle=this.formatCountryCodeStyle),(e.has("modelValue")||e.has("allowedRegions"))&&this.__calculateActiveRegion()}onLocaleUpdated(){super.onLocaleUpdated();const e=this._localizeManager.locale.split("-");this._langIso=e[e.length-1].toUpperCase(),this.__calculateActiveRegion()}formatter(e){return r(e,{regionCode:this.activeRegion,formatStrategy:this.formatStrategy,formatCountryCodeStyle:this.formatCountryCodeStyle})}parser(e){return function(e,{regionCode:r}){if(!t.isLoaded)return e;const i=t.PhoneUtil,s=e.match(/[+0-9]+/gi)?.join("");let o;try{o=i.parsePhoneNumber(s,{regionCode:r})}catch(e){}return o?.number?o.number.e164:e}(e,{regionCode:this.activeRegion})}preprocessor(e,{currentCaretIndex:t,prevViewValue:r}){return i(e,{regionCode:this.activeRegion,formatStrategy:this.formatStrategy,formatCountryCodeStyle:this.formatCountryCodeStyle,currentCaretIndex:t,prevViewValue:r})}_reflectBackOn(){return!this.__isUpdatingRegionWhileFocused&&super._reflectBackOn()}_onPhoneNumberUtilReady(){this._phoneUtil=t.PhoneUtil,this._calculateValues({source:null}),this.__calculateActiveRegion()}__calculateActiveRegion(){if(1===this.allowedRegions?.length)return void this._setActiveRegion(this.allowedRegions[0]);const e=this.modelValue instanceof a?this.value.match(/[+0-9]+/gi)?.join(""):this.modelValue,t=e&&this._phoneUtil&&this._phoneUtil.parsePhoneNumber(e).regionCode;t&&this._allowedOrAllRegions.includes(t)?this._setActiveRegion(t):this.preferredRegions?.length>0?this._setActiveRegion(this.preferredRegions[0]):this._langIso&&this._allowedOrAllRegions.includes(this._langIso)?this._setActiveRegion(this._langIso):this._setActiveRegion(void 0)}}export{c as L};
